var app=function(){"use strict";function t(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(n){if("default"!==n&&!(n in t)){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}))})),Object.freeze(t)}function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t){let e;return l(t,(t=>e=t))(),e}function c(t,e,n){t.$$.on_destroy.push(l(e,n))}function f(t,e,n,r){if(t){const o=h(t,e,n,r);return t[0](o)}}function h(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function d(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function p(t,e,n,r,o,i){if(o){const s=h(e,n,r,i);t.p(s,o)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function y(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function v(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function E(){return x(" ")}function O(){return x("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:A(t,r,e[r])}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function P(t,e){t.value=null==e?"":e}function T(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function C(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}let j;function I(t){j=t}function R(){if(!j)throw new Error("Function called outside component initialization");return j}function L(t){R().$$.on_mount.push(t)}function q(){const t=R();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function $(t,e){R().$$.context.set(t,e)}function D(t){return R().$$.context.get(t)}const B=[],F=[],U=[],H=[],Y=Promise.resolve();let z=!1;function V(){z||(z=!0,Y.then(J))}function G(t){U.push(t)}function W(t){H.push(t)}const K=new Set;let Z=0;function J(){const t=j;do{for(;Z<B.length;){const t=B[Z];Z++,I(t),X(t.$$)}for(I(null),B.length=0,Z=0;F.length;)F.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];K.has(e)||(K.add(e),e())}U.length=0}while(B.length);for(;H.length;)H.pop()();z=!1,K.clear(),I(t)}function X(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const Q=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||i(tt.c),tt=tt.p}function rt(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function ot(t,e,n,r){if(t&&t.o){if(Q.has(t))return;Q.add(t),tt.c.push((()=>{Q.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function it(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function st(t){return"object"==typeof t&&null!==t?t:{}}function at(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function lt(t){t&&t.c()}function ut(t,e,n,o){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,n),o||G((()=>{const e=l.map(r).filter(s);u?u.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(G)}function ct(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,n,r,s,a,l,u,c=[-1]){const f=j;I(t);const h=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:c,skip_bound:!1,root:n.target||f.$$.root};u&&u(h.root);let d=!1;if(h.ctx=r?r(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),d&&function(t,e){-1===t.$$.dirty[0]&&(B.push(t),V(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],h.update(),d=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(w)}else h.fragment&&h.fragment.c();n.intro&&rt(t.$$.fragment),ut(t,n.target,n.anchor,n.customElement),J()}I(f)}class ht{$destroy(){ct(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const dt=t=>void 0===t,pt=t=>"function"==typeof t,mt=t=>"number"==typeof t;function gt(){let t=0;return()=>t++}const yt="undefined"==typeof window;function vt(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const bt=[];function wt(t,n=e){let r;const o=new Set;function i(e){if(a(t,e)&&(t=e,r)){const e=!bt.length;for(const e of o)e[1](),bt.push(e,t);if(e){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=e){const l=[s,a];return o.add(l),1===o.size&&(r=n(i)||e),s(t),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}function _t(t,n,r){const o=!Array.isArray(t),a=o?[t]:t,u=n.length<2;return c=t=>{let r=!1;const c=[];let f=0,h=e;const d=()=>{if(f)return;h();const r=n(o?c[0]:c,t);u?t(r):h=s(r)?r:e},p=a.map(((t,e)=>l(t,(t=>{c[e]=t,f&=~(1<<e),r&&d()}),(()=>{f|=1<<e}))));return r=!0,d(),function(){i(p),h()}},{subscribe:wt(r,c).subscribe};var c}const kt=t=>`@@svnav-ctx__${t}`,xt=kt("LOCATION"),Et=kt("ROUTER"),Ot=kt("ROUTE"),Nt=kt("ROUTE_PARAMS"),At=kt("FOCUS_ELEM"),St=/^:(.+)/,Mt=(t,e)=>t.substr(0,e.length)===e,Pt=t=>"*"===t[0],Tt=t=>t.replace(/(^\/+|\/+$)/g,"");function Ct(t,e=!1){const n=Tt(t).split("/");return e?n.filter(Boolean):n}const jt=(t,e)=>t+(e?`?${e}`:""),It=t=>`/${Tt(t)}`;function Rt(...t){const e=t.map((t=>Ct(t,!0).join("/"))).join("/");return It(e)}const Lt={1:"Link",2:"Route",3:"Router",4:"useFocus",5:"useLocation",6:"useMatch",7:"useNavigate",8:"useParams",9:"useResolvable",10:"useResolve",11:"navigate"},qt=t=>Lt[t];function $t(t,e,n,r){const o=n&&function(t,e){let n;return 2===t?n=e.path?`path="${e.path}"`:"default":1===t?n=`to="${e.to}"`:3===t&&(n=`basepath="${e.basepath||""}"`),`<${qt(t)} ${n||""} />`}(r||t,n),i=o?`\n\nOccurred in: ${o}`:"",s=qt(t);return`<${s}> ${pt(e)?e(s):e}${i}`}const Dt=t=>(...e)=>t($t(...e)),Bt=Dt((t=>{throw new Error(t)})),Ft=Dt(console.warn);function Ut(t,e){return{route:t,score:t.default?0:Ct(t.fullPath).reduce(((t,e)=>{let n=t;return n+=4,(t=>""===t)(e)?n+=1:(t=>St.test(t))(e)?n+=2:Pt(e)?n-=5:n+=3,n}),0),index:e}}function Ht(t,e){let n,r;const[o]=e.split("?"),i=Ct(o),s=""===i[0],a=function(t){return t.map(Ut).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,o=a.length;t<o;t++){const{route:o}=a[t];let l=!1;const u={},c=t=>({...o,params:u,uri:t});if(o.default){r=c(e);continue}const f=Ct(o.fullPath),h=Math.max(i.length,f.length);let d=0;for(;d<h;d++){const t=f[d],e=i[d];if(!dt(t)&&Pt(t)){const e="*"===t?"*":t.slice(1);u[e]=i.slice(d).map(decodeURIComponent).join("/");break}if(dt(e)){l=!0;break}const n=St.exec(t);if(n&&!s){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){l=!0;break}}if(!l){n=c(Rt(...i.slice(0,d)));break}}return n||r||null}function Yt(t,e){return Ht([t],e)}function zt(t,e){const{pathname:n,hash:r="",search:o="",state:i}=t,s=Ct(e,!0),a=Ct(n,!0);for(;s.length;)s[0]!==a[0]&&Bt(3,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),s.shift(),a.shift();return{pathname:Rt(...a),hash:r,search:o,state:i}}const Vt=t=>1===t.length?"":t;function Gt(t){const e=t.indexOf("?"),n=t.indexOf("#"),r=-1!==e,o=-1!==n,i=o?Vt(t.substr(n)):"",s=o?t.substr(0,n):t,a=r?Vt(s.substr(e)):"";return{pathname:r?s.substr(0,e):s,search:a,hash:i}}function Wt(t,e,n){return Rt(n,function(t,e){if(Mt(t,"/"))return t;const[n,r]=t.split("?"),[o]=e.split("?"),i=Ct(n),s=Ct(o);if(""===i[0])return jt(o,r);if(!Mt(i[0],".")){const t=s.concat(i).join("/");return jt(("/"===o?"":"/")+t,r)}const a=s.concat(i),l=[];return a.forEach((t=>{".."===t?l.pop():"."!==t&&l.push(t)})),jt(`/${l.join("/")}`,r)}(t,e))}function Kt(t,e){const n=It(t.replace(/\*.*$/,""));const r=Ct(n,!0),o=Yt({fullPath:n},Rt(...Ct(e,!0).slice(0,r.length)));return o&&o.uri}const Zt="POP";function Jt(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function Xt(t,e){return{...Gt(e),state:t}}const Qt=!(yt||!window.document||!window.document.createElement),te=!yt&&"null"===window.location.origin,ee=function(t){let e=[],n=Jt(t),r=Zt;const o=(t=e)=>t.forEach((t=>t({location:n,action:r})));return{get location(){return n},listen(i){e.push(i);o([i]);const s=vt(t,"popstate",(()=>{n=Jt(t),r=Zt,o([i])}));return()=>{s(),e=e.filter((t=>t!==i))}},navigate(e,i){const{state:s={},replace:a=!1}=i||{};if(r=a?"REPLACE":"PUSH",mt(e))i&&Ft(11,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),r=Zt,t.history.go(e);else{const n={...s,_key:Math.random().toString(36).substring(2)};try{t.history[a?"replaceState":"pushState"](n,"",e)}catch(n){t.location[a?"replace":"assign"](e)}}n=Jt(t),o()}}}(Qt&&!te?window:function(t="/"){let e=0,n=[Xt(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(t,r,o){e++,n=n.slice(0,e),n.push(Xt(t,o))},replaceState(t,r,o){n[e]=Xt(t,o)},go(t){const r=e+t;r<0||r>n.length-1||(e=r)}}}}());let ne=null,re=!0;function oe(t){(!ne||t.level>ne.level||t.level===ne.level&&function(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let r=0;r<n.length;r++){const o=n[r],i=Number(o.dataset.svnavRouter);if(i===t)return!0;if(i===e)return!1}return!1}(t.routerId,ne.routerId))&&(ne=t)}function ie(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){let n;t.setAttribute(e,"-1");const r=()=>{t.removeAttribute(e),n()};n=vt(t,"blur",r)}return t.focus(),document.activeElement===t}catch(t){return!1}}function se(t,e){return Number(t.dataset.svnavRouteEnd)===e}function ae(t,e=document){return e.querySelector(t)}function le(t){Promise.resolve(u(t.focusElement)).then((e=>{const n=e||function(t){let e=ae(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!se(e,t);){if(/^H[1-6]$/i.test(e.tagName))return e;const t=ae("h1,h2,h3,h4,h5,h6",e);if(t)return t;e=e.nextElementSibling}return null}(t.id);n||Ft(3,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',t,2);ie(n)||ie(document.documentElement)}))}const ue=(t,e,n)=>(r,o)=>(V(),Y).then((()=>{if(ne&&!re){if(r&&le(ne.route),t.announcements&&o){const{path:r,fullPath:o,meta:i,params:s,uri:a}=ne.route,l=t.createAnnouncement({path:r,fullPath:o,meta:i,params:s,uri:a},u(n));Promise.resolve(l).then((t=>{e.set(t)}))}ne=null}else re=!1}));function ce(t){let e,n,r,o,i;const s=t[20].default,a=f(s,t,t[19],null);let l=t[2]&&t[4]&&t[1].announcements&&function(t){let e,n;return{c(){e=k("div"),n=x(t[0]),A(e,"role","status"),A(e,"aria-atomic","true"),A(e,"aria-live","polite"),A(e,"style","position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;")},m(t,r){b(t,e,r),v(e,n)},p(t,e){1&e[0]&&M(n,t[0])},d(t){t&&w(e)}}}(t);return{c(){e=k("div"),n=E(),a&&a.c(),r=E(),l&&l.c(),o=O(),T(e,"display","none"),A(e,"aria-hidden","true"),A(e,"data-svnav-router",t[3])},m(t,s){b(t,e,s),b(t,n,s),a&&a.m(t,s),b(t,r,s),l&&l.m(t,s),b(t,o,s),i=!0},p(t,e){a&&a.p&&(!i||524288&e[0])&&p(a,s,t,t[19],i?d(s,t[19],e,null):m(t[19]),null),t[2]&&t[4]&&t[1].announcements&&l.p(t,e)},i(t){i||(rt(a,t),i=!0)},o(t){ot(a,t),i=!1},d(t){t&&w(e),t&&w(n),a&&a.d(t),t&&w(r),l&&l.d(t),t&&w(o)}}}const fe=gt(),he="/";function de(t,e,n){let r,o,i,s,a,{$$slots:l={},$$scope:u}=e,{basepath:f=he}=e,{url:h=null}=e,{history:d=ee}=e,{primary:p=!0}=e,{a11y:m={}}=e;const g={createAnnouncement:t=>`Navigated to ${t.uri}`,announcements:!0,...m},y=f,v=It(f),b=D(xt),w=D(Et),_=!b,k=fe(),x=p&&!(w&&!w.manageFocus),E=wt("");c(t,E,(t=>n(0,a=t)));const O=wt([]);c(t,O,(t=>n(18,s=t)));const N=wt(null);c(t,N,(t=>n(16,o=t)));let A=!1;const S=_?0:w.level+1,M=_?wt(zt(yt?Gt(h):d.location,v)):b;c(t,M,(t=>n(15,r=t)));const P=wt(r);c(t,P,(t=>n(17,i=t)));const T=ue(g,E,M),C=t=>e=>e.filter((e=>e.id!==t));return _||f===he||Ft(3,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:f}),_&&(L((()=>d.listen((t=>{const e=zt(t.location,v);P.set(r),M.set(e)})))),$(xt,M)),$(Et,{activeRoute:N,registerRoute:function(t){if(yt){if(A)return;const e=Yt(t,r.pathname);if(e)return A=!0,e}else O.update((e=>{const n=C(t.id)(e);return n.push(t),n}))},unregisterRoute:function(t){O.update(C(t))},manageFocus:x,level:S,id:k,history:_?d:w.history,basepath:_?v:w.basepath}),t.$$set=t=>{"basepath"in t&&n(10,f=t.basepath),"url"in t&&n(11,h=t.url),"history"in t&&n(12,d=t.history),"primary"in t&&n(13,p=t.primary),"a11y"in t&&n(14,m=t.a11y),"$$scope"in t&&n(19,u=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&f!==y&&Ft(3,'You cannot change the "basepath" prop. It is ignored.'),294912&t.$$.dirty[0]){const t=Ht(s,r.pathname);N.set(t)}if(163840&t.$$.dirty[0]&&_){const t=!!r.hash,e=!t&&x,n=!t||r.pathname!==i.pathname;T(e,n)}65536&t.$$.dirty[0]&&x&&o&&o.primary&&oe({level:S,routerId:k,route:o})},[a,g,_,k,x,E,O,N,M,P,f,h,d,p,m,r,o,i,s,u,l]}var pe=class extends ht{constructor(t){super(),ft(this,t,de,ce,a,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}};function me(t,e,n=Et,r=3){D(n)||Bt(t,(t=>`You cannot use ${t} outside of a ${qt(r)}.`),e)}function ge(){return me(5),(t=>{const{subscribe:e}=D(t);return{subscribe:e}})(xt)}function ye(){const{history:t}=D(Et);return t}function ve(){const t=D(Ot);return t?_t(t,(t=>t.base)):wt("/")}function be(){me(10);const t=ve(),{basepath:e}=D(Et);return n=>Wt(n,u(t),e)}const we=t=>({params:16&t,location:8&t}),_e=t=>({params:yt?u(t[9]):t[4],location:t[3],navigate:t[10]});function ke(t){let e,n;return e=new pe({props:{primary:t[1],$$slots:{default:[Oe]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.primary=t[1]),264217&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function xe(t){let e;const n=t[17].default,r=f(n,t,t[18],_e);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,o){r&&r.p&&(!e||262168&o)&&p(r,n,t,t[18],e?d(n,t[18],o,we):m(t[18]),_e)},i(t){e||(rt(r,t),e=!0)},o(t){ot(r,t),e=!1},d(t){r&&r.d(t)}}}function Ee(t){let e,r,o;const i=[{location:t[3]},{navigate:t[10]},yt?u(t[9]):t[4],t[11]];var s=t[0];function a(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return s&&(e=new s(a())),{c(){e&&lt(e.$$.fragment),r=O()},m(t,n){e&&ut(e,t,n),b(t,r,n),o=!0},p(t,n){const o=3608&n?it(i,[8&n&&{location:t[3]},1024&n&&{navigate:t[10]},528&n&&st(yt?u(t[9]):t[4]),2048&n&&st(t[11])]):{};if(s!==(s=t[0])){if(e){et();const t=e;ot(t.$$.fragment,1,0,(()=>{ct(t,1)})),nt()}s?(e=new s(a()),lt(e.$$.fragment),rt(e.$$.fragment,1),ut(e,r.parentNode,r)):e=null}else s&&e.$set(o)},i(t){o||(e&&rt(e.$$.fragment,t),o=!0)},o(t){e&&ot(e.$$.fragment,t),o=!1},d(t){t&&w(r),e&&ct(e,t)}}}function Oe(t){let e,n,r,o;const i=[Ee,xe],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),b(t,r,n),o=!0},p(t,o){let l=e;e=a(t),e===l?s[e].p(t,o):(et(),ot(s[l],1,1,(()=>{s[l]=null})),nt(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),rt(n,1),n.m(r.parentNode,r))},i(t){o||(rt(n),o=!0)},o(t){ot(n),o=!1},d(t){s[e].d(t),t&&w(r)}}}function Ne(t){let e,n,r,o,i,s=t[2]&&ke(t);return{c(){e=k("div"),n=E(),s&&s.c(),r=E(),o=k("div"),T(e,"display","none"),A(e,"aria-hidden","true"),A(e,"data-svnav-route-start",t[5]),T(o,"display","none"),A(o,"aria-hidden","true"),A(o,"data-svnav-route-end",t[5])},m(t,a){b(t,e,a),b(t,n,a),s&&s.m(t,a),b(t,r,a),b(t,o,a),i=!0},p(t,[e]){t[2]?s?(s.p(t,e),4&e&&rt(s,1)):(s=ke(t),s.c(),rt(s,1),s.m(r.parentNode,r)):s&&(et(),ot(s,1,1,(()=>{s=null})),nt())},i(t){i||(rt(s),i=!0)},o(t){ot(s),i=!1},d(t){t&&w(e),t&&w(n),s&&s.d(t),t&&w(r),t&&w(o)}}}const Ae=gt();function Se(t,e,r){let o;const i=["path","component","meta","primary"];let s,a,l,u,f=y(e,i),{$$slots:h={},$$scope:d}=e,{path:p=""}=e,{component:m=null}=e,{meta:v={}}=e,{primary:b=!0}=e;me(2,e);const w=Ae(),{registerRoute:_,unregisterRoute:k,activeRoute:x}=D(Et);c(t,x,(t=>r(15,s=t)));const E=ve();c(t,E,(t=>r(16,l=t)));const O=ge();c(t,O,(t=>r(3,a=t)));const N=wt(null);let A;const S=wt(),M=wt({});c(t,M,(t=>r(4,u=t))),$(Ot,S),$(Nt,M),$(At,N);const P=function(){me(7);const t=be(),{navigate:e}=ye();return(n,r)=>{const o=mt(n)?n:t(n);return e(o,r)}}();var T;return yt||(T=()=>k(w),R().$$.on_destroy.push(T)),t.$$set=t=>{r(23,e=n(n({},e),g(t))),r(11,f=y(e,i)),"path"in t&&r(12,p=t.path),"component"in t&&r(0,m=t.component),"meta"in t&&r(13,v=t.meta),"primary"in t&&r(1,b=t.primary),"$$scope"in t&&r(18,d=t.$$scope)},t.$$.update=()=>{if(77834&t.$$.dirty){const t=""===p,e=Rt(l,p),n={id:w,path:p,meta:v,default:t,fullPath:t?"":e,base:t?l:Kt(e,a.pathname),primary:b,focusElement:N};S.set(n),r(14,A=_(n))}if(49152&t.$$.dirty&&r(2,o=!!(A||s&&s.id===w)),49156&t.$$.dirty&&o){const{params:t}=A||s;M.set(t)}},e=g(e),[m,b,o,a,u,w,x,E,O,M,P,f,p,v,A,s,l,h,d]}var Me=class extends ht{constructor(t){super(),ft(this,t,Se,Ne,a,{path:12,component:0,meta:13,primary:1})}};function Pe(t){let e,r,o,i;const s=t[13].default,a=f(s,t,t[12],null);let l=[{href:t[0]},t[2],t[1]],u={};for(let t=0;t<l.length;t+=1)u=n(u,l[t]);return{c(){e=k("a"),a&&a.c(),S(e,u)},m(n,s){b(n,e,s),a&&a.m(e,null),r=!0,o||(i=N(e,"click",t[4]),o=!0)},p(t,[n]){a&&a.p&&(!r||4096&n)&&p(a,s,t,t[12],r?d(s,t[12],n,null):m(t[12]),null),S(e,u=it(l,[(!r||1&n)&&{href:t[0]},4&n&&t[2],2&n&&t[1]]))},i(t){r||(rt(a,t),r=!0)},o(t){ot(a,t),r=!1},d(t){t&&w(e),a&&a.d(t),o=!1,i()}}}function Te(t,e,r){let o,i,s,a,l;const u=["to","replace","state","getProps"];let f,h=y(e,u),{$$slots:d={},$$scope:p}=e,{to:m}=e,{replace:v=!1}=e,{state:b={}}=e,{getProps:w=null}=e;me(1,e);const _=ge();c(t,_,(t=>r(11,f=t)));const k=q(),x=be(),{navigate:E}=ye();return t.$$set=t=>{r(18,e=n(n({},e),g(t))),r(17,h=y(e,u)),"to"in t&&r(5,m=t.to),"replace"in t&&r(6,v=t.replace),"state"in t&&r(7,b=t.state),"getProps"in t&&r(8,w=t.getProps),"$$scope"in t&&r(12,p=t.$$scope)},t.$$.update=()=>{2080&t.$$.dirty&&r(0,o=x(m,f)),2049&t.$$.dirty&&r(10,i=Mt(f.pathname,o)),2049&t.$$.dirty&&r(9,s=o===f.pathname),512&t.$$.dirty&&r(2,a=s?{"aria-current":"page"}:{}),r(1,l=(()=>{if(pt(w)){const t=w({location:f,href:o,isPartiallyCurrent:i,isCurrent:s});return{...h,...t}}return h})())},e=g(e),[o,l,a,_,function(t){if(k("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();E(o,{state:b,replace:s||v})}},m,v,b,w,s,i,f,p,d]}var Ce=class extends ht{constructor(t){super(),ft(this,t,Te,Pe,a,{to:5,replace:6,state:7,getProps:8})}};function je(t){let e,n;return{c(){e=k("p"),n=x(t[5]),A(e,"class","text-red-500 text-xs italic")},m(t,r){b(t,e,r),v(e,n)},p(t,e){32&e&&M(n,t[5])},d(t){t&&w(e)}}}function Ie(t){let e,n,r=(t[6]??"")+"";return{c(){e=k("p"),n=x(r),A(e,"class","text-gray opacity-60 text-xs italic text-left mt-1")},m(t,r){b(t,e,r),v(e,n)},p(t,e){64&e&&r!==(r=(t[6]??"")+"")&&M(n,r)},d(t){t&&w(e)}}}function Re(t){let n,r,o,s,a,l,u,c,f,h,d,p,m=t[4]&&je(t),g=(""!==t[6]||null!==t[6])&&Ie(t);return{c(){n=k("div"),r=k("label"),o=x(t[1]),s=E(),a=k("input"),f=E(),m&&m.c(),h=E(),g&&g.c(),A(r,"class","block text-gray-700 text-sm font-bold mb-2"),A(r,"for","username"),a.disabled=l=!0===t[3],A(a,"class",u="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline "+(t[4]&&"border-red-500")),A(a,"placeholder",c=t[2]??t[1]),A(n,"class","mb-4")},m(e,i){b(e,n,i),v(n,r),v(r,o),v(n,s),v(n,a),P(a,t[0]),v(n,f),m&&m.m(n,null),v(n,h),g&&g.m(n,null),d||(p=[N(a,"input",t[9]),N(a,"input",t[7])],d=!0)},p(t,[e]){2&e&&M(o,t[1]),8&e&&l!==(l=!0===t[3])&&(a.disabled=l),16&e&&u!==(u="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline "+(t[4]&&"border-red-500"))&&A(a,"class",u),6&e&&c!==(c=t[2]??t[1])&&A(a,"placeholder",c),1&e&&a.value!==t[0]&&P(a,t[0]),t[4]?m?m.p(t,e):(m=je(t),m.c(),m.m(n,h)):m&&(m.d(1),m=null),""!==t[6]||null!==t[6]?g?g.p(t,e):(g=Ie(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},i:e,o:e,d(t){t&&w(n),m&&m.d(),g&&g.d(),d=!1,i(p)}}}function Le(t,e,n){let{title:r}=e,{placeHolder:o}=e,{value:i=null}=e,{disabled:s=!1}=e,{wrong:a=!1}=e,{wrongText:l=""}=e,{textFormat:u="text"}=e,{importantText:c=""}=e;return t.$$set=t=>{"title"in t&&n(1,r=t.title),"placeHolder"in t&&n(2,o=t.placeHolder),"value"in t&&n(0,i=t.value),"disabled"in t&&n(3,s=t.disabled),"wrong"in t&&n(4,a=t.wrong),"wrongText"in t&&n(5,l=t.wrongText),"textFormat"in t&&n(8,u=t.textFormat),"importantText"in t&&n(6,c=t.importantText)},[i,r,o,s,a,l,c,t=>{t.target.type=u},u,function(){i=this.value,n(0,i)}]}class qe extends ht{constructor(t){super(),ft(this,t,Le,Re,a,{title:1,placeHolder:2,value:0,disabled:3,wrong:4,wrongText:5,textFormat:8,importantText:6})}}function $e(t){let e,n;return{c(){e=k("p"),n=x(t[3]),A(e,"class","text-red-500 text-xs italic")},m(t,r){b(t,e,r),v(e,n)},p(t,e){8&e&&M(n,t[3])},d(t){t&&w(e)}}}function De(t){let n,r,o,i,s,a,l,u,c,f,h,d=t[2]&&$e(t);return{c(){n=k("link"),r=E(),o=k("div"),i=k("label"),s=x(t[1]),a=E(),l=k("div"),u=k("div"),c=E(),d&&d.c(),A(n,"href","//cdn.quilljs.com/1.3.6/quill.snow.css"),A(n,"rel","stylesheet"),A(i,"class","block text-gray-700 text-sm font-bold mb-2"),A(i,"for","username"),A(u,"class","editor svelte-1csqx14"),A(l,"class","editor-wrapper"),A(o,"class","mb-8")},m(e,p){v(document.head,n),b(e,r,p),b(e,o,p),v(o,i),v(i,s),v(o,a),v(o,l),v(l,u),t[8](u),v(o,c),d&&d.m(o,null),f||(h=N(u,"text-change",t[9]),f=!0)},p(t,[e]){2&e&&M(s,t[1]),t[2]?d?d.p(t,e):(d=$e(t),d.c(),d.m(o,null)):d&&(d.d(1),d=null)},i:e,o:e,d(e){w(n),e&&w(r),e&&w(o),t[8](null),d&&d.d(),f=!1,h()}}}function Be(){const t=this.quill.theme.tooltip,e=t.save,n=t.hide;t.save=function(){const t=this.quill.getSelection(!0),e=this.textbox.value;e&&this.quill.insertEmbed(t.index,"image",e,"user")},t.hide=function(){t.save=e,t.hide=n,t.hide()},t.edit("image"),t.textbox.placeholder="Embed URL"}function Fe(t,e,n){let r,{title:o}=e,{placeHolder:i}=e,{value:s=null}=e,{disabled:a=!1}=e,{wrong:l=!1}=e,{rows:u=3}=e,{wrongText:c=""}=e;const f=[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],["image"]];L((async()=>{const{default:t}=await Promise.resolve().then((function(){return Lc}));let e=new t(r,{placeholder:i??o,theme:"snow",modules:{toolbar:{container:f,handlers:{image:Be}}}});e.clipboard.dangerouslyPasteHTML(s);const n=r.getElementsByClassName("ql-editor")[0];e.on("text-change",(function(t,o,i){r.dispatchEvent(new CustomEvent("text-change",{detail:{html:n.innerHTML,text:e.getText()}}))}))}));return t.$$set=t=>{"title"in t&&n(1,o=t.title),"placeHolder"in t&&n(5,i=t.placeHolder),"value"in t&&n(0,s=t.value),"disabled"in t&&n(6,a=t.disabled),"wrong"in t&&n(2,l=t.wrong),"rows"in t&&n(7,u=t.rows),"wrongText"in t&&n(3,c=t.wrongText)},[s,o,l,c,r,i,a,u,function(t){F[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},t=>n(0,s=t.detail.html)]}class Ue extends ht{constructor(t){super(),ft(this,t,Fe,De,a,{title:1,placeHolder:5,value:0,disabled:6,wrong:2,rows:7,wrongText:3})}}function He(t,e,n){const r=t.slice();return r[7]=e[n],r}function Ye(t){let e,n,r,o=t[7].text+"";return{c(){e=k("option"),n=x(o),e.__value=r=t[7].value,e.value=e.__value},m(t,r){b(t,e,r),v(e,n)},p(t,i){32&i&&o!==(o=t[7].text+"")&&M(n,o),32&i&&r!==(r=t[7].value)&&(e.__value=r,e.value=e.__value)},d(t){t&&w(e)}}}function ze(t){let e,n;return{c(){e=k("p"),n=x(t[4]),A(e,"class","text-red-500 text-xs italic")},m(t,r){b(t,e,r),v(e,n)},p(t,e){16&e&&M(n,t[4])},d(t){t&&w(e)}}}function Ve(t){let n,r,o,i,s,a,l,u,c=t[5],f=[];for(let e=0;e<c.length;e+=1)f[e]=Ye(He(t,c,e));let h=t[3]&&ze(t);return{c(){n=k("div"),r=k("label"),o=x(t[1]),i=E(),s=k("select");for(let t=0;t<f.length;t+=1)f[t].c();a=E(),h&&h.c(),A(r,"class","block text-gray-700 text-sm font-bold mb-2"),A(r,"for","username"),s.disabled=t[2],A(s,"class","block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"),A(s,"id","grid-state"),void 0===t[0]&&G((()=>t[6].call(s))),A(n,"class","mb-4")},m(e,c){b(e,n,c),v(n,r),v(r,o),v(n,i),v(n,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);C(s,t[0]),v(n,a),h&&h.m(n,null),l||(u=N(s,"change",t[6]),l=!0)},p(t,[e]){if(2&e&&M(o,t[1]),32&e){let n;for(c=t[5],n=0;n<c.length;n+=1){const r=He(t,c,n);f[n]?f[n].p(r,e):(f[n]=Ye(r),f[n].c(),f[n].m(s,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=c.length}4&e&&(s.disabled=t[2]),33&e&&C(s,t[0]),t[3]?h?h.p(t,e):(h=ze(t),h.c(),h.m(n,null)):h&&(h.d(1),h=null)},i:e,o:e,d(t){t&&w(n),_(f,t),h&&h.d(),l=!1,u()}}}function Ge(t,e,n){let{title:r}=e,{value:o=null}=e,{disabled:i=!1}=e,{wrong:s=!1}=e,{wrongText:a=""}=e,{options:l}=e;return o=l[0].value,t.$$set=t=>{"title"in t&&n(1,r=t.title),"value"in t&&n(0,o=t.value),"disabled"in t&&n(2,i=t.disabled),"wrong"in t&&n(3,s=t.wrong),"wrongText"in t&&n(4,a=t.wrongText),"options"in t&&n(5,l=t.options)},[o,r,i,s,a,l,function(){o=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,o),n(5,l)}]}class We extends ht{constructor(t){super(),ft(this,t,Ge,Ve,a,{title:1,value:0,disabled:2,wrong:3,wrongText:4,options:5})}}const Ke=wt({projectName:"",projectCategory:"coretech"}),Ze="http://localhost:3000",Je=async(t,e)=>await e.signMessage(t);var Xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tn(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}function en(t){var e={exports:{}};return t(e,e.exports),e.exports}function nn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var rn=tn(Object.freeze({__proto__:null,default:{}})),on=en((function(t){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:rn.Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function a(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function l(t,e,n,r){for(var o=0,i=Math.min(t.length,n),s=e;s<i;s++){var a=t.charCodeAt(s)-48;o*=r,o+=a>=49?a-49+10:a>=17?a-17+10:a}return o}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var o=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(o++,this.negative=1),o<t.length&&(16===e?this._parseHex(t,o,r):(this._parseBase(t,e,o),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var i,s,a=0;if("be"===r)for(o=t.length-1,i=0;o>=0;o-=3)s=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(o=0,i=0;o<t.length;o+=3)s=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,i=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)o=a(t,e,r)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)o=a(t,e,r)<<i,this.words[s]|=67108863&o,i>=18?(i-=18,s+=1,this.words[s]|=o>>>26):i+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,o=1;o<=67108863;o*=e)r++;r--,o=o/e|0;for(var i=t.length-n,s=i%r,a=Math.min(i,i-s)+n,u=0,c=n;c<a;c+=r)u=l(t,c,c+r,e),this.imuln(o),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=l(t,c,t.length,e),c=0;c<s;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var o=0|t.words[0],i=0|e.words[0],s=o*i,a=67108863&s,l=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,h=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=h;d++){var p=u-d|0;c+=(s=(o=0|t.words[p])*(i=0|e.words[d])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var o=0,i=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<o|i)).toString(16);r=0!==(i=a>>>24-o&16777215)||s!==this.length-1?u[6-l.length]+l+r:l+r,(o+=2)>=26&&(o-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=c[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:u[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==i),this.toArrayLike(i,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var o=this.byteLength(),i=r||Math.max(1,o);n(o<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0"),this.strip();var s,a,l="le"===e,u=new t(i),c=this.clone();if(l){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[a]=s;for(;a<i;a++)u[a]=0}else{for(a=0;a<i-o;a++)u[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[i-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var o=0;o<e;o++)this.words[o]=67108863&~this.words[o];return r>0&&(this.words[o]=~this.words[o]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,o=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<o:this.words[r]&~(1<<o),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var o=0,i=0;i<r.length;i++)e=(0|n.words[i])+(0|r.words[i])+o,this.words[i]=67108863&e,o=e>>>26;for(;0!==o&&i<n.length;i++)e=(0|n.words[i])+o,this.words[i]=67108863&e,o=e>>>26;if(this.length=n.length,0!==o)this.words[this.length]=o,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,o=this.cmp(t);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(n=this,r=t):(n=t,r=this);for(var i=0,s=0;s<r.length;s++)i=(e=(0|n.words[s])-(0|r.words[s])+i)>>26,this.words[s]=67108863&e;for(;0!==i&&s<n.length;s++)i=(e=(0|n.words[s])+i)>>26,this.words[s]=67108863&e;if(0===i&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,n){var r,o,i,s=t.words,a=e.words,l=n.words,u=0,c=0|s[0],f=8191&c,h=c>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],x=8191&k,E=k>>>13,O=0|s[5],N=8191&O,A=O>>>13,S=0|s[6],M=8191&S,P=S>>>13,T=0|s[7],C=8191&T,j=T>>>13,I=0|s[8],R=8191&I,L=I>>>13,q=0|s[9],$=8191&q,D=q>>>13,B=0|a[0],F=8191&B,U=B>>>13,H=0|a[1],Y=8191&H,z=H>>>13,V=0|a[2],G=8191&V,W=V>>>13,K=0|a[3],Z=8191&K,J=K>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,ot=0|a[6],it=8191&ot,st=ot>>>13,at=0|a[7],lt=8191&at,ut=at>>>13,ct=0|a[8],ft=8191&ct,ht=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(r=Math.imul(f,F))|0)+((8191&(o=(o=Math.imul(f,U))+Math.imul(h,F)|0))<<13)|0;u=((i=Math.imul(h,U))+(o>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,F),o=(o=Math.imul(p,U))+Math.imul(m,F)|0,i=Math.imul(m,U);var yt=(u+(r=r+Math.imul(f,Y)|0)|0)+((8191&(o=(o=o+Math.imul(f,z)|0)+Math.imul(h,Y)|0))<<13)|0;u=((i=i+Math.imul(h,z)|0)+(o>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,F),o=(o=Math.imul(y,U))+Math.imul(v,F)|0,i=Math.imul(v,U),r=r+Math.imul(p,Y)|0,o=(o=o+Math.imul(p,z)|0)+Math.imul(m,Y)|0,i=i+Math.imul(m,z)|0;var vt=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(o=(o=o+Math.imul(f,W)|0)+Math.imul(h,G)|0))<<13)|0;u=((i=i+Math.imul(h,W)|0)+(o>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(w,F),o=(o=Math.imul(w,U))+Math.imul(_,F)|0,i=Math.imul(_,U),r=r+Math.imul(y,Y)|0,o=(o=o+Math.imul(y,z)|0)+Math.imul(v,Y)|0,i=i+Math.imul(v,z)|0,r=r+Math.imul(p,G)|0,o=(o=o+Math.imul(p,W)|0)+Math.imul(m,G)|0,i=i+Math.imul(m,W)|0;var bt=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(o=(o=o+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;u=((i=i+Math.imul(h,J)|0)+(o>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(x,F),o=(o=Math.imul(x,U))+Math.imul(E,F)|0,i=Math.imul(E,U),r=r+Math.imul(w,Y)|0,o=(o=o+Math.imul(w,z)|0)+Math.imul(_,Y)|0,i=i+Math.imul(_,z)|0,r=r+Math.imul(y,G)|0,o=(o=o+Math.imul(y,W)|0)+Math.imul(v,G)|0,i=i+Math.imul(v,W)|0,r=r+Math.imul(p,Z)|0,o=(o=o+Math.imul(p,J)|0)+Math.imul(m,Z)|0,i=i+Math.imul(m,J)|0;var wt=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(o=(o=o+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;u=((i=i+Math.imul(h,tt)|0)+(o>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(N,F),o=(o=Math.imul(N,U))+Math.imul(A,F)|0,i=Math.imul(A,U),r=r+Math.imul(x,Y)|0,o=(o=o+Math.imul(x,z)|0)+Math.imul(E,Y)|0,i=i+Math.imul(E,z)|0,r=r+Math.imul(w,G)|0,o=(o=o+Math.imul(w,W)|0)+Math.imul(_,G)|0,i=i+Math.imul(_,W)|0,r=r+Math.imul(y,Z)|0,o=(o=o+Math.imul(y,J)|0)+Math.imul(v,Z)|0,i=i+Math.imul(v,J)|0,r=r+Math.imul(p,Q)|0,o=(o=o+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,i=i+Math.imul(m,tt)|0;var _t=(u+(r=r+Math.imul(f,nt)|0)|0)+((8191&(o=(o=o+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;u=((i=i+Math.imul(h,rt)|0)+(o>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(M,F),o=(o=Math.imul(M,U))+Math.imul(P,F)|0,i=Math.imul(P,U),r=r+Math.imul(N,Y)|0,o=(o=o+Math.imul(N,z)|0)+Math.imul(A,Y)|0,i=i+Math.imul(A,z)|0,r=r+Math.imul(x,G)|0,o=(o=o+Math.imul(x,W)|0)+Math.imul(E,G)|0,i=i+Math.imul(E,W)|0,r=r+Math.imul(w,Z)|0,o=(o=o+Math.imul(w,J)|0)+Math.imul(_,Z)|0,i=i+Math.imul(_,J)|0,r=r+Math.imul(y,Q)|0,o=(o=o+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,i=i+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,o=(o=o+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,i=i+Math.imul(m,rt)|0;var kt=(u+(r=r+Math.imul(f,it)|0)|0)+((8191&(o=(o=o+Math.imul(f,st)|0)+Math.imul(h,it)|0))<<13)|0;u=((i=i+Math.imul(h,st)|0)+(o>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(C,F),o=(o=Math.imul(C,U))+Math.imul(j,F)|0,i=Math.imul(j,U),r=r+Math.imul(M,Y)|0,o=(o=o+Math.imul(M,z)|0)+Math.imul(P,Y)|0,i=i+Math.imul(P,z)|0,r=r+Math.imul(N,G)|0,o=(o=o+Math.imul(N,W)|0)+Math.imul(A,G)|0,i=i+Math.imul(A,W)|0,r=r+Math.imul(x,Z)|0,o=(o=o+Math.imul(x,J)|0)+Math.imul(E,Z)|0,i=i+Math.imul(E,J)|0,r=r+Math.imul(w,Q)|0,o=(o=o+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,i=i+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,o=(o=o+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,i=i+Math.imul(v,rt)|0,r=r+Math.imul(p,it)|0,o=(o=o+Math.imul(p,st)|0)+Math.imul(m,it)|0,i=i+Math.imul(m,st)|0;var xt=(u+(r=r+Math.imul(f,lt)|0)|0)+((8191&(o=(o=o+Math.imul(f,ut)|0)+Math.imul(h,lt)|0))<<13)|0;u=((i=i+Math.imul(h,ut)|0)+(o>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(R,F),o=(o=Math.imul(R,U))+Math.imul(L,F)|0,i=Math.imul(L,U),r=r+Math.imul(C,Y)|0,o=(o=o+Math.imul(C,z)|0)+Math.imul(j,Y)|0,i=i+Math.imul(j,z)|0,r=r+Math.imul(M,G)|0,o=(o=o+Math.imul(M,W)|0)+Math.imul(P,G)|0,i=i+Math.imul(P,W)|0,r=r+Math.imul(N,Z)|0,o=(o=o+Math.imul(N,J)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,J)|0,r=r+Math.imul(x,Q)|0,o=(o=o+Math.imul(x,tt)|0)+Math.imul(E,Q)|0,i=i+Math.imul(E,tt)|0,r=r+Math.imul(w,nt)|0,o=(o=o+Math.imul(w,rt)|0)+Math.imul(_,nt)|0,i=i+Math.imul(_,rt)|0,r=r+Math.imul(y,it)|0,o=(o=o+Math.imul(y,st)|0)+Math.imul(v,it)|0,i=i+Math.imul(v,st)|0,r=r+Math.imul(p,lt)|0,o=(o=o+Math.imul(p,ut)|0)+Math.imul(m,lt)|0,i=i+Math.imul(m,ut)|0;var Et=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(o=(o=o+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;u=((i=i+Math.imul(h,ht)|0)+(o>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul($,F),o=(o=Math.imul($,U))+Math.imul(D,F)|0,i=Math.imul(D,U),r=r+Math.imul(R,Y)|0,o=(o=o+Math.imul(R,z)|0)+Math.imul(L,Y)|0,i=i+Math.imul(L,z)|0,r=r+Math.imul(C,G)|0,o=(o=o+Math.imul(C,W)|0)+Math.imul(j,G)|0,i=i+Math.imul(j,W)|0,r=r+Math.imul(M,Z)|0,o=(o=o+Math.imul(M,J)|0)+Math.imul(P,Z)|0,i=i+Math.imul(P,J)|0,r=r+Math.imul(N,Q)|0,o=(o=o+Math.imul(N,tt)|0)+Math.imul(A,Q)|0,i=i+Math.imul(A,tt)|0,r=r+Math.imul(x,nt)|0,o=(o=o+Math.imul(x,rt)|0)+Math.imul(E,nt)|0,i=i+Math.imul(E,rt)|0,r=r+Math.imul(w,it)|0,o=(o=o+Math.imul(w,st)|0)+Math.imul(_,it)|0,i=i+Math.imul(_,st)|0,r=r+Math.imul(y,lt)|0,o=(o=o+Math.imul(y,ut)|0)+Math.imul(v,lt)|0,i=i+Math.imul(v,ut)|0,r=r+Math.imul(p,ft)|0,o=(o=o+Math.imul(p,ht)|0)+Math.imul(m,ft)|0,i=i+Math.imul(m,ht)|0;var Ot=(u+(r=r+Math.imul(f,pt)|0)|0)+((8191&(o=(o=o+Math.imul(f,mt)|0)+Math.imul(h,pt)|0))<<13)|0;u=((i=i+Math.imul(h,mt)|0)+(o>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul($,Y),o=(o=Math.imul($,z))+Math.imul(D,Y)|0,i=Math.imul(D,z),r=r+Math.imul(R,G)|0,o=(o=o+Math.imul(R,W)|0)+Math.imul(L,G)|0,i=i+Math.imul(L,W)|0,r=r+Math.imul(C,Z)|0,o=(o=o+Math.imul(C,J)|0)+Math.imul(j,Z)|0,i=i+Math.imul(j,J)|0,r=r+Math.imul(M,Q)|0,o=(o=o+Math.imul(M,tt)|0)+Math.imul(P,Q)|0,i=i+Math.imul(P,tt)|0,r=r+Math.imul(N,nt)|0,o=(o=o+Math.imul(N,rt)|0)+Math.imul(A,nt)|0,i=i+Math.imul(A,rt)|0,r=r+Math.imul(x,it)|0,o=(o=o+Math.imul(x,st)|0)+Math.imul(E,it)|0,i=i+Math.imul(E,st)|0,r=r+Math.imul(w,lt)|0,o=(o=o+Math.imul(w,ut)|0)+Math.imul(_,lt)|0,i=i+Math.imul(_,ut)|0,r=r+Math.imul(y,ft)|0,o=(o=o+Math.imul(y,ht)|0)+Math.imul(v,ft)|0,i=i+Math.imul(v,ht)|0;var Nt=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(o=(o=o+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((i=i+Math.imul(m,mt)|0)+(o>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul($,G),o=(o=Math.imul($,W))+Math.imul(D,G)|0,i=Math.imul(D,W),r=r+Math.imul(R,Z)|0,o=(o=o+Math.imul(R,J)|0)+Math.imul(L,Z)|0,i=i+Math.imul(L,J)|0,r=r+Math.imul(C,Q)|0,o=(o=o+Math.imul(C,tt)|0)+Math.imul(j,Q)|0,i=i+Math.imul(j,tt)|0,r=r+Math.imul(M,nt)|0,o=(o=o+Math.imul(M,rt)|0)+Math.imul(P,nt)|0,i=i+Math.imul(P,rt)|0,r=r+Math.imul(N,it)|0,o=(o=o+Math.imul(N,st)|0)+Math.imul(A,it)|0,i=i+Math.imul(A,st)|0,r=r+Math.imul(x,lt)|0,o=(o=o+Math.imul(x,ut)|0)+Math.imul(E,lt)|0,i=i+Math.imul(E,ut)|0,r=r+Math.imul(w,ft)|0,o=(o=o+Math.imul(w,ht)|0)+Math.imul(_,ft)|0,i=i+Math.imul(_,ht)|0;var At=(u+(r=r+Math.imul(y,pt)|0)|0)+((8191&(o=(o=o+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;u=((i=i+Math.imul(v,mt)|0)+(o>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul($,Z),o=(o=Math.imul($,J))+Math.imul(D,Z)|0,i=Math.imul(D,J),r=r+Math.imul(R,Q)|0,o=(o=o+Math.imul(R,tt)|0)+Math.imul(L,Q)|0,i=i+Math.imul(L,tt)|0,r=r+Math.imul(C,nt)|0,o=(o=o+Math.imul(C,rt)|0)+Math.imul(j,nt)|0,i=i+Math.imul(j,rt)|0,r=r+Math.imul(M,it)|0,o=(o=o+Math.imul(M,st)|0)+Math.imul(P,it)|0,i=i+Math.imul(P,st)|0,r=r+Math.imul(N,lt)|0,o=(o=o+Math.imul(N,ut)|0)+Math.imul(A,lt)|0,i=i+Math.imul(A,ut)|0,r=r+Math.imul(x,ft)|0,o=(o=o+Math.imul(x,ht)|0)+Math.imul(E,ft)|0,i=i+Math.imul(E,ht)|0;var St=(u+(r=r+Math.imul(w,pt)|0)|0)+((8191&(o=(o=o+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((i=i+Math.imul(_,mt)|0)+(o>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul($,Q),o=(o=Math.imul($,tt))+Math.imul(D,Q)|0,i=Math.imul(D,tt),r=r+Math.imul(R,nt)|0,o=(o=o+Math.imul(R,rt)|0)+Math.imul(L,nt)|0,i=i+Math.imul(L,rt)|0,r=r+Math.imul(C,it)|0,o=(o=o+Math.imul(C,st)|0)+Math.imul(j,it)|0,i=i+Math.imul(j,st)|0,r=r+Math.imul(M,lt)|0,o=(o=o+Math.imul(M,ut)|0)+Math.imul(P,lt)|0,i=i+Math.imul(P,ut)|0,r=r+Math.imul(N,ft)|0,o=(o=o+Math.imul(N,ht)|0)+Math.imul(A,ft)|0,i=i+Math.imul(A,ht)|0;var Mt=(u+(r=r+Math.imul(x,pt)|0)|0)+((8191&(o=(o=o+Math.imul(x,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((i=i+Math.imul(E,mt)|0)+(o>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul($,nt),o=(o=Math.imul($,rt))+Math.imul(D,nt)|0,i=Math.imul(D,rt),r=r+Math.imul(R,it)|0,o=(o=o+Math.imul(R,st)|0)+Math.imul(L,it)|0,i=i+Math.imul(L,st)|0,r=r+Math.imul(C,lt)|0,o=(o=o+Math.imul(C,ut)|0)+Math.imul(j,lt)|0,i=i+Math.imul(j,ut)|0,r=r+Math.imul(M,ft)|0,o=(o=o+Math.imul(M,ht)|0)+Math.imul(P,ft)|0,i=i+Math.imul(P,ht)|0;var Pt=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(o=(o=o+Math.imul(N,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((i=i+Math.imul(A,mt)|0)+(o>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul($,it),o=(o=Math.imul($,st))+Math.imul(D,it)|0,i=Math.imul(D,st),r=r+Math.imul(R,lt)|0,o=(o=o+Math.imul(R,ut)|0)+Math.imul(L,lt)|0,i=i+Math.imul(L,ut)|0,r=r+Math.imul(C,ft)|0,o=(o=o+Math.imul(C,ht)|0)+Math.imul(j,ft)|0,i=i+Math.imul(j,ht)|0;var Tt=(u+(r=r+Math.imul(M,pt)|0)|0)+((8191&(o=(o=o+Math.imul(M,mt)|0)+Math.imul(P,pt)|0))<<13)|0;u=((i=i+Math.imul(P,mt)|0)+(o>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul($,lt),o=(o=Math.imul($,ut))+Math.imul(D,lt)|0,i=Math.imul(D,ut),r=r+Math.imul(R,ft)|0,o=(o=o+Math.imul(R,ht)|0)+Math.imul(L,ft)|0,i=i+Math.imul(L,ht)|0;var Ct=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(o=(o=o+Math.imul(C,mt)|0)+Math.imul(j,pt)|0))<<13)|0;u=((i=i+Math.imul(j,mt)|0)+(o>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul($,ft),o=(o=Math.imul($,ht))+Math.imul(D,ft)|0,i=Math.imul(D,ht);var jt=(u+(r=r+Math.imul(R,pt)|0)|0)+((8191&(o=(o=o+Math.imul(R,mt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((i=i+Math.imul(L,mt)|0)+(o>>>13)|0)+(jt>>>26)|0,jt&=67108863;var It=(u+(r=Math.imul($,pt))|0)+((8191&(o=(o=Math.imul($,mt))+Math.imul(D,pt)|0))<<13)|0;return u=((i=Math.imul(D,mt))+(o>>>13)|0)+(It>>>26)|0,It&=67108863,l[0]=gt,l[1]=yt,l[2]=vt,l[3]=bt,l[4]=wt,l[5]=_t,l[6]=kt,l[7]=xt,l[8]=Et,l[9]=Ot,l[10]=Nt,l[11]=At,l[12]=St,l[13]=Mt,l[14]=Pt,l[15]=Tt,l[16]=Ct,l[17]=jt,l[18]=It,0!==u&&(l[19]=u,n.length++),n};function p(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=h),o.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?d(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,o=0,i=0;i<n.length-1;i++){var s=o;o=0;for(var a=67108863&r,l=Math.min(i,e.length-1),u=Math.max(0,i-t.length+1);u<=l;u++){var c=i-u,f=(0|t.words[c])*(0|e.words[u]),h=67108863&f;a=67108863&(h=h+a|0),o+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[i]=a,r=s,s=o}return 0!==r?n.words[i]=r:n.length--,n.strip()}(this,t,e):p(this,t,e),n},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,o=0;o<e;o++)r|=(1&t)<<e-o-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,o,i){for(var s=0;s<i;s++)r[s]=e[t[s]],o[s]=n[t[s]]},m.prototype.transform=function(t,e,n,r,o,i){this.permute(i,t,e,n,r,o);for(var s=1;s<o;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<o;c+=a)for(var f=l,h=u,d=0;d<s;d++){var p=n[c+d],m=r[c+d],g=n[c+d+s],y=r[c+d+s],v=f*g-h*y;y=f*y+h*g,g=v,n[c+d]=p+g,r[c+d]=m+y,n[c+d+s]=p-g,r[c+d+s]=m-y,d!==a&&(v=l*f-u*h,h=l*h+u*f,f=v)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,o=0;for(n=n/2|0;n;n>>>=1)o++;return 1<<o+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var o=t[r];t[r]=t[n-r-1],t[n-r-1]=o,o=e[r],e[r]=-e[n-r-1],e[n-r-1]=-o}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var o=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&o,n=o<67108864?0:o/67108864|0}return t},m.prototype.convert13b=function(t,e,r,o){for(var i=0,s=0;s<e;s++)i+=0|t[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*e;s<o;++s)r[s]=0;n(0===i),n(0==(-8192&i))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(r),i=this.stub(r),s=new Array(r),a=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,i,a,l,r,o),this.transform(u,i,c,f,r,o);for(var d=0;d<r;d++){var p=a[d]*c[d]-l[d]*f[d];l[d]=a[d]*f[d]+l[d]*c[d],a[d]=p}return this.conjugate(a,l,r),this.transform(a,l,h,i,r,o),this.conjugate(h,i,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var o=(0|this.words[r])*t,i=(67108863&o)+(67108863&e);e>>=26,e+=o/67108864|0,e+=i>>>26,this.words[r]=67108863&i}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,o=n%26;e[n]=(t.words[r]&1<<o)>>>o}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,o=(t-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&i,l=(0|this.words[e])-a<<r;this.words[e]=l|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==o){for(e=this.length-1;e>=0;e--)this.words[e+o]=this.words[e];for(e=0;e<o;e++)this.words[e]=0;this.length+=o}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var o;n("number"==typeof t&&t>=0),o=e?(e-e%26)/26:0;var i=t%26,s=Math.min((t-i)/26,this.length),a=67108863^67108863>>>i<<i,l=r;if(o-=s,o=Math.max(0,o),l){for(var u=0;u<s;u++)l.words[u]=this.words[u];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=o);u--){var f=0|this.words[u];this.words[u]=c<<26-i|f>>>i,c=f&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,o=1<<e;return!(this.length<=r)&&!!(this.words[r]&o)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var o=67108863^67108863>>>e<<e;this.words[this.length-1]&=o}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var o,i,s=t.length+r;this._expand(s);var a=0;for(o=0;o<t.length;o++){i=(0|this.words[o+r])+a;var l=(0|t.words[o])*e;a=((i-=67108863&l)>>26)-(l/67108864|0),this.words[o+r]=67108863&i}for(;o<this.length-r;o++)a=(i=(0|this.words[o+r])+a)>>26,this.words[o+r]=67108863&i;if(0===a)return this.strip();for(n(-1===a),a=0,o=0;o<this.length;o++)a=(i=-(0|this.words[o])+a)>>26,this.words[o]=67108863&i;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,l=r.length-i.length;if("mod"!==e){(a=new o(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,a&&(a.words[l]=1));for(var f=l-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);a&&(a.words[f]=h)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),o=t.andln(1),i=n.cmp(r);return i<0||1===o&&0===i?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,o=this.length-1;o>=0;o--)r=(e*r+(0|this.words[o]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*e;this.words[r]=o/t|0,e=o%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),l=new o(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0==(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(f)),a.iushrn(1),l.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(l)):(r.isub(e),a.isub(i),l.isub(s))}return{a:a,b:l,gcd:r.iushln(u)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),l=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;0==(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var f=0,h=1;0==(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var o=e.cmp(n);if(o<0){var i=e;e=n,n=i}else if(0===o||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,o=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=o,this;for(var i=o,s=r;0!==i&&s<this.length;s++){var a=0|this.words[s];i=(a+=i)>>>26,a&=67108863,this.words[s]=a}return 0!==i&&(this.words[s]=i,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var o=0|this.words[0];e=o===t?0:o<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],o=0|t.words[n];if(r!==o){r<o?e=-1:r>o&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},r(v,y),v.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),o=0;o<r;o++)e.words[o]=t.words[o];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=i&n,o=10;o<t.length;o++){var s=0|t.words[o];t.words[o-10]=(s&n)<<4|i>>>22,i=s}i>>>=22,t.words[o-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(b,y),r(w,y),r(_,y),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,o=67108863&r;r>>>=26,t.words[n]=o,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(f,new o(1).iushln(p-g-1));h=h.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],c=l-1;c>=0;c--){var f=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}l=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new x(t)},r(x,k),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),i=o;return o.cmp(this.m)>=0?i=o.isub(this.m):o.cmpn(0)<0&&(i=o.iadd(this.m)),i._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Xe)}));let sn=!1,an=!1;const ln={debug:1,default:2,info:2,warning:3,error:4,off:5};let un=ln.default,cn=null;const fn=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(n){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var hn,dn;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(hn||(hn={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(dn||(dn={}));const pn="0123456789abcdef";class mn{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const n=t.toLowerCase();null==ln[n]&&this.throwArgumentError("invalid log level name","logLevel",t),un>ln[n]||console.log.apply(console,e)}debug(...t){this._log(mn.levels.DEBUG,t)}info(...t){this._log(mn.levels.INFO,t)}warn(...t){this._log(mn.levels.WARNING,t)}makeError(t,e,n){if(an)return this.makeError("censored error",e,{});e||(e=mn.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((t=>{const e=n[t];try{if(e instanceof Uint8Array){let n="";for(let t=0;t<e.length;t++)n+=pn[e[t]>>4],n+=pn[15&e[t]];r.push(t+"=Uint8Array(0x"+n+")")}else r.push(t+"="+JSON.stringify(e))}catch(e){r.push(t+"="+JSON.stringify(n[t].toString()))}})),r.push(`code=${e}`),r.push(`version=${this.version}`);const o=t;r.length&&(t+=" ("+r.join(", ")+")");const i=new Error(t);return i.reason=o,i.code=e,Object.keys(n).forEach((function(t){i[t]=n[t]})),i}throwError(t,e,n){throw this.makeError(t,e,n)}throwArgumentError(t,e,n){return this.throwError(t,mn.errors.INVALID_ARGUMENT,{argument:e,value:n})}assert(t,e,n,r){t||this.throwError(e,n,r)}assertArgument(t,e,n,r){t||this.throwArgumentError(e,n,r)}checkNormalize(t){fn&&this.throwError("platform missing String.prototype.normalize",mn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:fn})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,mn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,mn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,n){n=n?": "+n:"",t<e&&this.throwError("missing argument"+n,mn.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+n,mn.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",mn.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",mn.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",mn.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return cn||(cn=new mn("logger/5.5.0")),cn}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",mn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),sn){if(!t)return;this.globalLogger().throwError("error censorship permanent",mn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}an=!!t,sn=!!e}static setLogLevel(t){const e=ln[t.toLowerCase()];null!=e?un=e:mn.globalLogger().warn("invalid log level - "+t)}static from(t){return new mn(t)}}mn.errors=dn,mn.levels=hn;const gn=new mn("bytes/5.5.0");function yn(t){return!!t.toHexString}function vn(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return vn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function bn(t){return On(t)&&!(t.length%2)||_n(t)}function wn(t){return"number"==typeof t&&t==t&&t%1==0}function _n(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!wn(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!wn(n)||n<0||n>=256)return!1}return!0}function kn(t,e){if(e||(e={}),"number"==typeof t){gn.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),vn(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),yn(t)&&(t=t.toHexString()),On(t)){let n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0x0"+n.substring(2):"right"===e.hexPad?n+="0":gn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let t=0;t<n.length;t+=2)r.push(parseInt(n.substring(t,t+2),16));return vn(new Uint8Array(r))}return _n(t)?vn(new Uint8Array(t)):gn.throwArgumentError("invalid arrayify value","value",t)}function xn(t){const e=t.map((t=>kn(t))),n=e.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(n);return e.reduce(((t,e)=>(r.set(e,t),t+e.length)),0),vn(r)}function En(t){let e=kn(t);if(0===e.length)return e;let n=0;for(;n<e.length&&0===e[n];)n++;return n&&(e=e.slice(n)),e}function On(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Nn="0123456789abcdef";function An(t,e){if(e||(e={}),"number"==typeof t){gn.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Nn[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),yn(t))return t.toHexString();if(On(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":gn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(_n(t)){let e="0x";for(let n=0;n<t.length;n++){let r=t[n];e+=Nn[(240&r)>>4]+Nn[15&r]}return e}return gn.throwArgumentError("invalid hexlify value","value",t)}function Sn(t){if("string"!=typeof t)t=An(t);else if(!On(t)||t.length%2)return null;return(t.length-2)/2}function Mn(t,e,n){return"string"!=typeof t?t=An(t):(!On(t)||t.length%2)&&gn.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=n?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Pn(t){let e="0x";return t.forEach((t=>{e+=An(t).substring(2)})),e}function Tn(t){const e=function(t){"string"!=typeof t&&(t=An(t));On(t)||gn.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(An(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Cn(t,e){for("string"!=typeof t?t=An(t):On(t)||gn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&gn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function jn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(bn(t)){const n=kn(t);65!==n.length&&gn.throwArgumentError("invalid signature string; must be 65 bytes","signature",t),e.r=An(n.slice(0,32)),e.s=An(n.slice(32,64)),e.v=n[64],e.v<27&&(0===e.v||1===e.v?e.v+=27:gn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=An(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const n=function(t,e){(t=kn(t)).length>e&&gn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),vn(n)}(kn(e._vs),32);e._vs=An(n);const r=n[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=r:e.recoveryParam!==r&&gn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),n[0]&=127;const o=An(n);null==e.s?e.s=o:e.s!==o&&gn.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?gn.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const n=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==n&&gn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&On(e.r)?e.r=Cn(e.r,32):gn.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&On(e.s)?e.s=Cn(e.s,32):gn.throwArgumentError("signature missing or invalid s","signature",t);const n=kn(e.s);n[0]>=128&&gn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=An(n);e._vs&&(On(e._vs)||gn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Cn(e._vs,32)),null==e._vs?e._vs=r:e._vs!==r&&gn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e}var In=on.BN;const Rn=new mn("bignumber/5.5.0"),Ln={},qn=9007199254740991;let $n=!1;class Dn{constructor(t,e){Rn.checkNew(new.target,Dn),t!==Ln&&Rn.throwError("cannot call constructor directly; use BigNumber.from",mn.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Fn(Un(this).fromTwos(t))}toTwos(t){return Fn(Un(this).toTwos(t))}abs(){return"-"===this._hex[0]?Dn.from(this._hex.substring(1)):this}add(t){return Fn(Un(this).add(Un(t)))}sub(t){return Fn(Un(this).sub(Un(t)))}div(t){return Dn.from(t).isZero()&&Hn("division by zero","div"),Fn(Un(this).div(Un(t)))}mul(t){return Fn(Un(this).mul(Un(t)))}mod(t){const e=Un(t);return e.isNeg()&&Hn("cannot modulo negative values","mod"),Fn(Un(this).umod(e))}pow(t){const e=Un(t);return e.isNeg()&&Hn("cannot raise to negative values","pow"),Fn(Un(this).pow(e))}and(t){const e=Un(t);return(this.isNegative()||e.isNeg())&&Hn("cannot 'and' negative values","and"),Fn(Un(this).and(e))}or(t){const e=Un(t);return(this.isNegative()||e.isNeg())&&Hn("cannot 'or' negative values","or"),Fn(Un(this).or(e))}xor(t){const e=Un(t);return(this.isNegative()||e.isNeg())&&Hn("cannot 'xor' negative values","xor"),Fn(Un(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Hn("cannot mask negative values","mask"),Fn(Un(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Hn("cannot shift negative values","shl"),Fn(Un(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Hn("cannot shift negative values","shr"),Fn(Un(this).shrn(t))}eq(t){return Un(this).eq(Un(t))}lt(t){return Un(this).lt(Un(t))}lte(t){return Un(this).lte(Un(t))}gt(t){return Un(this).gt(Un(t))}gte(t){return Un(this).gte(Un(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Un(this).isZero()}toNumber(){try{return Un(this).toNumber()}catch(t){Hn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Rn.throwError("this platform does not support BigInt",mn.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?$n||($n=!0,Rn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Rn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",mn.errors.UNEXPECTED_ARGUMENT,{}):Rn.throwError("BigNumber.toString does not accept parameters",mn.errors.UNEXPECTED_ARGUMENT,{})),Un(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Dn)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Dn(Ln,Bn(t)):t.match(/^-?[0-9]+$/)?new Dn(Ln,Bn(new In(t))):Rn.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Hn("underflow","BigNumber.from",t),(t>=qn||t<=-qn)&&Hn("overflow","BigNumber.from",t),Dn.from(String(t));const e=t;if("bigint"==typeof e)return Dn.from(e.toString());if(_n(e))return Dn.from(An(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Dn.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(On(t)||"-"===t[0]&&On(t.substring(1))))return Dn.from(t)}return Rn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Bn(t){if("string"!=typeof t)return Bn(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Rn.throwArgumentError("invalid hex","value",t),"0x00"===(t=Bn(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Fn(t){return Dn.from(Bn(t))}function Un(t){const e=Dn.from(t).toHexString();return"-"===e[0]?new In("-"+e.substring(3),16):new In(e.substring(2),16)}function Hn(t,e,n){const r={fault:t,operation:e};return null!=n&&(r.value=n),Rn.throwError(t,mn.errors.NUMERIC_FAULT,r)}var Yn=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const zn=new mn("properties/5.5.0");function Vn(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function Gn(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Wn(t){return Yn(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const n=t[e];return Promise.resolve(n).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function Kn(t){const e={};for(const n in t)e[n]=t[n];return e}const Zn={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Jn(t){if(null==t||Zn[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch(t){continue}if(!Jn(r))return!1}return!0}return zn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Xn(t){if(Jn(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Qn(t))));if("object"==typeof t){const e={};for(const n in t){const r=t[n];void 0!==r&&Vn(e,n,Qn(r))}return e}return zn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Qn(t){return Xn(t)}
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */
var tr=en((function(t){!function(){var e="input is invalid type",n="object"==typeof window,r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=Xe:o&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&t.exports,s=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),l=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],h=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,n){return function(r){return new P(t,e,t).update(r)[n]()}},g=function(t,e,n){return function(r,o){return new P(t,e,o).update(r)[n]()}},y=function(t,e,n){return function(e,r,o,i){return k["cshake"+t].update(e,r,o,i)[n]()}},v=function(t,e,n){return function(e,r,o,i){return k["kmac"+t].update(e,r,o,i)[n]()}},b=function(t,e,n,r){for(var o=0;o<d.length;++o){var i=d[o];t[i]=e(n,r,i)}return t},w=function(t,e){var n=m(t,e,"hex");return n.create=function(){return new P(t,e,t)},n.update=function(t){return n.create().update(t)},b(n,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(t,e){var n=g(t,e,"hex");return n.create=function(n){return new P(t,e,n)},n.update=function(t,e){return n.create(e).update(t)},b(n,g,t,e)}},{name:"cshake",padding:l,bits:h,createMethod:function(t,e){var n=p[t],r=y(t,0,"hex");return r.create=function(r,o,i){return o||i?new P(t,e,r).bytepad([o,i],n):k["shake"+t].create(r)},r.update=function(t,e,n,o){return r.create(e,n,o).update(t)},b(r,y,t,e)}},{name:"kmac",padding:l,bits:h,createMethod:function(t,e){var n=p[t],r=v(t,0,"hex");return r.create=function(r,o,i){return new T(t,e,o).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(t,e,n,o){return r.create(t,n,o).update(e)},b(r,v,t,e)}}],k={},x=[],E=0;E<_.length;++E)for(var O=_[E],N=O.bits,A=0;A<N.length;++A){var S=O.name+"_"+N[A];if(x.push(S),k[S]=O.createMethod(N[A],O.padding),"sha3"!==O.name){var M=O.name+N[A];x.push(M),k[M]=k[S]}}function P(t,e,n){this.blocks=[],this.s=[],this.padding=e,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function T(t,e,n){P.call(this,t,e,n)}P.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var o,i,a=this.blocks,l=this.byteCount,c=t.length,f=this.blockCount,h=0,d=this.s;h<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,o=1;o<f+1;++o)a[o]=0;if(n)for(o=this.start;h<c&&o<l;++h)a[o>>2]|=t[h]<<u[3&o++];else for(o=this.start;h<c&&o<l;++h)(i=t.charCodeAt(h))<128?a[o>>2]|=i<<u[3&o++]:i<2048?(a[o>>2]|=(192|i>>6)<<u[3&o++],a[o>>2]|=(128|63&i)<<u[3&o++]):i<55296||i>=57344?(a[o>>2]|=(224|i>>12)<<u[3&o++],a[o>>2]|=(128|i>>6&63)<<u[3&o++],a[o>>2]|=(128|63&i)<<u[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++h)),a[o>>2]|=(240|i>>18)<<u[3&o++],a[o>>2]|=(128|i>>12&63)<<u[3&o++],a[o>>2]|=(128|i>>6&63)<<u[3&o++],a[o>>2]|=(128|63&i)<<u[3&o++]);if(this.lastByteIndex=o,o>=l){for(this.start=o-l,this.block=a[f],o=0;o<f;++o)d[o]^=a[o];C(d),this.reset=!0}else this.start=o}return this},P.prototype.encode=function(t,e){var n=255&t,r=1,o=[n];for(n=255&(t>>=8);n>0;)o.unshift(n),n=255&(t>>=8),++r;return e?o.push(r):o.unshift(r),this.update(o),o.length},P.prototype.encodeString=function(t){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}var o=0,i=t.length;if(n)o=i;else for(var a=0;a<t.length;++a){var l=t.charCodeAt(a);l<128?o+=1:l<2048?o+=2:l<55296||l>=57344?o+=3:(l=65536+((1023&l)<<10|1023&t.charCodeAt(++a)),o+=4)}return o+=this.encode(8*o),this.update(t),o},P.prototype.bytepad=function(t,e){for(var n=this.encode(e),r=0;r<t.length;++r)n+=this.encodeString(t[r]);var o=e-n%e,i=[];return i.length=o,this.update(i),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,n=this.blockCount,r=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[n],e=1;e<n+1;++e)t[e]=0;for(t[n-1]|=2147483648,e=0;e<n;++e)r[e]^=t[e];C(r)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,l="";s<r;){for(i=0;i<e&&s<r;++i,++s)t=n[i],l+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(C(n),i=0)}return o&&(t=n[i],l+=a[t>>4&15]+a[15&t],o>1&&(l+=a[t>>12&15]+a[t>>8&15]),o>2&&(l+=a[t>>20&15]+a[t>>16&15])),l},P.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=this.outputBits>>3;t=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(t);s<r;){for(i=0;i<e&&s<r;++i,++s)l[s]=n[i];s%e==0&&C(n)}return o&&(l[i]=n[i],t=t.slice(0,a)),t},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var t,e,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,s=0,a=0,l=[];a<o;){for(s=0;s<n&&a<o;++s,++a)t=a<<2,e=r[s],l[t]=255&e,l[t+1]=e>>8&255,l[t+2]=e>>16&255,l[t+3]=e>>24&255;a%n==0&&C(r)}return i&&(t=a<<2,e=r[s],l[t]=255&e,i>1&&(l[t+1]=e>>8&255),i>2&&(l[t+2]=e>>16&255)),l},T.prototype=new P,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var C=function(t){var e,n,r,o,i,s,a,l,u,f,h,d,p,m,g,y,v,b,w,_,k,x,E,O,N,A,S,M,P,T,C,j,I,R,L,q,$,D,B,F,U,H,Y,z,V,G,W,K,Z,J,X,Q,tt,et,nt,rt,ot,it,st,at,lt,ut,ct;for(r=0;r<48;r+=2)o=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],l=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),n=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=n,t[10]^=e,t[11]^=n,t[20]^=e,t[21]^=n,t[30]^=e,t[31]^=n,t[40]^=e,t[41]^=n,e=o^(l<<1|u>>>31),n=i^(u<<1|l>>>31),t[2]^=e,t[3]^=n,t[12]^=e,t[13]^=n,t[22]^=e,t[23]^=n,t[32]^=e,t[33]^=n,t[42]^=e,t[43]^=n,e=s^(f<<1|h>>>31),n=a^(h<<1|f>>>31),t[4]^=e,t[5]^=n,t[14]^=e,t[15]^=n,t[24]^=e,t[25]^=n,t[34]^=e,t[35]^=n,t[44]^=e,t[45]^=n,e=l^(d<<1|p>>>31),n=u^(p<<1|d>>>31),t[6]^=e,t[7]^=n,t[16]^=e,t[17]^=n,t[26]^=e,t[27]^=n,t[36]^=e,t[37]^=n,t[46]^=e,t[47]^=n,e=f^(o<<1|i>>>31),n=h^(i<<1|o>>>31),t[8]^=e,t[9]^=n,t[18]^=e,t[19]^=n,t[28]^=e,t[29]^=n,t[38]^=e,t[39]^=n,t[48]^=e,t[49]^=n,m=t[0],g=t[1],G=t[11]<<4|t[10]>>>28,W=t[10]<<4|t[11]>>>28,M=t[20]<<3|t[21]>>>29,P=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,lt=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,Y=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,C=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,nt=t[4]<<30|t[5]>>>2,q=t[14]<<6|t[15]>>>26,$=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,J=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,j=t[45]<<29|t[44]>>>3,I=t[44]<<29|t[45]>>>3,O=t[6]<<28|t[7]>>>4,N=t[7]<<28|t[6]>>>4,rt=t[17]<<23|t[16]>>>9,ot=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,B=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,z=t[8]<<27|t[9]>>>5,V=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,S=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,U=t[39]<<8|t[38]>>>24,x=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=m^~y&b,t[1]=g^~v&w,t[10]=O^~A&M,t[11]=N^~S&P,t[20]=R^~q&D,t[21]=L^~$&B,t[30]=z^~G&K,t[31]=V^~W&Z,t[40]=et^~rt&it,t[41]=nt^~ot&st,t[2]=y^~b&_,t[3]=v^~w&k,t[12]=A^~M&T,t[13]=S^~P&C,t[22]=q^~D&F,t[23]=$^~B&U,t[32]=G^~K&J,t[33]=W^~Z&X,t[42]=rt^~it&at,t[43]=ot^~st&lt,t[4]=b^~_&x,t[5]=w^~k&E,t[14]=M^~T&j,t[15]=P^~C&I,t[24]=D^~F&H,t[25]=B^~U&Y,t[34]=K^~J&Q,t[35]=Z^~X&tt,t[44]=it^~at&ut,t[45]=st^~lt&ct,t[6]=_^~x&m,t[7]=k^~E&g,t[16]=T^~j&O,t[17]=C^~I&N,t[26]=F^~H&R,t[27]=U^~Y&L,t[36]=J^~Q&z,t[37]=X^~tt&V,t[46]=at^~ut&et,t[47]=lt^~ct&nt,t[8]=x^~m&y,t[9]=E^~g&v,t[18]=j^~O&A,t[19]=I^~N&S,t[28]=H^~R&q,t[29]=Y^~L&$,t[38]=Q^~z&G,t[39]=tt^~V&W,t[48]=ut^~et&rt,t[49]=ct^~nt&ot,t[0]^=c[r],t[1]^=c[r+1]};if(i)t.exports=k;else for(E=0;E<x.length;++E)r[x[E]]=k[x[E]]}()})),er=tr;function nr(t){return"0x"+er.keccak_256(kn(t))}const rr=new mn("rlp/5.5.0");function or(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function ir(t,e,n){let r=0;for(let o=0;o<n;o++)r=256*r+t[e+o];return r}function sr(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(sr(t))})),e.length<=55)return e.unshift(192+e.length),e;const n=or(e.length);return n.unshift(247+n.length),n.concat(e)}bn(t)||rr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(kn(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=or(e.length);return n.unshift(183+n.length),n.concat(e)}function ar(t){return An(sr(t))}function lr(t,e,n,r){const o=[];for(;n<e+1+r;){const i=ur(t,n);o.push(i.result),(n+=i.consumed)>e+1+r&&rr.throwError("child data too short",mn.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:o}}function ur(t,e){if(0===t.length&&rr.throwError("data too short",mn.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&rr.throwError("data short segment too short",mn.errors.BUFFER_OVERRUN,{});const r=ir(t,e+1,n);return e+1+n+r>t.length&&rr.throwError("data long segment too short",mn.errors.BUFFER_OVERRUN,{}),lr(t,e,e+1+n,n+r)}if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&rr.throwError("data array too short",mn.errors.BUFFER_OVERRUN,{}),lr(t,e,e+1,n)}if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&rr.throwError("data array too short",mn.errors.BUFFER_OVERRUN,{});const r=ir(t,e+1,n);e+1+n+r>t.length&&rr.throwError("data array too short",mn.errors.BUFFER_OVERRUN,{});return{consumed:1+n+r,result:An(t.slice(e+1+n,e+1+n+r))}}if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&rr.throwError("data too short",mn.errors.BUFFER_OVERRUN,{});return{consumed:1+n,result:An(t.slice(e+1,e+1+n))}}return{consumed:1,result:An(t[e])}}function cr(t){const e=kn(t),n=ur(e,0);return n.consumed!==e.length&&rr.throwArgumentError("invalid rlp data","data",t),n.result}const fr=new mn("address/5.5.0");function hr(t){On(t,20)||fr.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let t=0;t<40;t++)n[t]=e[t].charCodeAt(0);const r=kn(nr(n));for(let t=0;t<40;t+=2)r[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&r[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const dr={};for(let t=0;t<10;t++)dr[String(t)]=String(t);for(let t=0;t<26;t++)dr[String.fromCharCode(65+t)]=String(10+t);const pr=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function mr(t){let e=null;if("string"!=typeof t&&fr.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=hr(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&fr.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>dr[t])).join("");for(;e.length>=pr;){let t=e.substring(0,pr);e=parseInt(t,10)%97+e.substring(t.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}(t)&&fr.throwArgumentError("bad icap checksum","address",t),n=t.substring(4),e=new In(n,36).toString(16);e.length<40;)e="0"+e;e=hr("0x"+e)}else fr.throwArgumentError("invalid address","address",t);var n;return e}const gr=Dn.from(0),yr=new mn("strings/5.5.0");var vr,br;function wr(t,e,n,r,o){if(t===br.BAD_PREFIX||t===br.UNEXPECTED_CONTINUE){let t=0;for(let r=e+1;r<n.length&&n[r]>>6==2;r++)t++;return t}return t===br.OVERRUN?n.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(vr||(vr={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(br||(br={}));const _r=Object.freeze({error:function(t,e,n,r,o){return yr.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)},ignore:wr,replace:function(t,e,n,r,o){return t===br.OVERLONG?(r.push(o),0):(r.push(65533),wr(t,e,n))}});function kr(t,e){null==e&&(e=_r.error),t=kn(t);const n=[];let r=0;for(;r<t.length;){const o=t[r++];if(o>>7==0){n.push(o);continue}let i=null,s=null;if(192==(224&o))i=1,s=127;else if(224==(240&o))i=2,s=2047;else{if(240!=(248&o)){r+=e(128==(192&o)?br.UNEXPECTED_CONTINUE:br.BAD_PREFIX,r-1,t,n);continue}i=3,s=65535}if(r-1+i>=t.length){r+=e(br.OVERRUN,r-1,t,n);continue}let a=o&(1<<8-i-1)-1;for(let o=0;o<i;o++){let o=t[r];if(128!=(192&o)){r+=e(br.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|63&o,r++}null!==a&&(a>1114111?r+=e(br.OUT_OF_RANGE,r-1-i,t,n,a):a>=55296&&a<=57343?r+=e(br.UTF16_SURROGATE,r-1-i,t,n,a):a<=s?r+=e(br.OVERLONG,r-1-i,t,n,a):n.push(a))}return n}function xr(t,e=vr.current){e!=vr.current&&(yr.checkNormalize(),t=t.normalize(e));let n=[];for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){e++;const o=t.charCodeAt(e);if(e>=t.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const i=65536+((1023&r)<<10)+(1023&o);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return kn(n)}function Er(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Or(t,e){return Er(kr(t,e))}function Nr(t,e=vr.current){return kr(xr(t,e))}function Ar(t,e){e||(e=function(t){return[parseInt(t,16)]});let n=0,r={};return t.split(",").forEach((t=>{let o=t.split(":");n+=parseInt(o[0],16),r[n]=e(o[1])})),r}function Sr(t){let e=0;return t.split(",").map((t=>{let n=t.split("-");1===n.length?n[1]="0":""===n[1]&&(n[1]="1");let r=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:r,h:e}}))}function Mr(t,e){let n=0;for(let r=0;r<e.length;r++){let o=e[r];if(n+=o.l,t>=n&&t<=n+o.h&&(t-n)%(o.d||1)==0){if(o.e&&-1!==o.e.indexOf(t-n))continue;return o}}return null}const Pr=Sr("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Tr="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Cr=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],jr=Ar("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ir=Ar("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Rr=Ar("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let n=0;n<t.length;n+=4)e.push(parseInt(t.substring(n,n+4),16));return e})),Lr=Sr("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function qr(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Nr(t);var n;n=e.map((t=>{if(Tr.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=Mr(t,Cr);if(e)return[t+e.s];let n=jr[t];if(n)return n;let r=Ir[t];return r?[t+r[0]]:Rr[t]||null}(t);return e||[t]})),e=n.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=Nr(Er(e),vr.NFKC),e.forEach((t=>{if(Mr(t,Lr))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(Mr(t,Pr))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=Er(e);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}function $r(t){return nr(xr(t))}const Dr="hash/5.5.0",Br=new mn(Dr),Fr=new Uint8Array(32);Fr.fill(0);const Ur=new RegExp("^((.*)\\.)?([^.]+)$");function Hr(t){"string"!=typeof t&&Br.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,n=Fr;for(;e.length;){const r=e.match(Ur);null!=r&&""!==r[2]||Br.throwArgumentError("invalid ENS address; missing component","name",t);n=nr(xn([n,nr(xr(qr(r[3])))])),e=r[2]||""}return An(n)}var Yr=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const zr=new mn(Dr),Vr=new Uint8Array(32);Vr.fill(0);const Gr=Dn.from(-1),Wr=Dn.from(0),Kr=Dn.from(1),Zr=Dn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Jr=Cn(Kr.toHexString(),32),Xr=Cn(Wr.toHexString(),32),Qr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},to=["name","version","chainId","verifyingContract","salt"];function eo(t){return function(e){return"string"!=typeof e&&zr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const no={name:eo("name"),version:eo("version"),chainId:function(t){try{return Dn.from(t).toString()}catch(t){}return zr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return mr(t).toLowerCase()}catch(t){}return zr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=kn(t);if(32!==e.length)throw new Error("bad length");return An(e)}catch(t){}return zr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ro(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=""===e[1],r=parseInt(e[2]||"256");(r%8!=0||r>256||e[2]&&e[2]!==String(r))&&zr.throwArgumentError("invalid numeric width","type",t);const o=Zr.mask(n?r-1:r),i=n?o.add(Kr).mul(Gr):Wr;return function(e){const n=Dn.from(e);return(n.lt(i)||n.gt(o))&&zr.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),Cn(n.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(0===n||n>32||e[1]!==String(n))&&zr.throwArgumentError("invalid bytes width","type",t),function(e){return kn(e).length!==n&&zr.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=kn(t),n=e.length%32;return n?Pn([e,Vr.slice(n)]):An(e)}(e)}}}switch(t){case"address":return function(t){return Cn(mr(t),32)};case"bool":return function(t){return t?Jr:Xr};case"bytes":return function(t){return nr(t)};case"string":return function(t){return $r(t)}}return null}function oo(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class io{constructor(t){Vn(this,"types",Object.freeze(Qn(t))),Vn(this,"_encoderCache",{}),Vn(this,"_types",{});const e={},n={},r={};Object.keys(t).forEach((t=>{e[t]={},n[t]=[],r[t]={}}));for(const r in t){const o={};t[r].forEach((i=>{o[i.name]&&zr.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(r)}`,"types",t),o[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===r&&zr.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t);ro(s)||(n[s]||zr.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),n[s].push(r),e[r][s]=!0)}))}const o=Object.keys(n).filter((t=>0===n[t].length));0===o.length?zr.throwArgumentError("missing primary type","types",t):o.length>1&&zr.throwArgumentError(`ambiguous primary types or unused types: ${o.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),Vn(this,"primaryType",o[0]),function o(i,s){s[i]&&zr.throwArgumentError(`circular type reference to ${JSON.stringify(i)}`,"types",t),s[i]=!0,Object.keys(e[i]).forEach((t=>{n[t]&&(o(t,s),Object.keys(s).forEach((e=>{r[e][t]=!0})))})),delete s[i]}(this.primaryType,{});for(const e in r){const n=Object.keys(r[e]);n.sort(),this._types[e]=oo(e,t[e])+n.map((e=>oo(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=ro(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],n=this.getEncoder(t),r=parseInt(e[3]);return e=>{r>=0&&e.length!==r&&zr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let o=e.map(n);return this._types[t]&&(o=o.map(nr)),nr(Pn(o))}}const n=this.types[t];if(n){const e=$r(this._types[t]);return t=>{const r=n.map((({name:e,type:n})=>{const r=this.getEncoder(n)(t[e]);return this._types[n]?nr(r):r}));return r.unshift(e),Pn(r)}}return zr.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||zr.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return nr(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,n){if(ro(t))return n(t,e);const r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const t=r[1],o=parseInt(r[3]);return o>=0&&e.length!==o&&zr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,n)))}const o=this.types[t];return o?o.reduce(((t,{name:r,type:o})=>(t[r]=this._visit(o,e[r],n),t)),{}):zr.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new io(t)}static getPrimaryType(t){return io.from(t).primaryType}static hashStruct(t,e,n){return io.from(e).hashStruct(t,n)}static hashDomain(t){const e=[];for(const n in t){const r=Qr[n];r||zr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),e.push({name:n,type:r})}return e.sort(((t,e)=>to.indexOf(t.name)-to.indexOf(e.name))),io.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,n){return Pn(["0x1901",io.hashDomain(t),io.from(e).hash(n)])}static hash(t,e,n){return nr(io.encode(t,e,n))}static resolveNames(t,e,n,r){return Yr(this,void 0,void 0,(function*(){t=Kn(t);const o={};t.verifyingContract&&!On(t.verifyingContract,20)&&(o[t.verifyingContract]="0x");const i=io.from(e);i.visit(n,((t,e)=>("address"!==t||On(e,20)||(o[e]="0x"),e)));for(const t in o)o[t]=yield r(t);return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=i.visit(n,((t,e)=>"address"===t&&o[e]?o[e]:e)),{domain:t,value:n}}))}static getPayload(t,e,n){io.hashDomain(t);const r={},o=[];to.forEach((e=>{const n=t[e];null!=n&&(r[e]=no[e](n),o.push({name:e,type:Qr[e]}))}));const i=io.from(e),s=Kn(e);return s.EIP712Domain?zr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=o,i.encode(n),{types:s,domain:r,primaryType:i.primaryType,message:i.visit(n,((t,e)=>{if(t.match(/^bytes(\d*)/))return An(kn(e));if(t.match(/^u?int/))return Dn.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&zr.throwArgumentError("invalid string","value",e),e}return zr.throwArgumentError("unsupported type","type",t)}))}}}var so=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const ao=new mn("abstract-provider/5.5.1");class lo{constructor(){ao.checkAbstract(new.target,lo),Vn(this,"_isProvider",!0)}getFeeData(){return so(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield Wn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let n=null,r=null;return t&&t.baseFeePerGas&&(r=Dn.from("2500000000"),n=t.baseFeePerGas.mul(2).add(r)),{maxFeePerGas:n,maxPriorityFeePerGas:r,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var uo=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const co=new mn("abstract-signer/5.5.0"),fo=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ho=[mn.errors.INSUFFICIENT_FUNDS,mn.errors.NONCE_EXPIRED,mn.errors.REPLACEMENT_UNDERPRICED];class po{constructor(){co.checkAbstract(new.target,po),Vn(this,"_isSigner",!0)}getBalance(t){return uo(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return uo(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return uo(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield Wn(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return uo(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield Wn(this.checkTransaction(t));return yield this.provider.call(n,e)}))}sendTransaction(t){return uo(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),n=yield this.signTransaction(e);return yield this.provider.sendTransaction(n)}))}getChainId(){return uo(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return uo(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return uo(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return uo(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===fo.indexOf(e)&&co.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=Kn(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&co.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return uo(this,void 0,void 0,(function*(){const e=yield Wn(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>uo(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&co.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const n=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!n?0!==e.type&&1!==e.type||!n||co.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):co.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(n&&co.throwError("network does not support EIP-1559",mn.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):co.throwError("failed to get consistent fee data",mn.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(ho.indexOf(t.code)>=0)throw t;return co.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",mn.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&co.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield Wn(e)}))}_checkProvider(t){this.provider||co.throwError("missing provider",mn.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}var mo=go;function go(t,e){if(!t)throw new Error(e||"Assertion failed")}function yo(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function vo(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function bo(t){return 1===t.length?"0"+t:t}function wo(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}go.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var _o={inherits:en((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}})),toArray:function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),o=0;o<t.length;o+=2)n.push(parseInt(t[o]+t[o+1],16))}else for(var r=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=63&i|128):yo(t,o)?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++o)),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=63&i|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=63&i|128)}else for(o=0;o<t.length;o++)n[o]=0|t[o];return n},toHex:function(t){for(var e="",n=0;n<t.length;n++)e+=bo(t[n].toString(16));return e},htonl:vo,toHex32:function(t,e){for(var n="",r=0;r<t.length;r++){var o=t[r];"little"===e&&(o=vo(o)),n+=wo(o.toString(16))}return n},zero2:bo,zero8:wo,join32:function(t,e,n,r){var o=n-e;mo(o%4==0);for(var i=new Array(o/4),s=0,a=e;s<i.length;s++,a+=4){var l;l="big"===r?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],i[s]=l>>>0}return i},split32:function(t,e){for(var n=new Array(4*t.length),r=0,o=0;r<t.length;r++,o+=4){var i=t[r];"big"===e?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,n){return t+e+n>>>0},sum32_4:function(t,e,n,r){return t+e+n+r>>>0},sum32_5:function(t,e,n,r,o){return t+e+n+r+o>>>0},sum64:function(t,e,n,r){var o=t[e],i=r+t[e+1]>>>0,s=(i<r?1:0)+n+o;t[e]=s>>>0,t[e+1]=i},sum64_hi:function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},sum64_lo:function(t,e,n,r){return e+r>>>0},sum64_4_hi:function(t,e,n,r,o,i,s,a){var l=0,u=e;return l+=(u=u+r>>>0)<e?1:0,l+=(u=u+i>>>0)<i?1:0,t+n+o+s+(l+=(u=u+a>>>0)<a?1:0)>>>0},sum64_4_lo:function(t,e,n,r,o,i,s,a){return e+r+i+a>>>0},sum64_5_hi:function(t,e,n,r,o,i,s,a,l,u){var c=0,f=e;return c+=(f=f+r>>>0)<e?1:0,c+=(f=f+i>>>0)<i?1:0,c+=(f=f+a>>>0)<a?1:0,t+n+o+s+l+(c+=(f=f+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(t,e,n,r,o,i,s,a,l,u){return e+r+i+a+u>>>0},rotr64_hi:function(t,e,n){return(e<<32-n|t>>>n)>>>0},rotr64_lo:function(t,e,n){return(t<<32-n|e>>>n)>>>0},shr64_hi:function(t,e,n){return t>>>n},shr64_lo:function(t,e,n){return(t<<32-n|e>>>n)>>>0}};function ko(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var xo=ko;ko.prototype.update=function(t,e){if(t=_o.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=_o.join32(t,0,t.length-n,this.endian);for(var r=0;r<t.length;r+=this._delta32)this._update(t,r,r+this._delta32)}return this},ko.prototype.digest=function(t){return this.update(this._pad()),mo(null===this.pending),this._digest(t)},ko.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(t<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=t>>>24&255,r[o++]=t>>>16&255,r[o++]=t>>>8&255,r[o++]=255&t}else for(r[o++]=255&t,r[o++]=t>>>8&255,r[o++]=t>>>16&255,r[o++]=t>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r};var Eo={BlockHash:xo},Oo=_o.rotr32;var No=function(t,e,n,r){return 0===t?Ao(e,n,r):1===t||3===t?Mo(e,n,r):2===t?So(e,n,r):void 0};function Ao(t,e,n){return t&e^~t&n}function So(t,e,n){return t&e^t&n^e&n}function Mo(t,e,n){return t^e^n}var Po=function(t){return Oo(t,2)^Oo(t,13)^Oo(t,22)};var To=function(t){return Oo(t,6)^Oo(t,11)^Oo(t,25)};var Co=function(t){return Oo(t,7)^Oo(t,18)^t>>>3};var jo=function(t){return Oo(t,17)^Oo(t,19)^t>>>10},Io={ft_1:No,ch32:Ao,maj32:So,p32:Mo,s0_256:Po,s1_256:To,g0_256:Co,g1_256:jo},Ro=_o.rotl32,Lo=_o.sum32,qo=_o.sum32_5,$o=Io.ft_1,Do=Eo.BlockHash,Bo=[1518500249,1859775393,2400959708,3395469782];function Fo(){if(!(this instanceof Fo))return new Fo;Do.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_o.inherits(Fo,Do);var Uo=Fo;Fo.blockSize=512,Fo.outSize=160,Fo.hmacStrength=80,Fo.padLength=64,Fo.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=Ro(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4];for(r=0;r<n.length;r++){var u=~~(r/20),c=qo(Ro(o,5),$o(u,i,s,a),l,n[r],Bo[u]);l=a,a=s,s=Ro(i,30),i=o,o=c}this.h[0]=Lo(this.h[0],o),this.h[1]=Lo(this.h[1],i),this.h[2]=Lo(this.h[2],s),this.h[3]=Lo(this.h[3],a),this.h[4]=Lo(this.h[4],l)},Fo.prototype._digest=function(t){return"hex"===t?_o.toHex32(this.h,"big"):_o.split32(this.h,"big")};var Ho=_o.sum32,Yo=_o.sum32_4,zo=_o.sum32_5,Vo=Io.ch32,Go=Io.maj32,Wo=Io.s0_256,Ko=Io.s1_256,Zo=Io.g0_256,Jo=Io.g1_256,Xo=Eo.BlockHash,Qo=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ti(){if(!(this instanceof ti))return new ti;Xo.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Qo,this.W=new Array(64)}_o.inherits(ti,Xo);var ei=ti;function ni(){if(!(this instanceof ni))return new ni;ei.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ti.blockSize=512,ti.outSize=256,ti.hmacStrength=192,ti.padLength=64,ti.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=Yo(Jo(n[r-2]),n[r-7],Zo(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7];for(mo(this.k.length===n.length),r=0;r<n.length;r++){var h=zo(f,Ko(l),Vo(l,u,c),this.k[r],n[r]),d=Ho(Wo(o),Go(o,i,s));f=c,c=u,u=l,l=Ho(a,h),a=s,s=i,i=o,o=Ho(h,d)}this.h[0]=Ho(this.h[0],o),this.h[1]=Ho(this.h[1],i),this.h[2]=Ho(this.h[2],s),this.h[3]=Ho(this.h[3],a),this.h[4]=Ho(this.h[4],l),this.h[5]=Ho(this.h[5],u),this.h[6]=Ho(this.h[6],c),this.h[7]=Ho(this.h[7],f)},ti.prototype._digest=function(t){return"hex"===t?_o.toHex32(this.h,"big"):_o.split32(this.h,"big")},_o.inherits(ni,ei);var ri=ni;ni.blockSize=512,ni.outSize=224,ni.hmacStrength=192,ni.padLength=64,ni.prototype._digest=function(t){return"hex"===t?_o.toHex32(this.h.slice(0,7),"big"):_o.split32(this.h.slice(0,7),"big")};var oi=_o.rotr64_hi,ii=_o.rotr64_lo,si=_o.shr64_hi,ai=_o.shr64_lo,li=_o.sum64,ui=_o.sum64_hi,ci=_o.sum64_lo,fi=_o.sum64_4_hi,hi=_o.sum64_4_lo,di=_o.sum64_5_hi,pi=_o.sum64_5_lo,mi=Eo.BlockHash,gi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function yi(){if(!(this instanceof yi))return new yi;mi.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=gi,this.W=new Array(160)}_o.inherits(yi,mi);var vi=yi;function bi(t,e,n,r,o){var i=t&n^~t&o;return i<0&&(i+=4294967296),i}function wi(t,e,n,r,o,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function _i(t,e,n,r,o){var i=t&n^t&o^n&o;return i<0&&(i+=4294967296),i}function ki(t,e,n,r,o,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function xi(t,e){var n=oi(t,e,28)^oi(e,t,2)^oi(e,t,7);return n<0&&(n+=4294967296),n}function Ei(t,e){var n=ii(t,e,28)^ii(e,t,2)^ii(e,t,7);return n<0&&(n+=4294967296),n}function Oi(t,e){var n=oi(t,e,14)^oi(t,e,18)^oi(e,t,9);return n<0&&(n+=4294967296),n}function Ni(t,e){var n=ii(t,e,14)^ii(t,e,18)^ii(e,t,9);return n<0&&(n+=4294967296),n}function Ai(t,e){var n=oi(t,e,1)^oi(t,e,8)^si(t,e,7);return n<0&&(n+=4294967296),n}function Si(t,e){var n=ii(t,e,1)^ii(t,e,8)^ai(t,e,7);return n<0&&(n+=4294967296),n}function Mi(t,e){var n=oi(t,e,19)^oi(e,t,29)^si(t,e,6);return n<0&&(n+=4294967296),n}function Pi(t,e){var n=ii(t,e,19)^ii(e,t,29)^ai(t,e,6);return n<0&&(n+=4294967296),n}function Ti(){if(!(this instanceof Ti))return new Ti;vi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}yi.blockSize=1024,yi.outSize=512,yi.hmacStrength=192,yi.padLength=128,yi.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var o=Mi(n[r-4],n[r-3]),i=Pi(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],l=Ai(n[r-30],n[r-29]),u=Si(n[r-30],n[r-29]),c=n[r-32],f=n[r-31];n[r]=fi(o,i,s,a,l,u,c,f),n[r+1]=hi(o,i,s,a,l,u,c,f)}},yi.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],l=this.h[5],u=this.h[6],c=this.h[7],f=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],y=this.h[14],v=this.h[15];mo(this.k.length===n.length);for(var b=0;b<n.length;b+=2){var w=y,_=v,k=Oi(f,h),x=Ni(f,h),E=bi(f,h,d,p,m),O=wi(f,h,d,p,m,g),N=this.k[b],A=this.k[b+1],S=n[b],M=n[b+1],P=di(w,_,k,x,E,O,N,A,S,M),T=pi(w,_,k,x,E,O,N,A,S,M);w=xi(r,o),_=Ei(r,o),k=_i(r,o,i,s,a),x=ki(r,o,i,s,a,l);var C=ui(w,_,k,x),j=ci(w,_,k,x);y=m,v=g,m=d,g=p,d=f,p=h,f=ui(u,c,P,T),h=ci(c,c,P,T),u=a,c=l,a=i,l=s,i=r,s=o,r=ui(P,T,C,j),o=ci(P,T,C,j)}li(this.h,0,r,o),li(this.h,2,i,s),li(this.h,4,a,l),li(this.h,6,u,c),li(this.h,8,f,h),li(this.h,10,d,p),li(this.h,12,m,g),li(this.h,14,y,v)},yi.prototype._digest=function(t){return"hex"===t?_o.toHex32(this.h,"big"):_o.split32(this.h,"big")},_o.inherits(Ti,vi);var Ci=Ti;Ti.blockSize=1024,Ti.outSize=384,Ti.hmacStrength=192,Ti.padLength=128,Ti.prototype._digest=function(t){return"hex"===t?_o.toHex32(this.h.slice(0,12),"big"):_o.split32(this.h.slice(0,12),"big")};var ji={sha1:Uo,sha224:ri,sha256:ei,sha384:Ci,sha512:vi},Ii=_o.rotl32,Ri=_o.sum32,Li=_o.sum32_3,qi=_o.sum32_4,$i=Eo.BlockHash;function Di(){if(!(this instanceof Di))return new Di;$i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_o.inherits(Di,$i);var Bi=Di;function Fi(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function Ui(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Hi(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Di.blockSize=512,Di.outSize=160,Di.hmacStrength=192,Di.padLength=64,Di.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],o=this.h[2],i=this.h[3],s=this.h[4],a=n,l=r,u=o,c=i,f=s,h=0;h<80;h++){var d=Ri(Ii(qi(n,Fi(h,r,o,i),t[Yi[h]+e],Ui(h)),Vi[h]),s);n=s,s=i,i=Ii(o,10),o=r,r=d,d=Ri(Ii(qi(a,Fi(79-h,l,u,c),t[zi[h]+e],Hi(h)),Gi[h]),f),a=f,f=c,c=Ii(u,10),u=l,l=d}d=Li(this.h[1],o,c),this.h[1]=Li(this.h[2],i,f),this.h[2]=Li(this.h[3],s,a),this.h[3]=Li(this.h[4],n,l),this.h[4]=Li(this.h[0],r,u),this.h[0]=d},Di.prototype._digest=function(t){return"hex"===t?_o.toHex32(this.h,"little"):_o.split32(this.h,"little")};var Yi=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Vi=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Gi=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Wi={ripemd160:Bi};function Ki(t,e,n){if(!(this instanceof Ki))return new Ki(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(_o.toArray(e,n))}var Zi=Ki;Ki.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),mo(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Ki.prototype.update=function(t,e){return this.inner.update(t,e),this},Ki.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var Ji=en((function(t,e){var n=e;n.utils=_o,n.common=Eo,n.sha=ji,n.ripemd=Wi,n.hmac=Zi,n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160})),Xi=Ji;function Qi(t,e,n){return n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},t(n,n.exports),n.exports}var ts=es;function es(t,e){if(!t)throw new Error(e||"Assertion failed")}es.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var ns=Qi((function(t,e){var n=e;function r(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n].toString(16));return e}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(r=0;r<t.length;r++){var o=t.charCodeAt(r),i=o>>8,s=255&o;i?n.push(i,s):n.push(s)}return n},n.zero2=r,n.toHex=o,n.encode=function(t,e){return"hex"===e?o(t):t}})),rs=Qi((function(t,e){var n=e;n.assert=ts,n.toArray=ns.toArray,n.zero2=ns.zero2,n.toHex=ns.toHex,n.encode=ns.encode,n.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var o=1<<e+1,i=t.clone(),s=0;s<r.length;s++){var a,l=i.andln(o-1);i.isOdd()?(a=l>(o>>1)-1?(o>>1)-l:l,i.isubn(a)):a=0,r[s]=a,i.iushrn(1)}return r},n.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r,o=0,i=0;t.cmpn(-o)>0||e.cmpn(-i)>0;){var s,a,l=t.andln(3)+o&3,u=e.andln(3)+i&3;3===l&&(l=-1),3===u&&(u=-1),s=0==(1&l)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==u?l:-l,n[0].push(s),a=0==(1&u)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==l?u:-u,n[1].push(a),2*o===s+1&&(o=1-o),2*i===a+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n},n.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new on(t,"hex","le")}})),os=rs.getNAF,is=rs.getJSF,ss=rs.assert;function as(t,e){this.type=t,this.p=new on(e.p,16),this.red=e.prime?on.red(e.prime):on.mont(this.p),this.zero=new on(0).toRed(this.red),this.one=new on(1).toRed(this.red),this.two=new on(2).toRed(this.red),this.n=e.n&&new on(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ls=as;function us(t,e){this.curve=t,this.type=e,this.precomputed=null}as.prototype.point=function(){throw new Error("Not implemented")},as.prototype.validate=function(){throw new Error("Not implemented")},as.prototype._fixedNafMul=function(t,e){ss(t.precomputed);var n=t._getDoubles(),r=os(e,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var i,s,a=[];for(i=0;i<r.length;i+=n.step){s=0;for(var l=i+n.step-1;l>=i;l--)s=(s<<1)+r[l];a.push(s)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=o;f>0;f--){for(i=0;i<a.length;i++)(s=a[i])===f?c=c.mixedAdd(n.points[i]):s===-f&&(c=c.mixedAdd(n.points[i].neg()));u=u.add(c)}return u.toP()},as.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var o=r.points,i=os(e,n,this._bitLength),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var l=0;a>=0&&0===i[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=i[a];ss(0!==u),s="affine"===t.type?u>0?s.mixedAdd(o[u-1>>1]):s.mixedAdd(o[-u-1>>1].neg()):u>0?s.add(o[u-1>>1]):s.add(o[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},as.prototype._wnafMulAdd=function(t,e,n,r,o){var i,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0;for(i=0;i<r;i++){var h=(a=e[i])._getNAFPoints(t);l[i]=h.wnd,u[i]=h.points}for(i=r-1;i>=1;i-=2){var d=i-1,p=i;if(1===l[d]&&1===l[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=is(n[d],n[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),s=0;s<f;s++){var v=0|y[0][s],b=0|y[1][s];c[d][s]=g[3*(v+1)+(b+1)],c[p][s]=0,u[d]=m}}else c[d]=os(n[d],l[d],this._bitLength),c[p]=os(n[p],l[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(i=f;i>=0;i--){for(var k=0;i>=0;){var x=!0;for(s=0;s<r;s++)_[s]=0|c[s][i],0!==_[s]&&(x=!1);if(!x)break;k++,i--}if(i>=0&&k++,w=w.dblp(k),i<0)break;for(s=0;s<r;s++){var E=_[s];0!==E&&(E>0?a=u[s][E-1>>1]:E<0&&(a=u[s][-E-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(i=0;i<r;i++)u[i]=null;return o?w:w.toP()},as.BasePoint=us,us.prototype.eq=function(){throw new Error("Not implemented")},us.prototype.validate=function(){return this.curve.validate(this)},as.prototype.decodePoint=function(t,e){t=rs.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?ss(t[t.length-1]%2==0):7===t[0]&&ss(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},us.prototype.encodeCompressed=function(t){return this.encode(t,!0)},us.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},us.prototype.encode=function(t,e){return rs.encode(this._encode(e),t)},us.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},us.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},us.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,o=0;o<e;o+=t){for(var i=0;i<t;i++)r=r.dbl();n.push(r)}return{step:t,points:n}},us.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),o=1;o<n;o++)e[o]=e[o-1].add(r);return{wnd:t,points:e}},us.prototype._getBeta=function(){return null},us.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e};var cs=Qi((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}})),fs=rs.assert;function hs(t){ls.call(this,"short",t),this.a=new on(t.a,16).toRed(this.red),this.b=new on(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}cs(hs,ls);var ds=hs;function ps(t,e,n,r){ls.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new on(e,16),this.y=new on(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ms(t,e,n,r){ls.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new on(0)):(this.x=new on(e,16),this.y=new on(n,16),this.z=new on(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}hs.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new on(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new on(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],fs(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new on(t.a,16),b:new on(t.b,16)}})):this._getEndoBasis(n)}}},hs.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:on.mont(t),n=new on(2).toRed(e).redInvm(),r=n.redNeg(),o=new on(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},hs.prototype._getEndoBasis=function(t){for(var e,n,r,o,i,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,h=this.n.clone(),d=new on(1),p=new on(0),m=new on(0),g=new on(1),y=0;0!==f.cmpn(0);){var v=h.div(f);l=h.sub(v.mul(f)),u=m.sub(v.mul(d));var b=g.sub(v.mul(p));if(!r&&l.cmp(c)<0)e=a.neg(),n=d,r=l.neg(),o=u;else if(r&&2==++y)break;a=l,h=f,f=l,m=d,d=u,g=p,p=b}i=l.neg(),s=u;var w=r.sqr().add(o.sqr());return i.sqr().add(s.sqr()).cmp(w)>=0&&(i=e,s=n),r.negative&&(r=r.neg(),o=o.neg()),i.negative&&(i=i.neg(),s=s.neg()),[{a:r,b:o},{a:i,b:s}]},hs.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],o=r.b.mul(t).divRound(this.n),i=n.b.neg().mul(t).divRound(this.n),s=o.mul(n.a),a=i.mul(r.a),l=o.mul(n.b),u=i.mul(r.b);return{k1:t.sub(s).sub(a),k2:l.add(u).neg()}},hs.prototype.pointFromX=function(t,e){(t=new on(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},hs.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),o=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(o).cmpn(0)},hs.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,o=this._endoWnafT2,i=0;i<t.length;i++){var s=this._endoSplit(e[i]),a=t[i],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),r[2*i]=a,r[2*i+1]=l,o[2*i]=s.k1,o[2*i+1]=s.k2}for(var u=this._wnafMulAdd(1,r,o,2*i,n),c=0;c<2*i;c++)r[c]=null,o[c]=null;return u},cs(ps,ls.BasePoint),hs.prototype.point=function(t,e,n){return new ps(this,t,e,n)},hs.prototype.pointFromJSON=function(t,e){return ps.fromJSON(this,t,e)},ps.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},ps.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ps.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function o(e){return t.point(e[0],e[1],n)}var i=e[2];return r.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[r].concat(i.doubles.points.map(o))},naf:i.naf&&{wnd:i.naf.wnd,points:[r].concat(i.naf.points.map(o))}},r},ps.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ps.prototype.isInfinity=function(){return this.inf},ps.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},ps.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),i=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},ps.prototype.getX=function(){return this.x.fromRed()},ps.prototype.getY=function(){return this.y.fromRed()},ps.prototype.mul=function(t){return t=new on(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},ps.prototype.mulAdd=function(t,e,n){var r=[this,e],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,o):this.curve._wnafMulAdd(1,r,o,2)},ps.prototype.jmulAdd=function(t,e,n){var r=[this,e],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,o,!0):this.curve._wnafMulAdd(1,r,o,2,!0)},ps.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},ps.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},ps.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},cs(ms,ls.BasePoint),hs.prototype.jpoint=function(t,e,n){return new ms(this,t,e,n)},ms.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},ms.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ms.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),o=t.x.redMul(n),i=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),a=r.redSub(o),l=i.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=r.redMul(u),h=l.redSqr().redIAdd(c).redISub(f).redISub(f),d=l.redMul(f.redISub(h)).redISub(i.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(h,d,p)},ms.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),o=this.y,i=t.y.redMul(e).redMul(this.z),s=n.redSub(r),a=o.redSub(i);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=n.redMul(l),f=a.redSqr().redIAdd(u).redISub(c).redISub(c),h=a.redMul(c.redISub(f)).redISub(o.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},ms.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var r=this.curve.a,o=this.curve.tinv,i=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var c=i.redSqr(),f=u.redSqr(),h=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(l)),p=i.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(h);var v=u.redMul(a);e+1<t&&(l=l.redMul(h)),i=m,a=v,u=y}return this.curve.jpoint(i,u.redMul(o),a)},ms.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ms.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(r).redISub(i);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),l=a.redSqr().redISub(s).redISub(s),u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=a.redMul(s.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},ms.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(r).redISub(i);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);t=l;var u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,n)},ms.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,o=r.redSqr().redSqr(),i=e.redSqr(),s=n.redSqr(),a=i.redAdd(i).redIAdd(i).redIAdd(t.redMul(o)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(c,d,p)},ms.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),o=t.redAdd(t).redIAdd(t),i=o.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),l=r.redIAdd(r);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=o.redIAdd(s).redSqr().redISub(i).redISub(a).redISub(l),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(f,h,d)},ms.prototype.mul=function(t,e){return t=new on(t,e),this.curve._wnafMul(this,t)},ms.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),o=n.redMul(t.z);return 0===this.y.redMul(o).redISub(t.y.redMul(r)).cmpn(0)},ms.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),o=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),0===this.x.cmp(n))return!0}},ms.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ms.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var gs=Qi((function(t,e){var n=e;n.base=ls,n.short=ds,n.mont=null,n.edwards=null})),ys=Qi((function(t,e){var n,r=e,o=rs.assert;function i(t){"short"===t.type?this.curve=new gs.short(t):"edwards"===t.type?this.curve=new gs.edwards(t):this.curve=new gs.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var n=new i(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=i,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Xi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Xi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Xi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Xi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Xi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Xi.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Xi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(t){n=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Xi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function vs(t){if(!(this instanceof vs))return new vs(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ns.toArray(t.entropy,t.entropyEnc||"hex"),n=ns.toArray(t.nonce,t.nonceEnc||"hex"),r=ns.toArray(t.pers,t.persEnc||"hex");ts(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var bs=vs;vs.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},vs.prototype._hmac=function(){return new Xi.hmac(this.hash,this.K)},vs.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},vs.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=ns.toArray(t,e),n=ns.toArray(n,r),ts(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},vs.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=ns.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var i=o.slice(0,t);return this._update(n),this._reseed++,ns.encode(i,e)};var ws=rs.assert;function _s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ks=_s;_s.fromPublic=function(t,e,n){return e instanceof _s?e:new _s(t,{pub:e,pubEnc:n})},_s.fromPrivate=function(t,e,n){return e instanceof _s?e:new _s(t,{priv:e,privEnc:n})},_s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},_s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},_s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},_s.prototype._importPrivate=function(t,e){this.priv=new on(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},_s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?ws(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ws(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},_s.prototype.derive=function(t){return t.validate()||ws(t.validate(),"public point not validated"),t.mul(this.priv).getX()},_s.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},_s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},_s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var xs=rs.assert;function Es(t,e){if(t instanceof Es)return t;this._importDER(t,e)||(xs(t.r&&t.s,"Signature without r or s"),this.r=new on(t.r,16),this.s=new on(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Os=Es;function Ns(){this.place=0}function As(t,e){var n=t[e.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var o=0,i=0,s=e.place;i<r;i++,s++)o<<=8,o|=t[s],o>>>=0;return!(o<=127)&&(e.place=s,o)}function Ss(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function Ms(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}Es.prototype._importDER=function(t,e){t=rs.toArray(t,e);var n=new Ns;if(48!==t[n.place++])return!1;var r=As(t,n);if(!1===r)return!1;if(r+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var o=As(t,n);if(!1===o)return!1;var i=t.slice(n.place,o+n.place);if(n.place+=o,2!==t[n.place++])return!1;var s=As(t,n);if(!1===s)return!1;if(t.length!==s+n.place)return!1;var a=t.slice(n.place,s+n.place);if(0===i[0]){if(!(128&i[1]))return!1;i=i.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new on(i),this.s=new on(a),this.recoveryParam=null,!0},Es.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=Ss(e),n=Ss(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];Ms(r,e.length),(r=r.concat(e)).push(2),Ms(r,n.length);var o=r.concat(n),i=[48];return Ms(i,o.length),i=i.concat(o),rs.encode(i,t)};var Ps=function(){throw new Error("unsupported")},Ts=rs.assert;function Cs(t){if(!(this instanceof Cs))return new Cs(t);"string"==typeof t&&(Ts(Object.prototype.hasOwnProperty.call(ys,t),"Unknown curve "+t),t=ys[t]),t instanceof ys.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var js=Cs;Cs.prototype.keyPair=function(t){return new ks(this,t)},Cs.prototype.keyFromPrivate=function(t,e){return ks.fromPrivate(this,t,e)},Cs.prototype.keyFromPublic=function(t,e){return ks.fromPublic(this,t,e)},Cs.prototype.genKeyPair=function(t){t||(t={});for(var e=new bs({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ps(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new on(2));;){var o=new on(e.generate(n));if(!(o.cmp(r)>0))return o.iaddn(1),this.keyFromPrivate(o)}},Cs.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Cs.prototype.sign=function(t,e,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new on(t,16));for(var o=this.n.byteLength(),i=e.getPrivate().toArray("be",o),s=t.toArray("be",o),a=new bs({hash:this.hash,entropy:i,nonce:s,pers:r.pers,persEnc:r.persEnc||"utf8"}),l=this.n.sub(new on(1)),u=0;;u++){var c=r.k?r.k(u):new on(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return r.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Os({r:d,s:p,recoveryParam:m})}}}}}},Cs.prototype.verify=function(t,e,n,r){t=this._truncateToN(new on(t,16)),n=this.keyFromPublic(n,r);var o=(e=new Os(e,"hex")).r,i=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s,a=i.invm(this.n),l=a.mul(t).umod(this.n),u=a.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),u)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,n.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},Cs.prototype.recoverPubKey=function(t,e,n,r){Ts((3&n)===n,"The recovery param is more than two bits"),e=new Os(e,r);var o=this.n,i=new on(t),s=e.r,a=e.s,l=1&n,u=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=e.r.invm(o),f=o.sub(i).mul(c).umod(o),h=a.mul(c).umod(o);return this.g.mulAdd(f,s,h)},Cs.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new Os(e,r)).recoveryParam)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(t,e,o)}catch(t){continue}if(i.eq(n))return o}throw new Error("Unable to find valid recovery factor")};var Is=Qi((function(t,e){var n=e;n.version="6.5.4",n.utils=rs,n.rand=function(){throw new Error("unsupported")},n.curve=gs,n.curves=ys,n.ec=js,n.eddsa=null})).ec;const Rs=new mn("signing-key/5.5.0");let Ls=null;function qs(){return Ls||(Ls=new Is("secp256k1")),Ls}class $s{constructor(t){Vn(this,"curve","secp256k1"),Vn(this,"privateKey",An(t));const e=qs().keyFromPrivate(kn(this.privateKey));Vn(this,"publicKey","0x"+e.getPublic(!1,"hex")),Vn(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Vn(this,"_isSigningKey",!0)}_addPoint(t){const e=qs().keyFromPublic(kn(this.publicKey)),n=qs().keyFromPublic(kn(t));return"0x"+e.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const e=qs().keyFromPrivate(kn(this.privateKey)),n=kn(t);32!==n.length&&Rs.throwArgumentError("bad digest length","digest",t);const r=e.sign(n,{canonical:!0});return jn({recoveryParam:r.recoveryParam,r:Cn("0x"+r.r.toString(16),32),s:Cn("0x"+r.s.toString(16),32)})}computeSharedSecret(t){const e=qs().keyFromPrivate(kn(this.privateKey)),n=qs().keyFromPublic(kn(Ds(t)));return Cn("0x"+e.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Ds(t,e){const n=kn(t);if(32===n.length){const t=new $s(n);return e?"0x"+qs().keyFromPrivate(n).getPublic(!0,"hex"):t.publicKey}return 33===n.length?e?An(n):"0x"+qs().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?e?"0x"+qs().keyFromPublic(n).getPublic(!0,"hex"):An(n):Rs.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Bs=new mn("transactions/5.5.0");var Fs;function Us(t){return"0x"===t?null:mr(t)}function Hs(t){return"0x"===t?gr:Dn.from(t)}function Ys(t,e){return function(t){return mr(Mn(nr(Mn(Ds(t),1)),12))}(function(t,e){const n=jn(e),r={r:kn(n.r),s:kn(n.s)};return"0x"+qs().recoverPubKey(kn(t),r,n.recoveryParam).encode("hex",!1)}(kn(t),e))}function zs(t,e){const n=En(Dn.from(t).toHexString());return n.length>32&&Bs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function Vs(t,e){return{address:mr(t),storageKeys:(e||[]).map(((e,n)=>(32!==Sn(e)&&Bs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,e),e.toLowerCase())))}}function Gs(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Bs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Vs(t[0],t[1])):Vs(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const n=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Vs(e,Object.keys(n).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Ws(t){return Gs(t).map((t=>[t.address,t.storageKeys]))}function Ks(t,e){if(null!=t.gasPrice){const e=Dn.from(t.gasPrice),n=Dn.from(t.maxFeePerGas||0);e.eq(n)||Bs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:n})}const n=[zs(t.chainId||0,"chainId"),zs(t.nonce||0,"nonce"),zs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),zs(t.maxFeePerGas||0,"maxFeePerGas"),zs(t.gasLimit||0,"gasLimit"),null!=t.to?mr(t.to):"0x",zs(t.value||0,"value"),t.data||"0x",Ws(t.accessList||[])];if(e){const t=jn(e);n.push(zs(t.recoveryParam,"recoveryParam")),n.push(En(t.r)),n.push(En(t.s))}return Pn(["0x02",ar(n)])}function Zs(t,e){const n=[zs(t.chainId||0,"chainId"),zs(t.nonce||0,"nonce"),zs(t.gasPrice||0,"gasPrice"),zs(t.gasLimit||0,"gasLimit"),null!=t.to?mr(t.to):"0x",zs(t.value||0,"value"),t.data||"0x",Ws(t.accessList||[])];if(e){const t=jn(e);n.push(zs(t.recoveryParam,"recoveryParam")),n.push(En(t.r)),n.push(En(t.s))}return Pn(["0x01",ar(n)])}function Js(t,e,n){try{const n=Hs(e[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");t.v=n}catch(t){Bs.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Cn(e[1],32),t.s=Cn(e[2],32);try{const e=nr(n(t));t.from=Ys(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){console.log(t)}}function Xs(t){const e=kn(t);if(e[0]>127)return function(t){const e=cr(t);9!==e.length&&6!==e.length&&Bs.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Hs(e[0]).toNumber(),gasPrice:Hs(e[1]),gasLimit:Hs(e[2]),to:Us(e[3]),value:Hs(e[4]),data:e[5],chainId:0};if(6===e.length)return n;try{n.v=Dn.from(e[6]).toNumber()}catch(t){return console.log(t),n}if(n.r=Cn(e[7],32),n.s=Cn(e[8],32),Dn.from(n.r).isZero()&&Dn.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const o=e.slice(0,6);0!==n.chainId&&(o.push(An(n.chainId)),o.push("0x"),o.push("0x"),r-=2*n.chainId+8);const i=nr(ar(o));try{n.from=Ys(i,{r:An(n.r),s:An(n.s),recoveryParam:r})}catch(t){console.log(t)}n.hash=nr(t)}return n.type=null,n}(e);switch(e[0]){case 1:return function(t){const e=cr(t.slice(1));8!==e.length&&11!==e.length&&Bs.throwArgumentError("invalid component count for transaction type: 1","payload",An(t));const n={type:1,chainId:Hs(e[0]).toNumber(),nonce:Hs(e[1]).toNumber(),gasPrice:Hs(e[2]),gasLimit:Hs(e[3]),to:Us(e[4]),value:Hs(e[5]),data:e[6],accessList:Gs(e[7])};return 8===e.length||(n.hash=nr(t),Js(n,e.slice(8),Zs)),n}(e);case 2:return function(t){const e=cr(t.slice(1));9!==e.length&&12!==e.length&&Bs.throwArgumentError("invalid component count for transaction type: 2","payload",An(t));const n=Hs(e[2]),r=Hs(e[3]),o={type:2,chainId:Hs(e[0]).toNumber(),nonce:Hs(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Hs(e[4]),to:Us(e[5]),value:Hs(e[6]),data:e[7],accessList:Gs(e[8])};return 9===e.length||(o.hash=nr(t),Js(o,e.slice(9),Ks)),o}(e)}return Bs.throwError(`unsupported transaction type: ${e[0]}`,mn.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Fs||(Fs={}));class Qs{constructor(t){Vn(this,"alphabet",t),Vn(this,"base",t.length),Vn(this,"_alphabetMap",{}),Vn(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=kn(t);if(0===e.length)return"";let n=[0];for(let t=0;t<e.length;++t){let r=e[t];for(let t=0;t<n.length;++t)r+=n[t]<<8,n[t]=r%this.base,r=r/this.base|0;for(;r>0;)n.push(r%this.base),r=r/this.base|0}let r="";for(let t=0;0===e[t]&&t<e.length-1;++t)r+=this._leader;for(let t=n.length-1;t>=0;--t)r+=this.alphabet[n[t]];return r}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let n=0;n<t.length;n++){let r=this._alphabetMap[t[n]];if(void 0===r)throw new Error("Non-base"+this.base+" character");let o=r;for(let t=0;t<e.length;++t)o+=e[t]*this.base,e[t]=255&o,o>>=8;for(;o>0;)e.push(255&o),o>>=8}for(let n=0;t[n]===this._leader&&n<t.length-1;++n)e.push(0);return kn(new Uint8Array(e.reverse()))}}new Qs("abcdefghijklmnopqrstuvwxyz234567");const ta=new Qs("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function ea(t){return"0x"+Xi.sha256().update(kn(t)).digest("hex")}new mn("sha2/5.5.0");const na=new mn("networks/5.5.2");function ra(t){const e=function(e,n){null==n&&(n={});const r=[];if(e.InfuraProvider)try{r.push(new e.InfuraProvider(t,n.infura))}catch(t){}if(e.EtherscanProvider)try{r.push(new e.EtherscanProvider(t,n.etherscan))}catch(t){}if(e.AlchemyProvider)try{r.push(new e.AlchemyProvider(t,n.alchemy))}catch(t){}if(e.PocketProvider){const n=["goerli","ropsten","rinkeby"];try{const o=new e.PocketProvider(t);o.network&&-1===n.indexOf(o.network.name)&&r.push(o)}catch(t){}}if(e.CloudflareProvider)try{r.push(new e.CloudflareProvider(t))}catch(t){}if(0===r.length)return null;if(e.FallbackProvider){let o=1;return null!=n.quorum?o=n.quorum:"homestead"===t&&(o=2),new e.FallbackProvider(r,o)}return r[0]};return e.renetwork=function(t){return ra(t)},e}function oa(t,e){const n=function(n,r){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return n.renetwork=function(e){return oa(t,e)},n}const ia={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ra("homestead")},sa={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ra("ropsten")},aa={chainId:63,name:"classicMordor",_defaultProvider:oa("https://www.ethercluster.com/mordor","classicMordor")},la={unspecified:{chainId:0,name:"unspecified"},homestead:ia,mainnet:ia,morden:{chainId:2,name:"morden"},ropsten:sa,testnet:sa,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ra("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ra("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ra("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:oa("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:aa,classicTestnet:aa,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:oa("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function ua(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return kn(e)}function ca(t){t=kn(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}var fa=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};function ha(t,e){return fa(this,void 0,void 0,(function*(){null==e&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client");const r=yield fetch(t,n),o=yield r.arrayBuffer(),i={};return r.headers.forEach?r.headers.forEach(((t,e)=>{i[e.toLowerCase()]=t})):r.headers.keys().forEach((t=>{i[t.toLowerCase()]=r.headers.get(t)})),{headers:i,statusCode:r.status,statusMessage:r.statusText,body:kn(new Uint8Array(o))}}))}var da=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const pa=new mn("web/5.5.1");function ma(t){return new Promise((e=>{setTimeout(e,t)}))}function ga(t,e){if(null==t)return null;if("string"==typeof t)return t;if(bn(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Or(t)}catch(t){}return An(t)}return t}function ya(t,e,n){let r=null;if(null!=e){r=xr(e);const n="string"==typeof t?{url:t}:Kn(t);if(n.headers){0!==Object.keys(n.headers).filter((t=>"content-type"===t.toLowerCase())).length||(n.headers=Kn(n.headers),n.headers["content-type"]="application/json")}else n.headers={"content-type":"application/json"};t=n}return function(t,e,n){const r="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;pa.assertArgument(r>0&&r%1==0,"invalid connection throttle limit","connection.throttleLimit",r);const o="object"==typeof t?t.throttleCallback:null,i="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;pa.assertArgument(i>0&&i%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s={};let a=null;const l={method:"GET"};let u=!1,c=12e4;if("string"==typeof t)a=t;else if("object"==typeof t){if(null!=t&&null!=t.url||pa.throwArgumentError("missing URL","connection.url",t),a=t.url,"number"==typeof t.timeout&&t.timeout>0&&(c=t.timeout),t.headers)for(const e in t.headers)s[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==a.substring(0,6)&&!0!==t.allowInsecureAuthentication&&pa.throwError("basic authentication requires a secure https url",mn.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+ca(xr(e))}}}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),h=a?a.match(f):null;if(h)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]},body:ua(h[2])};let e=t.body;return n&&(e=n(t.body,t)),Promise.resolve(e)}catch(t){pa.throwError("processing response error",mn.errors.SERVER_ERROR,{body:ga(h[1],h[2]),error:t,requestBody:null,requestMethod:"GET",url:a})}e&&(l.method="POST",l.body=e,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const d={};Object.keys(s).forEach((t=>{const e=s[t];d[e.key]=e.value})),l.headers=d;const p=function(){let t=null;return{promise:new Promise((function(e,n){c&&(t=setTimeout((()=>{null!=t&&(t=null,n(pa.makeError("timeout",mn.errors.TIMEOUT,{requestBody:ga(l.body,d["content-type"]),requestMethod:l.method,timeout:c,url:a})))}),c))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),m=function(){return da(this,void 0,void 0,(function*(){for(let t=0;t<r;t++){let e=null;try{if(e=yield ha(a,l),t<r)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===l.method&&t.match(/^https:/)){a=e.headers.location;continue}}else if(429===e.statusCode){let n=!0;if(o&&(n=yield o(t,a)),n){let n=0;const r=e.headers["retry-after"];n="string"==typeof r&&r.match(/^[1-9][0-9]*$/)?1e3*parseInt(r):i*parseInt(String(Math.random()*Math.pow(2,t))),yield ma(n);continue}}}catch(t){e=t.response,null==e&&(p.cancel(),pa.throwError("missing response",mn.errors.SERVER_ERROR,{requestBody:ga(l.body,d["content-type"]),requestMethod:l.method,serverError:t,url:a}))}let s=e.body;if(u&&304===e.statusCode?s=null:(e.statusCode<200||e.statusCode>=300)&&(p.cancel(),pa.throwError("bad response",mn.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:ga(s,e.headers?e.headers["content-type"]:null),requestBody:ga(l.body,d["content-type"]),requestMethod:l.method,url:a})),n)try{const t=yield n(s,e);return p.cancel(),t}catch(n){if(n.throttleRetry&&t<r){let e=!0;if(o&&(e=yield o(t,a)),e){const e=i*parseInt(String(Math.random()*Math.pow(2,t)));yield ma(e);continue}}p.cancel(),pa.throwError("processing response error",mn.errors.SERVER_ERROR,{body:ga(s,e.headers?e.headers["content-type"]:null),error:n,requestBody:ga(l.body,d["content-type"]),requestMethod:l.method,url:a})}return p.cancel(),s}return pa.throwError("failed response",mn.errors.SERVER_ERROR,{requestBody:ga(l.body,d["content-type"]),requestMethod:l.method,url:a})}))}();return Promise.race([p.promise,m])}(t,r,((t,e)=>{let r=null;if(null!=t)try{r=JSON.parse(Or(t))}catch(e){pa.throwError("invalid JSON",mn.errors.SERVER_ERROR,{body:t,error:e})}return n&&(r=n(r,e)),r}))}function va(t,e){return e||(e={}),null==(e=Kn(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(n,r){let o=null,i=!1;const s=()=>!i&&(i=!0,o&&clearTimeout(o),!0);e.timeout&&(o=setTimeout((()=>{s()&&r(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let l=0;!function o(){return t().then((function(t){if(void 0!==t)s()&&n(t);else if(e.oncePoll)e.oncePoll.once("poll",o);else if(e.onceBlock)e.onceBlock.once("block",o);else if(!i){if(l++,l>a)return void(s()&&r(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(o,t)}return null}),(function(t){s()&&r(t)}))}()}))}for(var ba="qpzry9x8gf2tvdw0s3jn54khce6mua7l",wa={},_a=0;_a<ba.length;_a++){var ka=ba.charAt(_a);if(void 0!==wa[ka])throw new TypeError(ka+" is ambiguous");wa[ka]=_a}function xa(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function Ea(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=xa(e)^r>>5}for(e=xa(e),n=0;n<t.length;++n){var o=t.charCodeAt(n);e=xa(e)^31&o}return e}function Oa(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;var o=(t=n).lastIndexOf("1");if(-1===o)return"No separator character for "+t;if(0===o)return"Missing prefix for "+t;var i=t.slice(0,o),s=t.slice(o+1);if(s.length<6)return"Data too short";var a=Ea(i);if("string"==typeof a)return a;for(var l=[],u=0;u<s.length;++u){var c=s.charAt(u),f=wa[c];if(void 0===f)return"Unknown character "+c;a=xa(a)^f,u+6>=s.length||l.push(f)}return 1!==a?"Invalid checksum for "+t:{prefix:i,words:l}}function Na(t,e,n,r){for(var o=0,i=0,s=(1<<n)-1,a=[],l=0;l<t.length;++l)for(o=o<<e|t[l],i+=e;i>=n;)i-=n,a.push(o>>i&s);if(r)i>0&&a.push(o<<n-i&s);else{if(i>=e)return"Excess padding";if(o<<n-i&s)return"Non-zero padding"}return a}var Aa={decodeUnsafe:function(){var t=Oa.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=Oa.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");var r=Ea(t=t.toLowerCase());if("string"==typeof r)throw new Error(r);for(var o=t+"1",i=0;i<e.length;++i){var s=e[i];if(s>>5!=0)throw new Error("Non 5-bit word");r=xa(r)^s,o+=ba.charAt(s)}for(i=0;i<6;++i)r=xa(r);for(r^=1,i=0;i<6;++i){o+=ba.charAt(r>>5*(5-i)&31)}return o},toWordsUnsafe:function(t){var e=Na(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=Na(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=Na(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=Na(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const Sa="providers/5.5.3",Ma=new mn(Sa);class Pa{constructor(){Ma.checkNew(new.target,Pa),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),n=this.bigNumber.bind(this),r=this.blockTag.bind(this),o=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return t.transaction={hash:i,type:l,accessList:Pa.allowNull(this.accessList.bind(this),null),blockHash:Pa.allowNull(i,null),blockNumber:Pa.allowNull(a,null),transactionIndex:Pa.allowNull(a,null),confirmations:Pa.allowNull(a,null),from:e,gasPrice:Pa.allowNull(n),maxPriorityFeePerGas:Pa.allowNull(n),maxFeePerGas:Pa.allowNull(n),gasLimit:n,to:Pa.allowNull(e,null),value:n,nonce:a,data:o,r:Pa.allowNull(this.uint256),s:Pa.allowNull(this.uint256),v:Pa.allowNull(a),creates:Pa.allowNull(e,null),raw:Pa.allowNull(o)},t.transactionRequest={from:Pa.allowNull(e),nonce:Pa.allowNull(a),gasLimit:Pa.allowNull(n),gasPrice:Pa.allowNull(n),maxPriorityFeePerGas:Pa.allowNull(n),maxFeePerGas:Pa.allowNull(n),to:Pa.allowNull(e),value:Pa.allowNull(n),data:Pa.allowNull((t=>this.data(t,!0))),type:Pa.allowNull(a),accessList:Pa.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:i,address:e,topics:Pa.arrayOf(i),data:o,logIndex:a,blockHash:i},t.receipt={to:Pa.allowNull(this.address,null),from:Pa.allowNull(this.address,null),contractAddress:Pa.allowNull(e,null),transactionIndex:a,root:Pa.allowNull(s),gasUsed:n,logsBloom:Pa.allowNull(o),blockHash:i,transactionHash:i,logs:Pa.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Pa.allowNull(a,null),cumulativeGasUsed:n,effectiveGasPrice:Pa.allowNull(n),status:Pa.allowNull(a),type:l},t.block={hash:i,parentHash:i,number:a,timestamp:a,nonce:Pa.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:e,extraData:o,transactions:Pa.allowNull(Pa.arrayOf(i)),baseFeePerGas:Pa.allowNull(n)},t.blockWithTransactions=Kn(t.block),t.blockWithTransactions.transactions=Pa.allowNull(Pa.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Pa.allowNull(r,void 0),toBlock:Pa.allowNull(r,void 0),blockHash:Pa.allowNull(i,void 0),address:Pa.allowNull(e,void 0),topics:Pa.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Pa.allowNull(a),blockHash:Pa.allowNull(i),transactionIndex:a,removed:Pa.allowNull(this.boolean.bind(this)),address:e,data:Pa.allowFalsish(o,"0x"),topics:Pa.arrayOf(i),transactionHash:i,logIndex:a},t}accessList(t){return Gs(t||[])}number(t){return"0x"===t?0:Dn.from(t).toNumber()}type(t){return"0x"===t||null==t?0:Dn.from(t).toNumber()}bigNumber(t){return Dn.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),On(t))?t.toLowerCase():Ma.throwArgumentError("invalid hash","value",t)}data(t,e){const n=this.hex(t,e);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+t);return n}address(t){return mr(t)}callAddress(t){if(!On(t,32))return null;const e=mr(Mn(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=mr(t.from)}catch(e){fr.throwArgumentError("missing from address","transaction",t)}return mr(Mn(nr(ar([e,En(kn(Dn.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||On(t))return Tn(t);throw new Error("invalid blockTag")}hash(t,e){const n=this.hex(t,e);return 32!==Sn(n)?Ma.throwArgumentError("invalid hash","value",t):n}difficulty(t){if(null==t)return null;const e=Dn.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!On(t))throw new Error("invalid uint256");return Cn(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const n=null!=t._difficulty?t._difficulty:t.difficulty,r=Pa.check(e,t);return r._difficulty=null==n?null:Dn.from(n),r}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Pa.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&Dn.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=Pa.check(this.formats.transaction,t);if(null!=t.chainId){let n=t.chainId;On(n)&&(n=Dn.from(n).toNumber()),e.chainId=n}else{let n=t.networkId;null==n&&null==e.v&&(n=t.chainId),On(n)&&(n=Dn.from(n).toNumber()),"number"!=typeof n&&null!=e.v&&(n=(e.v-35)/2,n<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),e.chainId=n}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return Xs(t)}receiptLog(t){return Pa.check(this.formats.receiptLog,t)}receipt(t){const e=Pa.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=Dn.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&Ma.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):Ma.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&Ma.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return Pa.check(this.formats.filter,t)}filterLog(t){return Pa.check(this.formats.filterLog,t)}static check(t,e){const n={};for(const r in t)try{const o=t[r](e[r]);void 0!==o&&(n[r]=o)}catch(t){throw t.checkKey=r,t.checkValue=e[r],t}return n}static allowNull(t,e){return function(n){return null==n?e:t(n)}}static allowFalsish(t,e){return function(n){return n?t(n):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach((function(e){n.push(t(e))})),n}}}var Ta=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Ca=new mn(Sa);function ja(t){return null==t?"null":(32!==Sn(t)&&Ca.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Ia(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[ja(t)]=!0}));const n=Object.keys(e);return n.sort(),n.join("|")}return ja(t)})).join("&")}function Ra(t){if("string"==typeof t){if(32===Sn(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+Ia(t);if(class extends class{constructor(t){for(const e in t)this[e]=Qn(t[e])}}{static isForkEvent(t){return!(!t||!t._isForkEvent)}}.isForkEvent(t))throw Ca.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+Ia(t.topics||[])}throw new Error("invalid event - "+t)}function La(){return(new Date).getTime()}function qa(t){return new Promise((e=>{setTimeout(e,t)}))}const $a=["block","network","pending","poll"];class Da{constructor(t,e,n){Vn(this,"tag",t),Vn(this,"listener",e),Vn(this,"once",n)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],n=""===(r=t[2])?[]:r.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var r;const o={};return n.length>0&&(o.topics=n),e&&"*"!==e&&(o.address=e),o}pollable(){return this.tag.indexOf(":")>=0||$a.indexOf(this.tag)>=0}}const Ba={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Fa(t){return Cn(Dn.from(t).toHexString(),32)}function Ua(t){return ta.encode(xn([t,Mn(ea(ea(t)),0,4)]))}const Ha=new RegExp("^(ipfs)://(.*)$","i"),Ya=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ha,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function za(t){try{return Or(Va(t))}catch(t){}return null}function Va(t){if("0x"===t)return null;const e=Dn.from(Mn(t,0,32)).toNumber(),n=Dn.from(Mn(t,e,e+32)).toNumber();return Mn(t,e+32,e+32+n)}function Ga(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ca.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Wa{constructor(t,e,n,r){Vn(this,"provider",t),Vn(this,"name",n),Vn(this,"address",t.formatter.address(e)),Vn(this,"_resolvedAddress",r)}_fetchBytes(t,e){return Ta(this,void 0,void 0,(function*(){const n={to:this.address,data:Pn([t,Hr(this.name),e||"0x"])};try{return Va(yield this.provider.call(n))}catch(t){return t.code,mn.errors.CALL_EXCEPTION,null}}))}_getAddress(t,e){const n=Ba[String(t)];if(null==n&&Ca.throwError(`unsupported coin type: ${t}`,mn.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===n.ilk)return this.provider.formatter.address(e);const r=kn(e);if(null!=n.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Ua(xn([[n.p2pkh],"0x"+t[2]]))}}if(null!=n.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Ua(xn([[n.p2sh],"0x"+t[2]]))}}if(null!=n.prefix){const t=r[1];let e=r[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&r.length===2+t&&t>=1&&t<=75){const t=Aa.toWords(r.slice(2));return t.unshift(e),Aa.encode(n.prefix,t)}}return null}getAddress(t){return Ta(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t={to:this.address,data:"0x3b3b57de"+Hr(this.name).substring(2)},e=yield this.provider.call(t);return"0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e?null:this.provider.formatter.callAddress(e)}catch(t){if(t.code===mn.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",Fa(t));if(null==e||"0x"===e)return null;const n=this._getAddress(t,e);return null==n&&Ca.throwError("invalid or unsupported coin data",mn.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),n}))}getAvatar(){return Ta(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let n=0;n<Ya.length;n++){const r=e.match(Ya[n]);if(null==r)continue;const o=r[1].toLowerCase();switch(o){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:Ga(e)};case"erc721":case"erc1155":{const n="erc721"===o?"0xc87b56dd":"0x0e89341c";t.push({type:o,content:e});const i=this._resolvedAddress||(yield this.getAddress()),s=(r[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),l=Cn(Dn.from(s[1]).toHexString(),32);if("erc721"===o){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:Pn(["0x6352211e",l])}));if(i!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===o){const e=Dn.from(yield this.provider.call({to:a,data:Pn(["0x00fdd58e",Cn(i,32),l])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const u={to:this.provider.formatter.address(s[0]),data:Pn([n,l])};let c=za(yield this.provider.call(u));if(null==c)return null;t.push({type:"metadata-url-base",content:c}),"erc1155"===o&&(c=c.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=Ga(c)),t.push({type:"metadata-url",content:c});const f=yield ya(c);if(!f)return null;t.push({type:"metadata",content:JSON.stringify(f)});let h=f.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{if(null==h.match(Ha))return null;t.push({type:"url-ipfs",content:h}),h=Ga(h)}return t.push({type:"url",content:h}),{linkage:t,url:h}}}}}catch(t){}return null}))}getContentHash(){return Ta(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+ta.encode("0x"+e[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&64===n[1].length?"bzz://"+n[1]:Ca.throwError("invalid or unsupported content hash data",mn.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return Ta(this,void 0,void 0,(function*(){let e=xr(t);e=xn([Fa(64),Fa(e.length),e]),e.length%32!=0&&(e=xn([e,Cn("0x",32-t.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",An(e));return null==n||"0x"===n?null:Or(n)}))}}let Ka=null,Za=1;class Ja extends lo{constructor(t){if(Ca.checkNew(new.target,lo),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),Vn(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=Gn(new.target,"getNetwork")(t);e?(Vn(this,"_network",e),this.emit("network",e,null)):Ca.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ta(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||Ca.throwError("no network detected",mn.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Vn(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return va((()=>this._ready().then((t=>t),(t=>{if(t.code!==mn.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==Ka&&(Ka=new Pa),Ka}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in la){const n=la[e];if(n.chainId===t)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=la[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=la[t.name];if(!e)return"number"!=typeof t.chainId&&na.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&na.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;var r;return null==n&&e._defaultProvider&&(n=(r=e._defaultProvider)&&"function"==typeof r.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}(null==t?"homestead":t)}_getInternalBlockNumber(t){return Ta(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const n=yield e;if(La()-n.respTime<=t)return n.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=La(),n=Wn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:r})=>{if(r)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),r;const o=La();return(t=Dn.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:o}}));return this._internalBlockNumber=n,n.catch((t=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)})),(yield n).blockNumber}))}poll(){return Ta(this,void 0,void 0,(function*(){const t=Za++,e=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ca.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ca.makeError("network block skew detected",mn.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let t=this._emitted.block+1;t<=n;t++)this.emit("block",t);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&n-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((t=>{switch(t.type){case"tx":{const n=t.hash;let r=this.getTransactionReceipt(n).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+n]=t.blockNumber,this.emit(n,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(r);break}case"filter":{const r=t.filter;r.fromBlock=this._lastBlockNumber+1,r.toBlock=n;const o=this.getLogs(r).then((t=>{0!==t.length&&t.forEach((t=>{this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(r,t)}))})).catch((t=>{this.emit("error",t)}));e.push(o);break}}})),this._lastBlockNumber=n,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ta(this,void 0,void 0,(function*(){return Ca.throwError("provider does not support network detection",mn.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Ta(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield qa(0),this._network;const n=Ca.makeError("underlying network changed",mn.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",n),n}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=La();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=La(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,n){return Ta(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,n||0,null)}))}_waitForTransaction(t,e,n,r){return Ta(this,void 0,void 0,(function*(){const o=yield this.getTransactionReceipt(t);return(o?o.confirmations:0)>=e?o:new Promise(((o,i)=>{const s=[];let a=!1;const l=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},u=t=>{t.confirmations<e||l()||o(t)};if(this.on(t,u),s.push((()=>{this.removeListener(t,u)})),r){let n=r.startBlock,o=null;const u=s=>Ta(this,void 0,void 0,(function*(){a||(yield qa(1e3),this.getTransactionCount(r.from).then((c=>Ta(this,void 0,void 0,(function*(){if(!a){if(c<=r.nonce)n=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==o&&(o=n-3,o<r.startBlock&&(o=r.startBlock));o<=s;){if(a)return;const n=yield this.getBlockWithTransactions(o);for(let o=0;o<n.transactions.length;o++){const s=n.transactions[o];if(s.hash===t)return;if(s.from===r.from&&s.nonce===r.nonce){if(a)return;const n=yield this.waitForTransaction(s.hash,e);if(l())return;let o="replaced";return s.data===r.data&&s.to===r.to&&s.value.eq(r.value)?o="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(o="cancelled"),void i(Ca.makeError("transaction was replaced",mn.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===o||"cancelled"===o,reason:o,replacement:this._wrapTransaction(s),hash:t,receipt:n}))}}o++}}a||this.once("block",u)}}))),(t=>{a||this.once("block",u)})))}));if(a)return;this.once("block",u),s.push((()=>{this.removeListener("block",u)}))}if("number"==typeof n&&n>0){const t=setTimeout((()=>{l()||i(Ca.makeError("timeout exceeded",mn.errors.TIMEOUT,{timeout:n}))}),n);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return Ta(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Dn.from(t)}catch(e){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Wn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),r=yield this.perform("getBalance",n);try{return Dn.from(r)}catch(t){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"getBalance",params:n,result:r,error:t})}}))}getTransactionCount(t,e){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Wn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),r=yield this.perform("getTransactionCount",n);try{return Dn.from(r).toNumber()}catch(t){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:r,error:t})}}))}getCode(t,e){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Wn({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),r=yield this.perform("getCode",n);try{return An(r)}catch(t){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"getCode",params:n,result:r,error:t})}}))}getStorageAt(t,e,n){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Wn({address:this._getAddress(t),blockTag:this._getBlockTag(n),position:Promise.resolve(e).then((t=>Tn(t)))}),o=yield this.perform("getStorageAt",r);try{return An(o)}catch(t){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:o,error:t})}}))}_wrapTransaction(t,e,n){if(null!=e&&32!==Sn(e))throw new Error("invalid response - sendTransaction");const r=t;return null!=e&&t.hash!==e&&Ca.throwError("Transaction hash mismatch from Provider.sendTransaction.",mn.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),r.wait=(e,r)=>Ta(this,void 0,void 0,(function*(){let o;null==e&&(e=1),null==r&&(r=0),0!==e&&null!=n&&(o={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:n});const i=yield this._waitForTransaction(t.hash,e,r,o);return null==i&&0===e?null:(this._emitted["t:"+t.hash]=i.blockNumber,0===i.status&&Ca.throwError("transaction failed",mn.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:i}),i)})),r}sendTransaction(t){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>An(t))),n=this.formatter.transaction(t);null==n.confirmations&&(n.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(n,t,r)}catch(t){throw t.transaction=n,t.transactionHash=n.hash,t}}))}_getTransactionRequest(t){return Ta(this,void 0,void 0,(function*(){const e=yield t,n={};return["from","to"].forEach((t=>{null!=e[t]&&(n[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(n[t]=Promise.resolve(e[t]).then((t=>t?Dn.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(n[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(n.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(n[t]=Promise.resolve(e[t]).then((t=>t?An(t):null)))})),this.formatter.transactionRequest(yield Wn(n))}))}_getFilter(t){return Ta(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((n=>{null!=t[n]&&(e[n]=t[n])})),["fromBlock","toBlock"].forEach((n=>{null!=t[n]&&(e[n]=this._getBlockTag(t[n]))})),this.formatter.filter(yield Wn(e))}))}call(t,e){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Wn({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e)}),r=yield this.perform("call",n);try{return An(r)}catch(t){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"call",params:n,result:r,error:t})}}))}estimateGas(t){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Wn({transaction:this._getTransactionRequest(t)}),n=yield this.perform("estimateGas",e);try{return Dn.from(n)}catch(t){return Ca.throwError("bad result from backend",mn.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:n,error:t})}}))}_getAddress(t){return Ta(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&Ca.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&Ca.throwError("ENS name not configured",mn.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let n=-128;const r={includeTransactions:!!e};if(On(t,32))r.blockHash=t;else try{r.blockTag=yield this._getBlockTag(t),On(r.blockTag)&&(n=parseInt(r.blockTag.substring(2),16))}catch(e){Ca.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return va((()=>Ta(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",r);if(null==t)return null!=r.blockHash&&null==this._emitted["b:"+r.blockHash]||null!=r.blockTag&&n>this._emitted.block?null:void 0;if(e){let e=null;for(let n=0;n<t.transactions.length;n++){const r=t.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-r.blockNumber+1;t<=0&&(t=1),r.confirmations=t}}const n=this.formatter.blockWithTransactions(t);return n.transactions=n.transactions.map((t=>this._wrapTransaction(t))),n}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return va((()=>Ta(this,void 0,void 0,(function*(){const n=yield this.perform("getTransaction",e);if(null==n)return null==this._emitted["t:"+t]?null:void 0;const r=this.formatter.transactionResponse(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;t<=0&&(t=1),r.confirmations=t}return this._wrapTransaction(r)}))),{oncePoll:this})}))}getTransactionReceipt(t){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return va((()=>Ta(this,void 0,void 0,(function*(){const n=yield this.perform("getTransactionReceipt",e);if(null==n)return null==this._emitted["t:"+t]?null:void 0;if(null==n.blockHash)return;const r=this.formatter.receipt(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;t<=0&&(t=1),r.confirmations=t}return r}))),{oncePoll:this})}))}getLogs(t){return Ta(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Wn({filter:this._getFilter(t)}),n=yield this.perform("getLogs",e);return n.forEach((t=>{null==t.removed&&(t.removed=!1)})),Pa.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)}))}getEtherPrice(){return Ta(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return Ta(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&Ca.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return Ta(this,void 0,void 0,(function*(){try{const e=yield this._getResolver(t);return null==e?null:new Wa(this,e,t)}catch(t){if(t.code===mn.errors.CALL_EXCEPTION)return null;throw t}}))}_getResolver(t){return Ta(this,void 0,void 0,(function*(){const e=yield this.getNetwork();e.ensAddress||Ca.throwError("network does not support ENS",mn.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:e.name});const n={to:e.ensAddress,data:"0x0178b8bf"+Hr(t).substring(2)};try{return this.formatter.callAddress(yield this.call(n))}catch(t){if(t.code===mn.errors.CALL_EXCEPTION)return null;throw t}}))}resolveName(t){return Ta(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(On(t))throw e}"string"!=typeof t&&Ca.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return Ta(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(e);if(!n)return null;let r=kn(yield this.call({to:n,data:"0x691f3431"+Hr(e).substring(2)}));if(r.length<32||!Dn.from(r.slice(0,32)).eq(32))return null;if(r=r.slice(32),r.length<32)return null;const o=Dn.from(r.slice(0,32)).toNumber();if(r=r.slice(32),o>r.length)return null;const i=Or(r.slice(0,o));return(yield this.resolveName(i))!=t?null:i}))}getAvatar(t){return Ta(this,void 0,void 0,(function*(){let e=null;if(On(t)){const n=this.formatter.address(t),r=n.substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(r);if(!o)return null;e=new Wa(this,o,"_",n)}else if(e=yield this.getResolver(t),!e)return null;const n=yield e.getAvatar();return null==n?null:n.url}))}perform(t,e){return Ca.throwError(t+" not implemented",mn.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,n){const r=new Da(Ra(t),e,n);return this._events.push(r),this._startEvent(r),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let n=!1,r=[],o=Ra(t);return this._events=this._events.filter((t=>t.tag!==o||(setTimeout((()=>{t.listener.apply(this,e)}),0),n=!0,!t.once||(r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),n}listenerCount(t){if(!t)return this._events.length;let e=Ra(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Ra(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const n=[];let r=!1,o=Ra(t);return this._events=this._events.filter((t=>t.tag!==o||t.listener!=e||(!!r||(r=!0,n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const n=Ra(t);this._events=this._events.filter((t=>t.tag!==n||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var Xa=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Qa=new mn(Sa),tl=["call","estimateGas"];function el(t,e,n){if("call"===t&&e.code===mn.errors.SERVER_ERROR){const t=e.error;if(t&&t.message.match("reverted")&&On(t.data))return t.data;Qa.throwError("missing revert data in call exception",mn.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let r=e.message;e.code===mn.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?r=e.error.message:"string"==typeof e.body?r=e.body:"string"==typeof e.responseText&&(r=e.responseText),r=(r||"").toLowerCase();const o=n.transaction||n.signedTransaction;throw r.match(/insufficient funds|base fee exceeds gas limit/)&&Qa.throwError("insufficient funds for intrinsic transaction cost",mn.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:o}),r.match(/nonce too low/)&&Qa.throwError("nonce has already been used",mn.errors.NONCE_EXPIRED,{error:e,method:t,transaction:o}),r.match(/replacement transaction underpriced/)&&Qa.throwError("replacement fee too low",mn.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:o}),r.match(/only replay-protected/)&&Qa.throwError("legacy pre-eip-155 transactions not supported",mn.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:o}),tl.indexOf(t)>=0&&r.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Qa.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",mn.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:o}),e}function nl(t){return new Promise((function(e){setTimeout(e,t)}))}function rl(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ol(t){return t?t.toLowerCase():t}const il={};class sl extends po{constructor(t,e,n){if(Qa.checkNew(new.target,sl),super(),t!==il)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Vn(this,"provider",e),null==n&&(n=0),"string"==typeof n?(Vn(this,"_address",this.provider.formatter.address(n)),Vn(this,"_index",null)):"number"==typeof n?(Vn(this,"_index",n),Vn(this,"_address",null)):Qa.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(t){return Qa.throwError("cannot alter JSON-RPC Signer connection",mn.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new al(il,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&Qa.throwError("unknown account #"+this._index,mn.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=Kn(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const n=Kn(t);n.from=e,t.gasLimit=this.provider.estimateGas(n)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>Xa(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&Qa.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),Wn({tx:Wn(t),sender:e}).then((({tx:e,sender:n})=>{null!=e.from?e.from.toLowerCase()!==n&&Qa.throwArgumentError("from address mismatch","transaction",t):e.from=n;const r=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[r]).then((t=>t),(t=>el("sendTransaction",t,r)))}))}signTransaction(t){return Qa.throwError("signing transactions is unsupported",mn.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Xa(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(t);try{return yield va((()=>Xa(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(n);if(null!==t)return this.provider._wrapTransaction(t,n,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=n,t}}))}signMessage(t){return Xa(this,void 0,void 0,(function*(){const e="string"==typeof t?xr(t):t,n=yield this.getAddress();return yield this.provider.send("personal_sign",[An(e),n.toLowerCase()])}))}_legacySignMessage(t){return Xa(this,void 0,void 0,(function*(){const e="string"==typeof t?xr(t):t,n=yield this.getAddress();return yield this.provider.send("eth_sign",[n.toLowerCase(),An(e)])}))}_signTypedData(t,e,n){return Xa(this,void 0,void 0,(function*(){const r=yield io.resolveNames(t,e,n,(t=>this.provider.resolveName(t))),o=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(io.getPayload(r.domain,e,r.value))])}))}unlock(t){return Xa(this,void 0,void 0,(function*(){const e=this.provider,n=yield this.getAddress();return e.send("personal_unlockAccount",[n.toLowerCase(),t,null])}))}}class al extends sl{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const ll={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ul extends Ja{constructor(t,e){Qa.checkNew(new.target,ul);let n=e;null==n&&(n=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(n),t||(t=Gn(this.constructor,"defaultUrl")()),Vn(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(Kn(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Xa(this,void 0,void 0,(function*(){yield nl(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=Gn(this.constructor,"getNetwork");try{return e(Dn.from(t).toNumber())}catch(e){return Qa.throwError("could not detect network",mn.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return Qa.throwError("could not detect network",mn.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new sl(il,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const n={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Qn(n),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(r&&this._cache[t])return this._cache[t];const o=ya(this.connection,JSON.stringify(n),rl).then((t=>(this.emit("debug",{action:"response",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:n,provider:this}),t}));return r&&(this._cache[t]=o,setTimeout((()=>{this._cache[t]=null}),0)),o}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ol(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ol(e.address),e.blockTag]];case"getCode":return["eth_getCode",[ol(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ol(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[Gn(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[Gn(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=ol(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return Xa(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&Dn.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((e=Kn(e)).transaction=Kn(t),delete e.transaction.type)}}const n=this.prepareRequest(t,e);null==n&&Qa.throwError(t+" not implemented",mn.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(n[0],n[1])}catch(n){return el(t,n,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(n){return function r(){t.send("eth_getFilterChanges",[n]).then((function(n){if(t._pendingFilter!=e)return null;let r=Promise.resolve();return n.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",r=r.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),r.then((function(){return nl(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){r()}),0),null;t.send("eth_uninstallFilter",[n])})).catch((t=>{}))}(),n})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const n=Kn(ll);if(e)for(const t in e)e[t]&&(n[t]=!0);var r,o;o=n,(r=t)&&"object"==typeof r||zn.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((t=>{o[t]||zn.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)}));const i={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const n=Tn(t[e]);"gasLimit"===e&&(e="gas"),i[e]=n})),["from","to","data"].forEach((function(e){null!=t[e]&&(i[e]=An(t[e]))})),t.accessList&&(i.accessList=Gs(t.accessList)),i}}const cl=new mn(Sa);let fl=1;function hl(t,e){const n="Web3LegacyFetcher";return function(t,r){const o={method:t,params:r,id:fl++,jsonrpc:"2.0"};return new Promise(((t,r)=>{this.emit("debug",{action:"request",fetcher:n,request:Qn(o),provider:this}),e(o,((e,i)=>{if(e)return this.emit("debug",{action:"response",fetcher:n,error:e,request:o,provider:this}),r(e);if(this.emit("debug",{action:"response",fetcher:n,request:o,response:i,provider:this}),i.error){const t=new Error(i.error.message);return t.code=i.error.code,t.data=i.error.data,r(t)}t(i.result)}))}))}}class dl extends ul{constructor(t,e){cl.checkNew(new.target,dl),null==t&&cl.throwArgumentError("missing provider","provider",t);let n=null,r=null,o=null;"function"==typeof t?(n="unknown:",r=t):(n=t.host||t.path||"",!n&&t.isMetaMask&&(n="metamask"),o=t,t.request?(""===n&&(n="eip-1193:"),r=function(t){return function(e,n){null==n&&(n=[]);const r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Qn(r),provider:this}),t.request(r).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:t,provider:this}),t}))}}(t)):t.sendAsync?r=hl(0,t.sendAsync.bind(t)):t.send?r=hl(0,t.send.bind(t)):cl.throwArgumentError("unsupported provider","provider",t),n||(n="unknown:")),super(n,e),Vn(this,"jsonRpcFetchFunc",r),Vn(this,"provider",o)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}let pl=wt(localStorage.getItem("userConnected")||!1),ml=wt(""),gl=wt(""),yl=wt(""),vl=wt("");const bl=async()=>{await window.ethereum.enable();const t=new dl(window.ethereum),e=t.getSigner();gl.set(t),yl.set(e),ml.set(await e.getAddress()),vl.set(await ethereum.request({method:"eth_chainId"})),pl.set(!0)};pl.subscribe((t=>localStorage.setItem("userConnected",t)));const wl=async t=>{const e=await fetch(`${Ze}/app/nonce/${t}`);return(await e.json()).nonce};function _l(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function kl(t,e,n){const r=t.slice();return r[20]=e[n],r[21]=e,r[22]=n,r}function xl(t){let e,n,r,o,i,s,a,l,u,c,f,h,d,p,m,g,y=t[5][t[1]]+"",O=t[2][t[1]],S=[];for(let e=0;e<O.length;e+=1)S[e]=Pl(kl(t,O,e));const P=t=>ot(S[t],1,1,(()=>{S[t]=null}));let T=Array(1),C=[];for(let e=0;e<T.length;e+=1)C[e]=Tl(_l(t,T,e));let j=t[1]>0&&Cl(t);return{c(){e=k("form"),n=k("p"),r=x(y),o=E();for(let t=0;t<S.length;t+=1)S[t].c();i=E(),s=k("p"),s.textContent="* Required Fields",a=E(),l=k("div"),u=k("div");for(let t=0;t<C.length;t+=1)C[t].c();c=E(),f=k("div"),j&&j.c(),h=E(),d=k("button"),d.textContent=""+(t[4]?"Update Proposal":"Submit Proposal"),A(n,"class","text-xl font-bold mb-2 opacity-90"),A(u,"class","flex space-x-2"),A(d,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"),A(d,"type","button"),A(f,"class","flex space-x-2"),A(l,"class","flex items-center justify-between"),A(e,"class","bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4")},m(y,w){b(y,e,w),v(e,n),v(n,r),v(e,o);for(let t=0;t<S.length;t+=1)S[t].m(e,null);v(e,i),v(e,s),v(e,a),v(e,l),v(l,u);for(let t=0;t<C.length;t+=1)C[t].m(u,null);v(l,c),v(l,f),j&&j.m(f,null),v(f,h),v(f,d),p=!0,m||(g=N(d,"click",t[13]),m=!0)},p(t,n){if((!p||2&n)&&y!==(y=t[5][t[1]]+"")&&M(r,y),14&n){let r;for(O=t[2][t[1]],r=0;r<O.length;r+=1){const o=kl(t,O,r);S[r]?(S[r].p(o,n),rt(S[r],1)):(S[r]=Pl(o),S[r].c(),rt(S[r],1),S[r].m(e,i))}for(et(),r=O.length;r<S.length;r+=1)P(r);nt()}if(2&n){let e;for(T=Array(1),e=0;e<T.length;e+=1){const r=_l(t,T,e);C[e]?C[e].p(r,n):(C[e]=Tl(r),C[e].c(),C[e].m(u,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=T.length}t[1]>0?j?j.p(t,n):(j=Cl(t),j.c(),j.m(f,h)):j&&(j.d(1),j=null)},i(t){if(!p){for(let t=0;t<O.length;t+=1)rt(S[t]);p=!0}},o(t){S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)ot(S[t]);p=!1},d(t){t&&w(e),_(S,t),_(C,t),j&&j.d(),m=!1,g()}}}function El(t){let n;return{c(){n=k("div"),n.innerHTML='<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>',A(n,"class","text-center")},m(t,e){b(t,n,e)},p:e,i:e,o:e,d(t){t&&w(n)}}}function Ol(t){let e,n,r=t[20].title+"";return{c(){e=k("p"),n=x(r),A(e,"class","text-lg font-bold mb-2 opacity-90")},m(t,r){b(t,e,r),v(e,n)},p(t,e){6&e&&r!==(r=t[20].title+"")&&M(n,r)},d(t){t&&w(e)}}}function Nl(t){let e;return{c(){e=k("hr")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function Al(t){let e,n,r;function o(e){t[10](e,t[20])}let i={title:t[20].title,placeHolder:t[20].placeHolder,disabled:t[20].disabled,wrong:t[20].wrong,wrongText:t[20].wrongText,textFormat:t[20].textFormat,importantText:t[20].importantText};return void 0!==t[3][t[20].bindValue]&&(i.value=t[3][t[20].bindValue]),e=new qe({props:i}),F.push((()=>at(e,"value",o))),{c(){lt(e.$$.fragment)},m(t,n){ut(e,t,n),r=!0},p(r,o){t=r;const i={};6&o&&(i.title=t[20].title),6&o&&(i.placeHolder=t[20].placeHolder),6&o&&(i.disabled=t[20].disabled),6&o&&(i.wrong=t[20].wrong),6&o&&(i.wrongText=t[20].wrongText),6&o&&(i.textFormat=t[20].textFormat),6&o&&(i.importantText=t[20].importantText),!n&&14&o&&(n=!0,i.value=t[3][t[20].bindValue],W((()=>n=!1))),e.$set(i)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){ct(e,t)}}}function Sl(t){let e,n,r;function o(e){t[11](e,t[20])}let i={title:t[20].title,placeHolder:t[20].placeHolder,disabled:t[20].disabled,wrong:t[20].wrong,wrongText:t[20].wrongText,rows:t[20].rows};return void 0!==t[3][t[20].bindValue]&&(i.value=t[3][t[20].bindValue]),e=new Ue({props:i}),F.push((()=>at(e,"value",o))),{c(){lt(e.$$.fragment)},m(t,n){ut(e,t,n),r=!0},p(r,o){t=r;const i={};6&o&&(i.title=t[20].title),6&o&&(i.placeHolder=t[20].placeHolder),6&o&&(i.disabled=t[20].disabled),6&o&&(i.wrong=t[20].wrong),6&o&&(i.wrongText=t[20].wrongText),6&o&&(i.rows=t[20].rows),!n&&14&o&&(n=!0,i.value=t[3][t[20].bindValue],W((()=>n=!1))),e.$set(i)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){ct(e,t)}}}function Ml(t){let e,n,r;function o(e){t[12](e,t[20])}let i={title:t[20].title,placeHolder:t[20].placeHolder,disabled:t[20].disabled,wrong:t[20].wrong,wrongText:t[20].wrongText,options:t[20].options};return void 0!==t[3][t[20].bindValue]&&(i.value=t[3][t[20].bindValue]),e=new We({props:i}),F.push((()=>at(e,"value",o))),{c(){lt(e.$$.fragment)},m(t,n){ut(e,t,n),r=!0},p(r,o){t=r;const i={};6&o&&(i.title=t[20].title),6&o&&(i.placeHolder=t[20].placeHolder),6&o&&(i.disabled=t[20].disabled),6&o&&(i.wrong=t[20].wrong),6&o&&(i.wrongText=t[20].wrongText),6&o&&(i.options=t[20].options),!n&&14&o&&(n=!0,i.value=t[3][t[20].bindValue],W((()=>n=!1))),e.$set(i)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){ct(e,t)}}}function Pl(t){let e,n,r,o,i,s,a="title"===t[20].type&&Ol(t),l="line"===t[20].type&&Nl(),u="text"===t[20].type&&Al(t),c="largeText"===t[20].type&&Sl(t),f="optionSelect"===t[20].type&&Ml(t);return{c(){a&&a.c(),e=E(),l&&l.c(),n=E(),u&&u.c(),r=E(),c&&c.c(),o=E(),f&&f.c(),i=O()},m(t,h){a&&a.m(t,h),b(t,e,h),l&&l.m(t,h),b(t,n,h),u&&u.m(t,h),b(t,r,h),c&&c.m(t,h),b(t,o,h),f&&f.m(t,h),b(t,i,h),s=!0},p(t,s){"title"===t[20].type?a?a.p(t,s):(a=Ol(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),"line"===t[20].type?l||(l=Nl(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),"text"===t[20].type?u?(u.p(t,s),6&s&&rt(u,1)):(u=Al(t),u.c(),rt(u,1),u.m(r.parentNode,r)):u&&(et(),ot(u,1,1,(()=>{u=null})),nt()),"largeText"===t[20].type?c?(c.p(t,s),6&s&&rt(c,1)):(c=Sl(t),c.c(),rt(c,1),c.m(o.parentNode,o)):c&&(et(),ot(c,1,1,(()=>{c=null})),nt()),"optionSelect"===t[20].type?f?(f.p(t,s),6&s&&rt(f,1)):(f=Ml(t),f.c(),rt(f,1),f.m(i.parentNode,i)):f&&(et(),ot(f,1,1,(()=>{f=null})),nt())},i(t){s||(rt(u),rt(c),rt(f),s=!0)},o(t){ot(u),ot(c),ot(f),s=!1},d(t){a&&a.d(t),t&&w(e),l&&l.d(t),t&&w(n),u&&u.d(t),t&&w(r),c&&c.d(t),t&&w(o),f&&f.d(t),t&&w(i)}}}function Tl(t){let e;return{c(){e=k("div"),T(e,"width",t[19]===t[1]?"40px":"20px"),T(e,"height","5px"),T(e,"background-color",t[19]<t[1]||t[19]==t[1]?"rgb(29 78 216)":"grey"),T(e,"border-radius","32px")},m(t,n){b(t,e,n)},p(t,n){2&n&&T(e,"width",t[19]===t[1]?"40px":"20px"),2&n&&T(e,"background-color",t[19]<t[1]||t[19]==t[1]?"rgb(29 78 216)":"grey")},d(t){t&&w(e)}}}function Cl(t){let n,r,o;return{c(){n=k("button"),n.textContent="Back",A(n,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"),A(n,"type","button")},m(e,i){b(e,n,i),r||(o=N(n,"click",t[6]),r=!0)},p:e,d(t){t&&w(n),r=!1,o()}}}function jl(t){let e,n,r,o,i,s,a;const l=[El,xl],u=[];function c(t,e){return 0==t[0]?0:1}return i=c(t),s=u[i]=l[i](t),{c(){e=k("div"),n=k("div"),r=k("p"),r.innerHTML='Proposals must meet the\n      <a class="text-blue-600" target="_blank" href="https://github.com/oceanprotocol/oceandao/wiki/project-criteria">Project Submission Criteria</a>\n      .',o=E(),s.c(),A(r,"class","text-lg font-bold text-center"),A(n,"class","w-full max-w-3xl m-auto"),A(e,"class","flex h-screen mt-10 justify-center w-full")},m(t,s){b(t,e,s),v(e,n),v(n,r),v(n,o),u[i].m(n,null),a=!0},p(t,[e]){let r=i;i=c(t),i===r?u[i].p(t,e):(et(),ot(u[r],1,1,(()=>{u[r]=null})),nt(),s=u[i],s?s.p(t,e):(s=u[i]=l[i](t),s.c()),rt(s,1),s.m(n,null))},i(t){a||(rt(s),a=!0)},o(t){ot(s),a=!1},d(t){t&&w(e),u[i].d()}}}function Il(t,e,n){let r,o,i;c(t,ml,(t=>n(14,r=t))),c(t,yl,(t=>n(15,o=t))),c(t,Ke,(t=>n(3,i=t)));let{projectId:s}=e,{proposalId:a}=e;const l=void 0!==a;let u=!l;l&&fetch(`${Ze}/app/proposalInfo/${a}`).then((t=>t.json())).then((t=>{Ke.update((()=>t)),n(0,u=!0)}));let f=[{type:"text",title:"Proposal Title",bindValue:"proposalTitle",required:!0,wrong:!1,disabled:l},{type:"optionSelect",title:"What Earmark are you applying to?",bindValue:"proposalEarmark",wrong:!1,required:!0,options:[{value:"coretech",text:"Core-Tech"},{value:"general",text:"General"}]},{type:"text",title:"Proposal in one sentence",bindValue:"oneLiner",required:!0,wrong:!1},{type:"largeText",title:"Proposal Description",bindValue:"proposalDescription",rows:10,placeHolder:"Description of the proposal."},{type:"largeText",title:"Grant Deliverables",bindValue:"grantDeliverables",required:!0,placeHolder:"__(Grant Deliverable 1)__\n__(Grant Deliverable 2)__\n__(Grant Deliverable 3)__",wrong:!1},{type:"largeText",title:"Value-Add criteria description",bindValue:"valueAddCriteria",required:!0,placeHolder:"Description of how the project and proposal add value to Ocean ecosystem\nUsage of Ocean — how well might the project drive usage of Ocean?\nViability — what is the chance of success of the project?\nCommunity Engagement — How active is the team in the community?\nCommunity Value — How does the project add value to the overall Ocean Community / Ecosystem?",wrong:!1},{type:"text",title:"Funding Requested (USD)",bindValue:"proposalFundingRequested",wrong:!1,required:!0,textFormat:"number",importantText:"The amount requested is in USD, but the amount paid is in OCEAN token. The conversion rate is calculated at Vote End, so payment is completed as quickly as possible. This determines how many OCEAN will be awarded if a proposal is voted to receive a grant."},{type:"text",title:"Proposal Wallet Address",bindValue:"proposalWalletAddress",placeHolder:"0x...",wrong:!1,required:!0,importantText:"Must have minimum 500 OCEAN in wallet to be eligible. This wallet is where you will receive the grant amount if selected"}],h=[f];async function d(){if(f.map((t=>{t.required&&(null==i[t.bindValue]||""==i[t.bindValue]?(t.wrong=!0,t.wrongText="This field is required"):t.wrong=!1)})),n(2,h=[f]),0!==f.filter((t=>t.wrong)).length)return;const t=await wl(r),e={proposalTitle:i.proposalTitle,proposalEarmark:i.proposalEarmark,oneLiner:i.oneLiner,proposalDescription:i.proposalDescription,grantDeliverables:i.grantDeliverables,proposalFundingRequested:i.proposalFundingRequested,proposalWalletAddress:i.proposalWalletAddress,valueAddCriteria:i.valueAddCriteria,projectId:s,proposalId:a,nonce:t},u=JSON.stringify(e),c=await Je(u,o),d=r;l?fetch(`${Ze}/app/updateProposal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:u,signedMessage:c,signer:d})}).then((t=>t.json())).then((t=>{t.success?(alert("Proposal updated successfully"),window.location.href=`/proposal/view/${a}`):(alert("Error updating proposal"),console.error(t))})).catch((t=>{console.log(t)})):fetch(`${Ze}/app/createProposal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:u,signedMessage:c,signer:d})}).then((t=>t.json())).then((t=>{t.success?(alert("Proposal created successfully"),window.location.href=`/project/${s}`):(alert("Error creating proposal"),console.error(t))})).catch((t=>{console.log(t)}))}h.map((t=>{t.map((t=>{!function(t){t.placeHolder=null==t.placeHolder?t.title:t.placeHolder,t.title=t.required?"* "+t.title:t.title}(t)}))}));return t.$$set=t=>{"projectId"in t&&n(8,s=t.projectId),"proposalId"in t&&n(9,a=t.proposalId)},[u,0,h,i,l,["Part 1 - Proposal Details"],function(){},d,s,a,function(e,n){t.$$.not_equal(i[n.bindValue],e)&&(i[n.bindValue]=e,Ke.set(i))},function(e,n){t.$$.not_equal(i[n.bindValue],e)&&(i[n.bindValue]=e,Ke.set(i))},function(e,n){t.$$.not_equal(i[n.bindValue],e)&&(i[n.bindValue]=e,Ke.set(i))},()=>d()]}class Rl extends ht{constructor(t){super(),ft(this,t,Il,jl,a,{projectId:8,proposalId:9})}}function Ll(t){let e;return{c(){e=x("Home")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function ql(t){let e;return{c(){e=x("About")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function $l(t){let e,n,r,o,i=t[0].substr(0,5)+"",s=t[0].substr(t[0].length-5)+"";return{c(){e=k("p"),n=x(i),r=x("..."),o=x(s),A(e,"class","font-bold")},m(t,i){b(t,e,i),v(e,n),v(e,r),v(e,o)},p(t,e){1&e&&i!==(i=t[0].substr(0,5)+"")&&M(n,i),1&e&&s!==(s=t[0].substr(t[0].length-5)+"")&&M(o,s)},d(t){t&&w(e)}}}function Dl(t){let e,n,r,o,i,s,a,l,u,c,f,h,d,p,m;c=new Ce({props:{to:"/",class:"block py-2 pr-4 pl-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white","aria-current":"page",$$slots:{default:[Ll]},$$scope:{ctx:t}}}),d=new Ce({props:{to:"about",class:"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",$$slots:{default:[ql]},$$scope:{ctx:t}}});let g=t[0]&&$l(t);return{c(){e=k("nav"),n=k("div"),r=k("a"),r.innerHTML='<img class="inline h-16 w-16" src="/favicon.png"/> \n      <span class="self-center text-lg font-semibold whitespace-nowrap dark:text-white">OceanDao Seed Grants</span>',o=E(),i=k("button"),i.innerHTML='<span class="sr-only">Open main menu</span> \n      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg> \n      <svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',s=E(),a=k("div"),l=k("ul"),u=k("li"),lt(c.$$.fragment),f=E(),h=k("li"),lt(d.$$.fragment),p=E(),g&&g.c(),A(r,"href","/"),A(r,"class","flex"),A(i,"data-collapse-toggle","mobile-menu"),A(i,"type","button"),A(i,"class","inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"),A(i,"aria-controls","mobile-menu-2"),A(i,"aria-expanded","false"),A(l,"class","flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium"),A(a,"class","hidden w-full md:block md:w-auto"),A(a,"id","mobile-menu"),A(n,"class","container flex flex-wrap justify-between items-center mx-auto"),A(e,"class","bg-white border-gray-200 px-2 sm:px-4 py-2.5 rounded dark:bg-gray-800")},m(t,y){b(t,e,y),v(e,n),v(n,r),v(n,o),v(n,i),v(n,s),v(n,a),v(a,l),v(l,u),ut(c,u,null),v(l,f),v(l,h),ut(d,h,null),v(l,p),g&&g.m(l,null),m=!0},p(t,[e]){const n={};2&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n);const r={};2&e&&(r.$$scope={dirty:e,ctx:t}),d.$set(r),t[0]?g?g.p(t,e):(g=$l(t),g.c(),g.m(l,null)):g&&(g.d(1),g=null)},i(t){m||(rt(c.$$.fragment,t),rt(d.$$.fragment,t),m=!0)},o(t){ot(c.$$.fragment,t),ot(d.$$.fragment,t),m=!1},d(t){t&&w(e),ct(c),ct(d),g&&g.d()}}}function Bl(t,e,n){let{userAddress:r}=e;return t.$$set=t=>{"userAddress"in t&&n(0,r=t.userAddress)},[r]}class Fl extends ht{constructor(t){super(),ft(this,t,Bl,Dl,a,{userAddress:0})}}function Ul(t){let n,r,o,i;return{c(){n=k("button"),r=x(t[1]),A(n,"class","button hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline svelte-cdtmgl"),A(n,"type","button")},m(e,a){b(e,n,a),v(n,r),o||(i=N(n,"click",(function(){s(t[0])&&t[0].apply(this,arguments)})),o=!0)},p(e,[n]){t=e,2&n&&M(r,t[1])},i:e,o:e,d(t){t&&w(n),o=!1,i()}}}function Hl(t,e,n){let{onclick:r}=e,{text:o}=e,{color:i="blue"}=e;return t.$$set=t=>{"onclick"in t&&n(0,r=t.onclick),"text"in t&&n(1,o=t.text),"color"in t&&n(2,i=t.color)},[r,o,i]}class Yl extends ht{constructor(t){super(),ft(this,t,Hl,Ul,a,{onclick:0,text:1,color:2})}}function zl(t){let e,n,r,o;return r=new Yl({props:{onclick:t[1],text:"Connect Wallet"}}),{c(){e=k("div"),n=k("div"),lt(r.$$.fragment),A(n,"class","m-auto flex justify-center flex-col"),A(e,"class","flex h-screen justify-center")},m(t,i){b(t,e,i),v(e,n),ut(r,n,null),o=!0},p(t,[e]){const n={};1&e&&(n.onclick=t[1]),r.$set(n)},i(t){o||(rt(r.$$.fragment,t),o=!0)},o(t){ot(r.$$.fragment,t),o=!1},d(t){t&&w(e),ct(r)}}}function Vl(t,e,n){let{connectWallet:r}=e;return t.$$set=t=>{"connectWallet"in t&&n(0,r=t.connectWallet)},[r,()=>r()]}class Gl extends ht{constructor(t){super(),ft(this,t,Vl,zl,a,{connectWallet:0})}}function Wl(t){let e;return{c(){e=x("View")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function Kl(t){let e,n,r,o,i,s,a=t[0].projectName+"";return i=new Ce({props:{class:"flex justify-center text-black-600 bg-white projectButton",to:`/project/${t[0]._id}`,$$slots:{default:[Wl]},$$scope:{ctx:t}}}),{c(){e=k("div"),n=k("span"),r=x(a),o=E(),lt(i.$$.fragment),A(n,"class","svelte-1kwf6c9"),A(e,"class","flex justify-between projectCard svelte-1kwf6c9")},m(t,a){b(t,e,a),v(e,n),v(n,r),v(e,o),ut(i,e,null),s=!0},p(t,[e]){(!s||1&e)&&a!==(a=t[0].projectName+"")&&M(r,a);const n={};1&e&&(n.to=`/project/${t[0]._id}`),2&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){s||(rt(i.$$.fragment,t),s=!0)},o(t){ot(i.$$.fragment,t),s=!1},d(t){t&&w(e),ct(i)}}}function Zl(t,e,n){let{project:r}=e;return t.$$set=t=>{"project"in t&&n(0,r=t.project)},[r]}class Jl extends ht{constructor(t){super(),ft(this,t,Zl,Kl,a,{project:0})}}function Xl(t,e,n){const r=t.slice();return r[1]=e[n],r}function Ql(t){let e,n;return e=new Jl({props:{project:t[1]}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.project=t[1]),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function tu(t){let e,n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=Ql(Xl(t,r,e));const i=t=>ot(o[t],1,1,(()=>{o[t]=null}));return{c(){e=k("div");for(let t=0;t<o.length;t+=1)o[t].c();A(e,"class","projectsContainer svelte-keifhn")},m(t,r){b(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(1&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const i=Xl(t,r,s);o[s]?(o[s].p(i,n),rt(o[s],1)):(o[s]=Ql(i),o[s].c(),rt(o[s],1),o[s].m(e,null))}for(et(),s=r.length;s<o.length;s+=1)i(s);nt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)rt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)ot(o[t]);n=!1},d(t){t&&w(e),_(o,t)}}}function eu(t,e,n){let{projects:r}=e;return t.$$set=t=>{"projects"in t&&n(0,r=t.projects)},[r]}class nu extends ht{constructor(t){super(),ft(this,t,eu,tu,a,{projects:0})}}function ru(t,e,n){const r=t.slice();return r[8]=e[n],r}function ou(t){let e,n,r,o;const i=t[6].default,s=f(i,t,t[5],null);let a=t[2]&&su(t);return{c(){e=k("div"),s&&s.c(),n=E(),a&&a.c(),r=O(),A(e,"class","topContent svelte-5qqurr")},m(t,i){b(t,e,i),s&&s.m(e,null),b(t,n,i),a&&a.m(t,i),b(t,r,i),o=!0},p(t,e){s&&s.p&&(!o||32&e)&&p(s,i,t,t[5],o?d(i,t[5],e,null):m(t[5]),null),t[2]?a?a.p(t,e):(a=su(t),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(t){o||(rt(s,t),o=!0)},o(t){ot(s,t),o=!1},d(t){t&&w(e),s&&s.d(t),t&&w(n),a&&a.d(t),t&&w(r)}}}function iu(t){let e,n,r=t[2]&&au(t);const o=t[6].default,i=f(o,t,t[5],null);return{c(){r&&r.c(),e=E(),i&&i.c()},m(t,o){r&&r.m(t,o),b(t,e,o),i&&i.m(t,o),n=!0},p(t,s){t[2]?r?r.p(t,s):(r=au(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),i&&i.p&&(!n||32&s)&&p(i,o,t,t[5],n?d(o,t[5],s,null):m(t[5]),null)},i(t){n||(rt(i,t),n=!0)},o(t){ot(i,t),n=!1},d(t){r&&r.d(t),t&&w(e),i&&i.d(t)}}}function su(t){let e,n;return{c(){e=k("p"),A(e,"class",n="bg-slate-50 description "+(t[4]&&"textLeft")+" svelte-5qqurr")},m(n,r){b(n,e,r),e.innerHTML=t[2]},p(t,r){4&r&&(e.innerHTML=t[2]),16&r&&n!==(n="bg-slate-50 description "+(t[4]&&"textLeft")+" svelte-5qqurr")&&A(e,"class",n)},d(t){t&&w(e)}}}function au(t){let e,n;return{c(){e=k("p"),A(e,"class",n="bg-slate-50 description "+(t[4]&&"textLeft")+" svelte-5qqurr")},m(n,r){b(n,e,r),e.innerHTML=t[2]},p(t,r){4&r&&(e.innerHTML=t[2]),16&r&&n!==(n="bg-slate-50 description "+(t[4]&&"textLeft")+" svelte-5qqurr")&&A(e,"class",n)},d(t){t&&w(e)}}}function lu(t){let e,n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=uu(ru(t,r,e));const i=t=>ot(o[t],1,1,(()=>{o[t]=null}));return{c(){e=k("div");for(let t=0;t<o.length;t+=1)o[t].c();A(e,"class","actionContainer svelte-5qqurr")},m(t,r){b(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,n){if(2&n){let s;for(r=t[1],s=0;s<r.length;s+=1){const i=ru(t,r,s);o[s]?(o[s].p(i,n),rt(o[s],1)):(o[s]=uu(i),o[s].c(),rt(o[s],1),o[s].m(e,null))}for(et(),s=r.length;s<o.length;s+=1)i(s);nt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)rt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)ot(o[t]);n=!1},d(t){t&&w(e),_(o,t)}}}function uu(t){let e,n,r,o;function i(){return t[7](t[8])}return n=new Yl({props:{text:t[8].text,onclick:i}}),{c(){e=k("div"),lt(n.$$.fragment),r=E(),A(e,"class","flex mt-5 svelte-5qqurr")},m(t,i){b(t,e,i),ut(n,e,null),v(e,r),o=!0},p(e,r){t=e;const o={};2&r&&(o.text=t[8].text),2&r&&(o.onclick=i),n.$set(o)},i(t){o||(rt(n.$$.fragment,t),o=!0)},o(t){ot(n.$$.fragment,t),o=!1},d(t){t&&w(e),ct(n)}}}function cu(t){let e,n,r,o,i,s,a,l;const u=[iu,ou],c=[];function f(t,e){return t[3]?1:0}i=f(t),s=c[i]=u[i](t);let h=t[1]&&lu(t);return{c(){e=k("div"),n=k("h2"),r=x(t[0]),o=E(),s.c(),a=E(),h&&h.c(),A(n,"class","text-lg font-bold title svelte-5qqurr"),A(e,"class","section svelte-5qqurr")},m(t,s){b(t,e,s),v(e,n),v(n,r),v(e,o),c[i].m(e,null),v(e,a),h&&h.m(e,null),l=!0},p(t,[n]){(!l||1&n)&&M(r,t[0]);let o=i;i=f(t),i===o?c[i].p(t,n):(et(),ot(c[o],1,1,(()=>{c[o]=null})),nt(),s=c[i],s?s.p(t,n):(s=c[i]=u[i](t),s.c()),rt(s,1),s.m(e,a)),t[1]?h?(h.p(t,n),2&n&&rt(h,1)):(h=lu(t),h.c(),rt(h,1),h.m(e,null)):h&&(et(),ot(h,1,1,(()=>{h=null})),nt())},i(t){l||(rt(s),rt(h),l=!0)},o(t){ot(s),ot(h),l=!1},d(t){t&&w(e),c[i].d(),h&&h.d()}}}function fu(t,e,n){let{$$slots:r={},$$scope:o}=e,{title:i}=e,{actions:s}=e,{description:a}=e,{descriptionBottom:l}=e,{descriptionTextLeft:u}=e;return t.$$set=t=>{"title"in t&&n(0,i=t.title),"actions"in t&&n(1,s=t.actions),"description"in t&&n(2,a=t.description),"descriptionBottom"in t&&n(3,l=t.descriptionBottom),"descriptionTextLeft"in t&&n(4,u=t.descriptionTextLeft),"$$scope"in t&&n(5,o=t.$$scope)},[i,s,a,l,u,o,r,t=>t.onClick()]}class hu extends ht{constructor(t){super(),ft(this,t,fu,cu,a,{title:0,actions:1,description:2,descriptionBottom:3,descriptionTextLeft:4})}}function du(t){let e,n;return e=new nu({props:{projects:t[0]}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.projects=t[0]),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function pu(t){let e,n,r=t[0]&&du(t);return{c(){r&&r.c(),e=O()},m(t,o){r&&r.m(t,o),b(t,e,o),n=!0},p(t,n){t[0]?r?(r.p(t,n),1&n&&rt(r,1)):(r=du(t),r.c(),rt(r,1),r.m(e.parentNode,e)):r&&(et(),ot(r,1,1,(()=>{r=null})),nt())},i(t){n||(rt(r),n=!0)},o(t){ot(r),n=!1},d(t){r&&r.d(t),t&&w(e)}}}function mu(t){let e,n,r;return n=new hu({props:{class:"flex text-left bg-grey-200",title:"DAO Projects",description:"Welcome to the OceanDAO Proposal Portal. Create projects, submit proposals, and complete them to access higher funding.",descriptionTextLeft:!0,actions:[{text:"Create Project",onClick:gu}],$$slots:{default:[pu]},$$scope:{ctx:t}}}),{c(){e=k("div"),lt(n.$$.fragment),A(e,"class","flex h-screen home-container svelte-ycxirc")},m(t,o){b(t,e,o),ut(n,e,null),r=!0},p(t,[e]){const r={};9&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){t&&w(e),ct(n)}}}function gu(){location.href="/newProject"}function yu(t,e,n){let r,o;return c(t,ml,(t=>n(1,r=t))),async function(){const t=await fetch(`${Ze}/app/myProjects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:r})}),e=await t.json();n(0,o=e),console.log(o)}(),[o]}class vu extends ht{constructor(t){super(),ft(this,t,yu,mu,a,{})}}const bu=wt({projectName:"",projectCategory:"coretech"});function wu(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function _u(t,e,n){const r=t.slice();return r[24]=e[n],r[25]=e,r[26]=n,r}function ku(t){let e,n,r,o,i,s,a,l,u,c,f,h,d,p,m,g,y,O,S=t[6][t[1]]+"",P=t[3][t[1]],T=[];for(let e=0;e<P.length;e+=1)T[e]=Su(_u(t,P,e));const C=t=>ot(T[t],1,1,(()=>{T[t]=null}));let j=null!=t[2]&&Mu(t),I=Array(2),R=[];for(let e=0;e<I.length;e+=1)R[e]=Pu(wu(t,I,e));let L=t[1]>0&&Tu(t),q=t[1]<1&&Cu(),$=1==t[1]&&ju(t);return{c(){e=k("form"),n=k("p"),r=x(S),o=E();for(let t=0;t<T.length;t+=1)T[t].c();i=E(),s=k("p"),s.textContent="* Required Fields",a=E(),j&&j.c(),l=E(),u=k("div"),c=k("div");for(let t=0;t<R.length;t+=1)R[t].c();f=E(),h=k("div"),L&&L.c(),d=E(),p=k("button"),q&&q.c(),m=E(),$&&$.c(),A(n,"class","text-xl font-bold mb-2 opacity-90"),A(c,"class","flex space-x-2"),A(p,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"),A(p,"type","button"),A(h,"class","flex space-x-2"),A(u,"class","flex items-center justify-between"),A(e,"class","bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4")},m(w,_){b(w,e,_),v(e,n),v(n,r),v(e,o);for(let t=0;t<T.length;t+=1)T[t].m(e,null);v(e,i),v(e,s),v(e,a),j&&j.m(e,null),v(e,l),v(e,u),v(u,c);for(let t=0;t<R.length;t+=1)R[t].m(c,null);v(u,f),v(u,h),L&&L.m(h,null),v(h,d),v(h,p),q&&q.m(p,null),v(p,m),$&&$.m(p,null),g=!0,y||(O=N(p,"click",t[7]),y=!0)},p(t,n){if((!g||2&n)&&S!==(S=t[6][t[1]]+"")&&M(r,S),26&n){let r;for(P=t[3][t[1]],r=0;r<P.length;r+=1){const o=_u(t,P,r);T[r]?(T[r].p(o,n),rt(T[r],1)):(T[r]=Su(o),T[r].c(),rt(T[r],1),T[r].m(e,i))}for(et(),r=P.length;r<T.length;r+=1)C(r);nt()}if(null!=t[2]?j?j.p(t,n):(j=Mu(t),j.c(),j.m(e,l)):j&&(j.d(1),j=null),2&n){let e;for(I=Array(2),e=0;e<I.length;e+=1){const r=wu(t,I,e);R[e]?R[e].p(r,n):(R[e]=Pu(r),R[e].c(),R[e].m(c,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=I.length}t[1]>0?L?L.p(t,n):(L=Tu(t),L.c(),L.m(h,d)):L&&(L.d(1),L=null),t[1]<1?q||(q=Cu(),q.c(),q.m(p,m)):q&&(q.d(1),q=null),1==t[1]?$?$.p(t,n):($=ju(t),$.c(),$.m(p,null)):$&&($.d(1),$=null)},i(t){if(!g){for(let t=0;t<P.length;t+=1)rt(T[t]);g=!0}},o(t){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)ot(T[t]);g=!1},d(t){t&&w(e),_(T,t),j&&j.d(),_(R,t),L&&L.d(),q&&q.d(),$&&$.d(),y=!1,O()}}}function xu(t){let e,n,r=t[24].title+"";return{c(){e=k("p"),n=x(r),A(e,"class","text-lg font-bold mb-2 opacity-90")},m(t,r){b(t,e,r),v(e,n)},p(t,e){10&e&&r!==(r=t[24].title+"")&&M(n,r)},d(t){t&&w(e)}}}function Eu(t){let e;return{c(){e=k("hr")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function Ou(t){let e,n,r,o;function i(e){t[10](e,t[24])}function s(e){t[11](e,t[24])}let a={title:t[24].title,placeHolder:t[24].placeHolder,disabled:t[24].disabled,wrongText:t[24].wrongText??"Please enter a valid value",textFormat:t[24].textFormat,importantText:t[24].importantText};return void 0!==t[4][t[24].bindValue]&&(a.value=t[4][t[24].bindValue]),void 0!==t[24].wrong&&(a.wrong=t[24].wrong),e=new qe({props:a}),F.push((()=>at(e,"value",i))),F.push((()=>at(e,"wrong",s))),{c(){lt(e.$$.fragment)},m(t,n){ut(e,t,n),o=!0},p(o,i){t=o;const s={};10&i&&(s.title=t[24].title),10&i&&(s.placeHolder=t[24].placeHolder),10&i&&(s.disabled=t[24].disabled),10&i&&(s.wrongText=t[24].wrongText??"Please enter a valid value"),10&i&&(s.textFormat=t[24].textFormat),10&i&&(s.importantText=t[24].importantText),!n&&26&i&&(n=!0,s.value=t[4][t[24].bindValue],W((()=>n=!1))),!r&&10&i&&(r=!0,s.wrong=t[24].wrong,W((()=>r=!1))),e.$set(s)},i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){ot(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function Nu(t){let e,n,r,o;function i(e){t[12](e,t[24])}function s(e){t[13](e,t[24])}let a={title:t[24].title,placeHolder:t[24].placeHolder,disabled:t[24].disabled,wrongText:t[24].wrongText??"Please enter a valid value",rows:t[24].rows};return void 0!==t[4][t[24].bindValue]&&(a.value=t[4][t[24].bindValue]),void 0!==t[24].wrong&&(a.wrong=t[24].wrong),e=new Ue({props:a}),F.push((()=>at(e,"value",i))),F.push((()=>at(e,"wrong",s))),{c(){lt(e.$$.fragment)},m(t,n){ut(e,t,n),o=!0},p(o,i){t=o;const s={};10&i&&(s.title=t[24].title),10&i&&(s.placeHolder=t[24].placeHolder),10&i&&(s.disabled=t[24].disabled),10&i&&(s.wrongText=t[24].wrongText??"Please enter a valid value"),10&i&&(s.rows=t[24].rows),!n&&26&i&&(n=!0,s.value=t[4][t[24].bindValue],W((()=>n=!1))),!r&&10&i&&(r=!0,s.wrong=t[24].wrong,W((()=>r=!1))),e.$set(s)},i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){ot(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function Au(t){let e,n,r,o;function i(e){t[14](e,t[24])}function s(e){t[15](e,t[24])}let a={title:t[24].title,placeHolder:t[24].placeHolder,disabled:t[24].disabled,wrongText:t[24].wrongText??"Please enter a valid value",options:t[24].options};return void 0!==t[4][t[24].bindValue]&&(a.value=t[4][t[24].bindValue]),void 0!==t[24].wrong&&(a.wrong=t[24].wrong),e=new We({props:a}),F.push((()=>at(e,"value",i))),F.push((()=>at(e,"wrong",s))),{c(){lt(e.$$.fragment)},m(t,n){ut(e,t,n),o=!0},p(o,i){t=o;const s={};10&i&&(s.title=t[24].title),10&i&&(s.placeHolder=t[24].placeHolder),10&i&&(s.disabled=t[24].disabled),10&i&&(s.wrongText=t[24].wrongText??"Please enter a valid value"),10&i&&(s.options=t[24].options),!n&&26&i&&(n=!0,s.value=t[4][t[24].bindValue],W((()=>n=!1))),!r&&10&i&&(r=!0,s.wrong=t[24].wrong,W((()=>r=!1))),e.$set(s)},i(t){o||(rt(e.$$.fragment,t),o=!0)},o(t){ot(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function Su(t){let e,n,r,o,i,s,a="title"===t[24].type&&xu(t),l="line"===t[24].type&&Eu(),u="text"===t[24].type&&Ou(t),c="largeText"===t[24].type&&Nu(t),f="optionSelect"===t[24].type&&Au(t);return{c(){a&&a.c(),e=E(),l&&l.c(),n=E(),u&&u.c(),r=E(),c&&c.c(),o=E(),f&&f.c(),i=O()},m(t,h){a&&a.m(t,h),b(t,e,h),l&&l.m(t,h),b(t,n,h),u&&u.m(t,h),b(t,r,h),c&&c.m(t,h),b(t,o,h),f&&f.m(t,h),b(t,i,h),s=!0},p(t,s){"title"===t[24].type?a?a.p(t,s):(a=xu(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),"line"===t[24].type?l||(l=Eu(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),"text"===t[24].type?u?(u.p(t,s),10&s&&rt(u,1)):(u=Ou(t),u.c(),rt(u,1),u.m(r.parentNode,r)):u&&(et(),ot(u,1,1,(()=>{u=null})),nt()),"largeText"===t[24].type?c?(c.p(t,s),10&s&&rt(c,1)):(c=Nu(t),c.c(),rt(c,1),c.m(o.parentNode,o)):c&&(et(),ot(c,1,1,(()=>{c=null})),nt()),"optionSelect"===t[24].type?f?(f.p(t,s),10&s&&rt(f,1)):(f=Au(t),f.c(),rt(f,1),f.m(i.parentNode,i)):f&&(et(),ot(f,1,1,(()=>{f=null})),nt())},i(t){s||(rt(u),rt(c),rt(f),s=!0)},o(t){ot(u),ot(c),ot(f),s=!1},d(t){a&&a.d(t),t&&w(e),l&&l.d(t),t&&w(n),u&&u.d(t),t&&w(r),c&&c.d(t),t&&w(o),f&&f.d(t),t&&w(i)}}}function Mu(t){let e,n;return{c(){e=k("p"),n=x(t[2]),A(e,"class","text-red-500")},m(t,r){b(t,e,r),v(e,n)},p(t,e){4&e&&M(n,t[2])},d(t){t&&w(e)}}}function Pu(t){let e;return{c(){e=k("div"),T(e,"width",t[23]===t[1]?"40px":"20px"),T(e,"height","5px"),T(e,"background-color",t[23]<t[1]||t[23]==t[1]?"rgb(29 78 216)":"grey"),T(e,"border-radius","32px")},m(t,n){b(t,e,n)},p(t,n){2&n&&T(e,"width",t[23]===t[1]?"40px":"20px"),2&n&&T(e,"background-color",t[23]<t[1]||t[23]==t[1]?"rgb(29 78 216)":"grey")},d(t){t&&w(e)}}}function Tu(t){let n,r,o;return{c(){n=k("button"),n.textContent="Back",A(n,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"),A(n,"type","button")},m(e,i){b(e,n,i),r||(o=N(n,"click",t[8]),r=!0)},p:e,d(t){t&&w(n),r=!1,o()}}}function Cu(t){let e;return{c(){e=x("Next")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function ju(t){let n,r=t[5]?"Update project":"Create Project";return{c(){n=x(r)},m(t,e){b(t,n,e)},p:e,d(t){t&&w(n)}}}function Iu(t){let e,n,r,o,i,s=t[0]&&ku(t);return{c(){e=k("div"),n=k("div"),r=k("p"),r.innerHTML='Projects must meet the\n      <a class="text-blue-600" target="_blank" href="https://github.com/oceanprotocol/oceandao/wiki/project-criteria">Project Submission Criteria</a> .',o=E(),s&&s.c(),A(r,"class","text-lg font-bold text-center"),A(n,"class","w-full max-w-3xl m-auto"),A(e,"class","flex h-screen mt-10 justify-center w-full")},m(t,a){b(t,e,a),v(e,n),v(n,r),v(n,o),s&&s.m(n,null),i=!0},p(t,[e]){t[0]?s?(s.p(t,e),1&e&&rt(s,1)):(s=ku(t),s.c(),rt(s,1),s.m(n,null)):s&&(et(),ot(s,1,1,(()=>{s=null})),nt())},i(t){i||(rt(s),i=!0)},o(t){ot(s),i=!1},d(t){t&&w(e),s&&s.d()}}}function Ru(t,e,n){let r,o,i;c(t,ml,(t=>n(16,r=t))),c(t,yl,(t=>n(17,o=t))),c(t,bu,(t=>n(4,i=t)));let{projectId:s}=e;const a=void 0!==s;let l=!a;a&&fetch(`${Ze}/app/getProjectInfo/${s}`).then((t=>t.json())).then((t=>{bu.update((()=>t.project)),n(0,l=!0)}));let u=0,f=null;let h=[{type:"text",title:"Name of Project",bindValue:"projectName",required:!0,wrong:!1,disabled:a},{type:"optionSelect",title:"Project Category",bindValue:"projectCategory",wrong:!1,disabled:a,required:!0,options:[{value:"build",text:"Build / improve applications or integrations to Ocean"},{value:"outreach",text:"Outreach / community / spread awareness (grants don't need to be technical in nature)"},{value:"unleash",text:"Unleash data"},{value:"buildcore",text:"Build / improve core software"},{value:"improvedao",text:"Improvements to OceanDAO"}]},{type:"largeText",title:"Project Description",bindValue:"projectDescription",required:!0,placeHolder:"Description of the project and what problem is it solving",wrong:!1},{type:"largeText",title:"What is the final product?",bindValue:"finalProduct",placeHolder:"1-2 sentences describing the final product",wrong:!1,required:!0},{type:"largeText",title:"Value Add Criteria",bindValue:"valueAddCriteria",required:!0,placeHolder:"How does the project benefit the Ocean ecosystem?",wrong:!1},{type:"text",title:"Project lead full name",bindValue:"projectLeadFullName",placeHolder:"first name last name",wrong:!1,required:!0},{type:"text",title:"Project lead email",bindValue:"projectLeadEmail",placeHolder:"example@example.com",wrong:!1,required:!0},{type:"text",title:"Country of Residence",bindValue:"countryOfResidence",placeHolder:"USA",wrong:!1,required:!0},{type:"text",title:"Team Website",bindValue:"teamWebsite",placeHolder:"URL",wrong:!1},{type:"text",title:"Twitter Website",bindValue:"twitterLink",placeHolder:"URL",wrong:!1},{type:"text",title:"Discord Website",bindValue:"discordLink",placeHolder:"URL",wrong:!1}],d=[{type:"largeText",title:"Core Team",bindValue:"coreTeam",rows:15,placeHolder:"John Doe\nRole: developer, UX/UI designer\nRelevant Credentials (e.g.):\nGitHub: https://github.com/johndoe\nLinkedIn: https://linkedin.com/in/johndoe\nBackground/Experience:\nCo-founder at xxx"},{type:"largeText",title:"Advisors",bindValue:"advisors",rows:15,placeHolder:'For each Advisor, give their name, role and background. Use the same format as in "Core Team"'}],p=[h,d];return p.map((t=>{t.map((t=>{!function(t){t.placeHolder=null==t.placeHolder?t.title:t.placeHolder,t.title=t.required?"* "+t.title:t.title}(t)}))})),t.$$set=t=>{"projectId"in t&&n(9,s=t.projectId)},[l,u,f,p,i,a,["Part 1 - Project Details","Part 2 - Team Details"],function(){1==u&&(d.map((t=>{t.required&&(null==i[t.bindValue]||""==i[t.bindValue]?(t.wrong=!0,t.wrongText="This field is required"):t.wrong=!1)})),n(3,p=[h,d]),0==d.filter((t=>t.wrong)).length&&async function(){let t={projectName:i.projectName,projectCategory:i.projectCategory,projectDescription:i.projectDescription,finalProduct:i.finalProduct,projectLeadFullName:i.projectLeadFullName,projectLeadEmail:i.projectLeadEmail,countryOfResidence:i.countryOfResidence,teamWebsite:i.teamWebsite,twitterLink:i.twitterLink,discordLink:i.discordLink,coreTeam:i.coreTeam,advisors:i.advisors,nonce:await wl(r),projectId:s};const e=JSON.stringify(t),l=await Je(e,o),u=r;a?fetch(`${Ze}/app/updateProject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signer:u,signedMessage:l,message:e})}).then((t=>{if(200===t.status)return t.json();400===t.status&&(console.log("Couldn't update project: ",t),n(2,f="Error updating project. Please check fields. "+t))})).then((t=>{void 0!==t&&(console.log("Project updated"),console.log(t),alert("Project updated"),window.location.href="/",n(2,f=null))})).catch((t=>{console.log(t)})):fetch(`${Ze}/app/createProject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signer:u,signedMessage:l,message:e})}).then((t=>{if(200===t.status)return t.json();400===t.status&&(console.log("Couldn't create project: ",t),n(2,f="Error creating project. Please check fields."))})).then((t=>{void 0!==t&&(console.log("Project created"),console.log(t),alert("Project created"),window.location.href="/",n(2,f=null))})).catch((t=>{console.log(t)}))}()),u<1&&(h.map((t=>{t.required&&(null==i[t.bindValue]||""==i[t.bindValue]?(t.wrong=!0,t.wrongText="This field is required"):t.wrong=!1)})),n(3,p=[h,d]),0==h.filter((t=>t.wrong)).length&&n(1,u++,u))},function(){0!==u&&n(1,u-=1)},s,function(e,n){t.$$.not_equal(i[n.bindValue],e)&&(i[n.bindValue]=e,bu.set(i))},function(e,r){t.$$.not_equal(r.wrong,e)&&(r.wrong=e,n(3,p))},function(e,n){t.$$.not_equal(i[n.bindValue],e)&&(i[n.bindValue]=e,bu.set(i))},function(e,r){t.$$.not_equal(r.wrong,e)&&(r.wrong=e,n(3,p))},function(e,n){t.$$.not_equal(i[n.bindValue],e)&&(i[n.bindValue]=e,bu.set(i))},function(e,r){t.$$.not_equal(r.wrong,e)&&(r.wrong=e,n(3,p))}]}class Lu extends ht{constructor(t){super(),ft(this,t,Ru,Iu,a,{projectId:9})}}var qu=en((function(t,e){t.exports=function(){var e,n;function r(){return e.apply(null,arguments)}function o(t){e=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function f(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function d(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,r){return Wn(t,e,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function y(t){if(null==t._isValid){var e=g(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function v(t){var e=p(NaN);return null!=t?d(g(e),t):g(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var b=r.momentProperties=[],w=!1;function _(t,e){var n,r,o;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=g(e)),u(e._locale)||(t._locale=e._locale),b.length>0)for(n=0;n<b.length;n++)u(o=e[r=b[n]])||(t[r]=o);return t}function k(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function x(t){return t instanceof k||null!=t&&null!=t._isAMomentObject}function E(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function O(t,e){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var o,i,s,l=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(s in o+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];l.push(o)}E(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var N,A={};function S(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),A[t]||(E(e),A[t]=!0)}function M(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t){var e,n;for(n in t)a(t,n)&&(M(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(t,e){var n,r=d({},t);for(n in e)a(e,n)&&(s(t[n])&&s(e[n])?(r[n]={},d(r[n],t[n]),d(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)a(t,n)&&!a(e,n)&&s(t[n])&&(r[n]=d({},r[n]));return r}function C(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,N=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return M(r)?r.call(e,n):r}function R(t,e,n){var r=""+Math.abs(t),o=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$={},D={};function B(t,e,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),t&&(D[t]=o),e&&(D[e[0]]=function(){return R(o.apply(this,arguments),e[1],e[2])}),n&&(D[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,n,r=t.match(L);for(e=0,n=r.length;e<n;e++)D[r[e]]?r[e]=D[r[e]]:r[e]=F(r[e]);return function(e){var o,i="";for(o=0;o<n;o++)i+=M(r[o])?r[o].call(e,t):r[o];return i}}function H(t,e){return t.isValid()?(e=Y(e,t.localeData()),$[e]=$[e]||U(e),$[e](t)):t.localeData().invalidDate()}function Y(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(q.lastIndex=0;n>=0&&q.test(t);)t=t.replace(q,r),q.lastIndex=0,n-=1;return t}var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(L).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var G="Invalid date";function W(){return this._invalidDate}var K="%d",Z=/\d{1,2}/;function J(t){return this._ordinal.replace("%d",t)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(t,e,n,r){var o=this._relativeTime[n];return M(o)?o(t,e,n,r):o.replace(/%d/i,t)}function tt(t,e){var n=this._relativeTime[t>0?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)}var et={};function nt(t,e){var n=t.toLowerCase();et[n]=et[n+"s"]=et[e]=t}function rt(t){return"string"==typeof t?et[t]||et[t.toLowerCase()]:void 0}function ot(t){var e,n,r={};for(n in t)a(t,n)&&(e=rt(n))&&(r[e]=t[n]);return r}var it={};function st(t,e){it[t]=e}function at(t){var e,n=[];for(e in t)a(t,e)&&n.push({unit:e,priority:it[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}function lt(t){return t%4==0&&t%100!=0||t%400==0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ct(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ut(e)),n}function ft(t,e){return function(n){return null!=n?(dt(this,t,n),r.updateOffset(this,e),this):ht(this,t)}}function ht(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function dt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&lt(t.year())&&1===t.month()&&29===t.date()?(n=ct(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Qt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function pt(t){return M(this[t=rt(t)])?this[t]():this}function mt(t,e){if("object"==typeof t){var n,r=at(t=ot(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(M(this[t=rt(t)]))return this[t](e);return this}var gt,yt=/\d/,vt=/\d\d/,bt=/\d{3}/,wt=/\d{4}/,_t=/[+-]?\d{6}/,kt=/\d\d?/,xt=/\d\d\d\d?/,Et=/\d\d\d\d\d\d?/,Ot=/\d{1,3}/,Nt=/\d{1,4}/,At=/[+-]?\d{1,6}/,St=/\d+/,Mt=/[+-]?\d+/,Pt=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ct=/[+-]?\d+(\.\d{1,3})?/,jt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function It(t,e,n){gt[t]=M(e)?e:function(t,r){return t&&n?n:e}}function Rt(t,e){return a(gt,t)?gt[t](e._strict,e._locale):new RegExp(Lt(t))}function Lt(t){return qt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,o){return e||n||r||o})))}function qt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}gt={};var $t={};function Dt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=ct(t)}),n=0;n<t.length;n++)$t[t[n]]=r}function Bt(t,e){Dt(t,(function(t,n,r,o){r._w=r._w||{},e(t,r._w,r,o)}))}function Ft(t,e,n){null!=e&&a($t,t)&&$t[t](e,n._a,n,t)}var Ut,Ht=0,Yt=1,zt=2,Vt=3,Gt=4,Wt=5,Kt=6,Zt=7,Jt=8;function Xt(t,e){return(t%e+e)%e}function Qt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Xt(e,12);return t+=(e-n)/12,1===n?lt(t)?29:28:31-n%7%2}Ut=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),B("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),nt("month","M"),st("month",8),It("M",kt),It("MM",kt,vt),It("MMM",(function(t,e){return e.monthsShortRegex(t)})),It("MMMM",(function(t,e){return e.monthsRegex(t)})),Dt(["M","MM"],(function(t,e){e[Yt]=ct(t)-1})),Dt(["MMM","MMMM"],(function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[Yt]=o:g(n).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,re=jt,oe=jt;function ie(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ne).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function se(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ne.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Ut.call(this._shortMonthsParse,s))?o:null:-1!==(o=Ut.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Ut.call(this._shortMonthsParse,s))||-1!==(o=Ut.call(this._longMonthsParse,s))?o:null:-1!==(o=Ut.call(this._longMonthsParse,s))||-1!==(o=Ut.call(this._shortMonthsParse,s))?o:null}function le(t,e,n){var r,o,i;if(this._monthsParseExact)return ae.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ue(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=ct(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Qt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ce(t){return null!=t?(ue(this,t),r.updateOffset(this,!0),this):ht(this,"Month")}function fe(){return Qt(this.year(),this.month())}function he(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=oe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pe(){function t(t,e){return e.length-t.length}var e,n,r=[],o=[],i=[];for(e=0;e<12;e++)n=p([2e3,e]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)r[e]=qt(r[e]),o[e]=qt(o[e]);for(e=0;e<24;e++)i[e]=qt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function me(t){return lt(t)?366:365}B("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),st("year",1),It("Y",Mt),It("YY",kt,vt),It("YYYY",Nt,wt),It("YYYYY",At,_t),It("YYYYYY",At,_t),Dt(["YYYYY","YYYYYY"],Ht),Dt("YYYY",(function(t,e){e[Ht]=2===t.length?r.parseTwoDigitYear(t):ct(t)})),Dt("YY",(function(t,e){e[Ht]=r.parseTwoDigitYear(t)})),Dt("Y",(function(t,e){e[Ht]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return ct(t)+(ct(t)>68?1900:2e3)};var ge=ft("FullYear",!0);function ye(){return lt(this.year())}function ve(t,e,n,r,o,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,o,i,s),a}function be(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function we(t,e,n){var r=7+e-n;return-(7+be(t,0,r).getUTCDay()-e)%7+r-1}function _e(t,e,n,r,o){var i,s,a=1+7*(e-1)+(7+n-r)%7+we(t,r,o);return a<=0?s=me(i=t-1)+a:a>me(t)?(i=t+1,s=a-me(t)):(i=t,s=a),{year:i,dayOfYear:s}}function ke(t,e,n){var r,o,i=we(t.year(),e,n),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?r=s+xe(o=t.year()-1,e,n):s>xe(t.year(),e,n)?(r=s-xe(t.year(),e,n),o=t.year()+1):(o=t.year(),r=s),{week:r,year:o}}function xe(t,e,n){var r=we(t,e,n),o=we(t+1,e,n);return(me(t)-r+o)/7}function Ee(t){return ke(t,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),st("week",5),st("isoWeek",5),It("w",kt),It("ww",kt,vt),It("W",kt),It("WW",kt,vt),Bt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=ct(t)}));var Oe={dow:0,doy:6};function Ne(){return this._week.dow}function Ae(){return this._week.doy}function Se(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Me(t){var e=ke(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Pe(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Te(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ce(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("d",0,"do","day"),B("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),B("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),B("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),st("day",11),st("weekday",11),st("isoWeekday",11),It("d",kt),It("e",kt),It("E",kt),It("dd",(function(t,e){return e.weekdaysMinRegex(t)})),It("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),It("dddd",(function(t,e){return e.weekdaysRegex(t)})),Bt(["dd","ddd","dddd"],(function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);null!=o?e.d=o:g(n).invalidWeekday=t})),Bt(["d","e","E"],(function(t,e,n,r){e[r]=ct(t)}));var je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Le=jt,qe=jt,$e=jt;function De(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ce(n,this._week.dow):t?n[t.day()]:n}function Be(t){return!0===t?Ce(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Fe(t){return!0===t?Ce(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ue(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Ut.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Ut.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Ut.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Ut.call(this._weekdaysParse,s))||-1!==(o=Ut.call(this._shortWeekdaysParse,s))||-1!==(o=Ut.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Ut.call(this._shortWeekdaysParse,s))||-1!==(o=Ut.call(this._weekdaysParse,s))||-1!==(o=Ut.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Ut.call(this._minWeekdaysParse,s))||-1!==(o=Ut.call(this._weekdaysParse,s))||-1!==(o=Ut.call(this._shortWeekdaysParse,s))?o:null}function He(t,e,n){var r,o,i;if(this._weekdaysParseExact)return Ue.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Ye(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Pe(t,this.localeData()),this.add(t-e,"d")):e}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Te(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ge(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Le),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function We(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ke(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$e),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ze(){function t(t,e){return e.length-t.length}var e,n,r,o,i,s=[],a=[],l=[],u=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),r=qt(this.weekdaysMin(n,"")),o=qt(this.weekdaysShort(n,"")),i=qt(this.weekdays(n,"")),s.push(r),a.push(o),l.push(i),u.push(r),u.push(o),u.push(i);s.sort(t),a.sort(t),l.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Je(){return this.hours()%12||12}function Xe(){return this.hours()||24}function Qe(t,e){B(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Je),B("k",["kk",2],0,Xe),B("hmm",0,0,(function(){return""+Je.apply(this)+R(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Je.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),nt("hour","h"),st("hour",13),It("a",tn),It("A",tn),It("H",kt),It("h",kt),It("k",kt),It("HH",kt,vt),It("hh",kt,vt),It("kk",kt,vt),It("hmm",xt),It("hmmss",Et),It("Hmm",xt),It("Hmmss",Et),Dt(["H","HH"],Vt),Dt(["k","kk"],(function(t,e,n){var r=ct(t);e[Vt]=24===r?0:r})),Dt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Dt(["h","hh"],(function(t,e,n){e[Vt]=ct(t),g(n).bigHour=!0})),Dt("hmm",(function(t,e,n){var r=t.length-2;e[Vt]=ct(t.substr(0,r)),e[Gt]=ct(t.substr(r)),g(n).bigHour=!0})),Dt("hmmss",(function(t,e,n){var r=t.length-4,o=t.length-2;e[Vt]=ct(t.substr(0,r)),e[Gt]=ct(t.substr(r,2)),e[Wt]=ct(t.substr(o)),g(n).bigHour=!0})),Dt("Hmm",(function(t,e,n){var r=t.length-2;e[Vt]=ct(t.substr(0,r)),e[Gt]=ct(t.substr(r))})),Dt("Hmmss",(function(t,e,n){var r=t.length-4,o=t.length-2;e[Vt]=ct(t.substr(0,r)),e[Gt]=ct(t.substr(r,2)),e[Wt]=ct(t.substr(o))}));var rn=/[ap]\.?m?\.?/i,on=ft("Hours",!0);function sn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:j,longDateFormat:z,invalidDate:G,ordinal:K,dayOfMonthOrdinalParse:Z,relativeTime:X,months:te,monthsShort:ee,week:Oe,weekdays:je,weekdaysMin:Re,weekdaysShort:Ie,meridiemParse:rn},un={},cn={};function fn(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function hn(t){return t?t.toLowerCase().replace("_","-"):t}function dn(t){for(var e,n,r,o,i=0;i<t.length;){for(e=(o=hn(t[i]).split("-")).length,n=(n=hn(t[i+1]))?n.split("-"):null;e>0;){if(r=pn(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&fn(o,n)>=e-1)break;e--}i++}return an}function pn(e){var n=null;if(void 0===un[e]&&t&&t.exports)try{n=an._abbr,nn("./locale/"+e),mn(n)}catch(t){un[e]=null}return un[e]}function mn(t,e){var n;return t&&((n=u(e)?vn(t):gn(t,e))?an=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),an._abbr}function gn(t,e){if(null!==e){var n,r=ln;if(e.abbr=t,null!=un[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[t]._config;else if(null!=e.parentLocale)if(null!=un[e.parentLocale])r=un[e.parentLocale]._config;else{if(null==(n=pn(e.parentLocale)))return cn[e.parentLocale]||(cn[e.parentLocale]=[]),cn[e.parentLocale].push({name:t,config:e}),null;r=n._config}return un[t]=new C(T(r,e)),cn[t]&&cn[t].forEach((function(t){gn(t.name,t.config)})),mn(t),un[t]}return delete un[t],null}function yn(t,e){if(null!=e){var n,r,o=ln;null!=un[t]&&null!=un[t].parentLocale?un[t].set(T(un[t]._config,e)):(null!=(r=pn(t))&&(o=r._config),e=T(o,e),null==r&&(e.abbr=t),(n=new C(e)).parentLocale=un[t],un[t]=n),mn(t)}else null!=un[t]&&(null!=un[t].parentLocale?(un[t]=un[t].parentLocale,t===mn()&&mn(t)):null!=un[t]&&delete un[t]);return un[t]}function vn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return an;if(!i(t)){if(e=pn(t))return e;t=[t]}return dn(t)}function bn(){return N(un)}function wn(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[Yt]<0||n[Yt]>11?Yt:n[zt]<1||n[zt]>Qt(n[Ht],n[Yt])?zt:n[Vt]<0||n[Vt]>24||24===n[Vt]&&(0!==n[Gt]||0!==n[Wt]||0!==n[Kt])?Vt:n[Gt]<0||n[Gt]>59?Gt:n[Wt]<0||n[Wt]>59?Wt:n[Kt]<0||n[Kt]>999?Kt:-1,g(t)._overflowDayOfYear&&(e<Ht||e>zt)&&(e=zt),g(t)._overflowWeeks&&-1===e&&(e=Zt),g(t)._overflowWeekday&&-1===e&&(e=Jt),g(t).overflow=e),t}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,En=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],On=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Nn=/^\/?Date\((-?\d+)/i,An=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Sn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mn(t){var e,n,r,o,i,s,a=t._i,l=_n.exec(a)||kn.exec(a);if(l){for(g(t).iso=!0,e=0,n=En.length;e<n;e++)if(En[e][1].exec(l[1])){o=En[e][0],r=!1!==En[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=On.length;e<n;e++)if(On[e][1].exec(l[3])){i=(l[2]||" ")+On[e][0];break}if(null==i)return void(t._isValid=!1)}if(!r&&null!=i)return void(t._isValid=!1);if(l[4]){if(!xn.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(i||"")+(s||""),Fn(t)}else t._isValid=!1}function Pn(t,e,n,r,o,i){var s=[Tn(t),ee.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function Tn(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Cn(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jn(t,e,n){return!t||Ie.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function In(t,e,n){if(t)return Sn[t];if(e)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}function Rn(t){var e,n=An.exec(Cn(t._i));if(n){if(e=Pn(n[4],n[3],n[2],n[5],n[6],n[7]),!jn(n[1],e,t))return;t._a=e,t._tzm=In(n[8],n[9],n[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Ln(t){var e=Nn.exec(t._i);null===e?(Mn(t),!1===t._isValid&&(delete t._isValid,Rn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function qn(t,e,n){return null!=t?t:null!=e?e:n}function $n(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Dn(t){var e,n,r,o,i,s=[];if(!t._d){for(r=$n(t),t._w&&null==t._a[zt]&&null==t._a[Yt]&&Bn(t),null!=t._dayOfYear&&(i=qn(t._a[Ht],r[Ht]),(t._dayOfYear>me(i)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=be(i,0,t._dayOfYear),t._a[Yt]=n.getUTCMonth(),t._a[zt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Vt]&&0===t._a[Gt]&&0===t._a[Wt]&&0===t._a[Kt]&&(t._nextDay=!0,t._a[Vt]=0),t._d=(t._useUTC?be:ve).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(g(t).weekdayMismatch=!0)}}function Bn(t){var e,n,r,o,i,s,a,l,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,s=4,n=qn(e.GG,t._a[Ht],ke(Kn(),1,4).year),r=qn(e.W,1),((o=qn(e.E,1))<1||o>7)&&(l=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,u=ke(Kn(),i,s),n=qn(e.gg,t._a[Ht],u.year),r=qn(e.w,u.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(l=!0)):o=i),r<1||r>xe(n,i,s)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(a=_e(n,r,o,i,s),t._a[Ht]=a.year,t._dayOfYear=a.dayOfYear)}function Fn(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],g(t).empty=!0;var e,n,o,i,s,a,l=""+t._i,u=l.length,c=0;for(o=Y(t._f,t._locale).match(L)||[],e=0;e<o.length;e++)i=o[e],(n=(l.match(Rt(i,t))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&g(t).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),c+=n.length),D[i]?(n?g(t).empty=!1:g(t).unusedTokens.push(i),Ft(i,n,t)):t._strict&&!n&&g(t).unusedTokens.push(i);g(t).charsLeftOver=u-c,l.length>0&&g(t).unusedInput.push(l),t._a[Vt]<=12&&!0===g(t).bigHour&&t._a[Vt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Vt]=Un(t._locale,t._a[Vt],t._meridiem),null!==(a=g(t).era)&&(t._a[Ht]=t._locale.erasConvertYear(a,t._a[Ht])),Dn(t),wn(t)}else Rn(t);else Mn(t)}function Un(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function Hn(t){var e,n,r,o,i,s,a=!1;if(0===t._f.length)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,s=!1,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Fn(e),y(e)&&(s=!0),i+=g(e).charsLeftOver,i+=10*g(e).unusedTokens.length,g(e).score=i,a?i<r&&(r=i,n=e):(null==r||i<r||s)&&(r=i,n=e,s&&(a=!0));d(t,n||e)}function Yn(t){if(!t._d){var e=ot(t._i),n=void 0===e.day?e.date:e.day;t._a=h([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Dn(t)}}function zn(t){var e=new k(wn(Vn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Vn(t){var e=t._i,n=t._f;return t._locale=t._locale||vn(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),x(e)?new k(wn(e)):(f(e)?t._d=e:i(n)?Hn(t):n?Fn(t):Gn(t),y(t)||(t._d=null),t))}function Gn(t){var e=t._i;u(e)?t._d=new Date(r.now()):f(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Ln(t):i(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),Dn(t)):s(e)?Yn(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Wn(t,e,n,r,o){var a={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(t)&&l(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=r,zn(a)}function Kn(t,e,n,r){return Wn(t,e,n,r,!1)}r.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Kn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Jn=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Kn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Xn(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Kn();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Qn(){return Xn("isBefore",[].slice.call(arguments,0))}function tr(){return Xn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(t){var e,n,r=!1;for(e in t)if(a(t,e)&&(-1===Ut.call(nr,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<nr.length;++n)if(t[nr[n]]){if(r)return!1;parseFloat(t[nr[n]])!==ct(t[nr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function ir(){return Sr(NaN)}function sr(t){var e=ot(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=rr(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function ar(t){return t instanceof sr}function lr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ur(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(r=0;r<o;r++)(n&&t[r]!==e[r]||!n&&ct(t[r])!==ct(e[r]))&&s++;return s+i}function cr(t,e){B(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)}))}cr("Z",":"),cr("ZZ",""),It("Z",Tt),It("ZZ",Tt),Dt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=hr(Tt,t)}));var fr=/([\+\-]|\d\d)/gi;function hr(t,e){var n,r,o=(e||"").match(t);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(fr)||["-",0,0])[1]+ct(n[2]))?0:"+"===n[0]?r:-r}function dr(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(x(t)||f(t)?t.valueOf():Kn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Kn(t).local()}function pr(t){return-Math.round(t._d.getTimezoneOffset())}function mr(t,e,n){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=hr(Tt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=pr(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?jr(this,Sr(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:pr(this)}function gr(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yr(t){return this.utcOffset(0,t)}function vr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=hr(Pt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function wr(t){return!!this.isValid()&&(t=t?Kn(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function kr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return _(e,this),(e=Vn(e))._a?(t=e._isUTC?p(e._a):Kn(e._a),this._isDSTShifted=this.isValid()&&ur(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Er(){return!!this.isValid()&&this._isUTC}function Or(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Nr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ar=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sr(t,e){var n,r,o,i=t,s=null;return ar(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(s=Nr.exec(t))?(n="-"===s[1]?-1:1,i={y:0,d:ct(s[zt])*n,h:ct(s[Vt])*n,m:ct(s[Gt])*n,s:ct(s[Wt])*n,ms:ct(lr(1e3*s[Kt]))*n}):(s=Ar.exec(t))?(n="-"===s[1]?-1:1,i={y:Mr(s[2],n),M:Mr(s[3],n),w:Mr(s[4],n),d:Mr(s[5],n),h:Mr(s[6],n),m:Mr(s[7],n),s:Mr(s[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=Tr(Kn(i.from),Kn(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new sr(i),ar(t)&&a(t,"_locale")&&(r._locale=t._locale),ar(t)&&a(t,"_isValid")&&(r._isValid=t._isValid),r}function Mr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Pr(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Tr(t,e){var n;return t.isValid()&&e.isValid()?(e=dr(e,t),t.isBefore(e)?n=Pr(t,e):((n=Pr(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Cr(t,e){return function(n,r){var o;return null===r||isNaN(+r)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),jr(this,Sr(n,r),t),this}}function jr(t,e,n,o){var i=e._milliseconds,s=lr(e._days),a=lr(e._months);t.isValid()&&(o=null==o||o,a&&ue(t,ht(t,"Month")+a*n),s&&dt(t,"Date",ht(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),o&&r.updateOffset(t,s||a))}Sr.fn=sr.prototype,Sr.invalid=ir;var Ir=Cr(1,"add"),Rr=Cr(-1,"subtract");function Lr(t){return"string"==typeof t||t instanceof String}function qr(t){return x(t)||f(t)||Lr(t)||c(t)||Dr(t)||$r(t)||null==t}function $r(t){var e,n,r=s(t)&&!l(t),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<i.length;e+=1)n=i[e],o=o||a(t,n);return r&&o}function Dr(t){var e=i(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&Lr(t)})).length),e&&n}function Br(t){var e,n,r=s(t)&&!l(t),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)n=i[e],o=o||a(t,n);return r&&o}function Fr(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(t,e){1===arguments.length&&(arguments[0]?qr(arguments[0])?(t=arguments[0],e=void 0):Br(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Kn(),o=dr(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",s=e&&(M(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Kn(n)))}function Hr(){return new k(this)}function Yr(t,e){var n=x(t)?t:Kn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function zr(t,e){var n=x(t)?t:Kn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Vr(t,e,n,r){var o=x(t)?t:Kn(t),i=x(e)?e:Kn(e);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Gr(t,e){var n,r=x(t)?t:Kn(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Wr(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Kr(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Zr(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=dr(t,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),e=rt(e)){case"year":i=Jr(this,r)/12;break;case"month":i=Jr(this,r);break;case"quarter":i=Jr(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:ut(i)}function Jr(t,e){if(t.date()<e.date())return-Jr(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function to(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,o="moment",i="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+o+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(t+e+n+r)}function eo(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)}function no(t,e){return this.isValid()&&(x(t)&&t.isValid()||Kn(t).isValid())?Sr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ro(t){return this.from(Kn(),t)}function oo(t,e){return this.isValid()&&(x(t)&&t.isValid()||Kn(t).isValid())?Sr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function io(t){return this.to(Kn(),t)}function so(t){var e;return void 0===t?this._locale._abbr:(null!=(e=vn(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ao=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function lo(){return this._locale}var uo=1e3,co=60*uo,fo=60*co,ho=3506328*fo;function po(t,e){return(t%e+e)%e}function mo(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-ho:new Date(t,e,n).valueOf()}function go(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-ho:Date.UTC(t,e,n)}function yo(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?go:mo,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=po(e+(this._isUTC?0:this.utcOffset()*co),fo);break;case"minute":e=this._d.valueOf(),e-=po(e,co);break;case"second":e=this._d.valueOf(),e-=po(e,uo)}return this._d.setTime(e),r.updateOffset(this,!0),this}function vo(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?go:mo,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=fo-po(e+(this._isUTC?0:this.utcOffset()*co),fo)-1;break;case"minute":e=this._d.valueOf(),e+=co-po(e,co)-1;break;case"second":e=this._d.valueOf(),e+=uo-po(e,uo)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function wo(){return Math.floor(this.valueOf()/1e3)}function _o(){return new Date(this.valueOf())}function ko(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xo(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Eo(){return this.isValid()?this.toISOString():null}function Oo(){return y(this)}function No(){return d({},g(this))}function Ao(){return g(this).overflow}function So(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mo(t,e){var n,o,i,s=this._eras||vn("en")._eras;for(n=0,o=s.length;n<o;++n)switch("string"==typeof s[n].since&&(i=r(s[n].since).startOf("day"),s[n].since=i.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=r(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}return s}function Po(t,e,n){var r,o,i,s,a,l=this.eras();for(t=t.toUpperCase(),r=0,o=l.length;r<o;++r)if(i=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(s===t)return l[r];break;case"NNNN":if(i===t)return l[r];break;case"NNNNN":if(a===t)return l[r]}else if([i,s,a].indexOf(t)>=0)return l[r]}function To(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Co(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function jo(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function Io(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function Ro(){var t,e,n,o,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,o=this.clone().startOf("day").valueOf(),i[t].since<=o&&o<=i[t].until||i[t].until<=o&&o<=i[t].since)return(this.year()-r(i[t].since).year())*n+i[t].offset;return this.year()}function Lo(t){return a(this,"_erasNameRegex")||Ho.call(this),t?this._erasNameRegex:this._erasRegex}function qo(t){return a(this,"_erasAbbrRegex")||Ho.call(this),t?this._erasAbbrRegex:this._erasRegex}function $o(t){return a(this,"_erasNarrowRegex")||Ho.call(this),t?this._erasNarrowRegex:this._erasRegex}function Do(t,e){return e.erasAbbrRegex(t)}function Bo(t,e){return e.erasNameRegex(t)}function Fo(t,e){return e.erasNarrowRegex(t)}function Uo(t,e){return e._eraYearOrdinalRegex||St}function Ho(){var t,e,n=[],r=[],o=[],i=[],s=this.eras();for(t=0,e=s.length;t<e;++t)r.push(qt(s[t].name)),n.push(qt(s[t].abbr)),o.push(qt(s[t].narrow)),i.push(qt(s[t].name)),i.push(qt(s[t].abbr)),i.push(qt(s[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Yo(t,e){B(0,[t,t.length],0,e)}function zo(t){return Jo.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vo(t){return Jo.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Go(){return xe(this.year(),1,4)}function Wo(){return xe(this.isoWeekYear(),1,4)}function Ko(){var t=this.localeData()._week;return xe(this.year(),t.dow,t.doy)}function Zo(){var t=this.localeData()._week;return xe(this.weekYear(),t.dow,t.doy)}function Jo(t,e,n,r,o){var i;return null==t?ke(this,r,o).year:(e>(i=xe(t,r,o))&&(e=i),Xo.call(this,t,e,n,r,o))}function Xo(t,e,n,r,o){var i=_e(t,e,n,r,o),s=be(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qo(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),It("N",Do),It("NN",Do),It("NNN",Do),It("NNNN",Bo),It("NNNNN",Fo),Dt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var o=n._locale.erasParse(t,r,n._strict);o?g(n).era=o:g(n).invalidEra=t})),It("y",St),It("yy",St),It("yyy",St),It("yyyy",St),It("yo",Uo),Dt(["y","yy","yyy","yyyy"],Ht),Dt(["yo"],(function(t,e,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ht]=n._locale.eraYearOrdinalParse(t,o):e[Ht]=parseInt(t,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Yo("gggg","weekYear"),Yo("ggggg","weekYear"),Yo("GGGG","isoWeekYear"),Yo("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),st("weekYear",1),st("isoWeekYear",1),It("G",Mt),It("g",Mt),It("GG",kt,vt),It("gg",kt,vt),It("GGGG",Nt,wt),It("gggg",Nt,wt),It("GGGGG",At,_t),It("ggggg",At,_t),Bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=ct(t)})),Bt(["gg","GG"],(function(t,e,n,o){e[o]=r.parseTwoDigitYear(t)})),B("Q",0,"Qo","quarter"),nt("quarter","Q"),st("quarter",7),It("Q",yt),Dt("Q",(function(t,e){e[Yt]=3*(ct(t)-1)})),B("D",["DD",2],"Do","date"),nt("date","D"),st("date",9),It("D",kt),It("DD",kt,vt),It("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Dt(["D","DD"],zt),Dt("Do",(function(t,e){e[zt]=ct(t.match(kt)[0])}));var ti=ft("Date",!0);function ei(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),st("dayOfYear",4),It("DDD",Ot),It("DDDD",bt),Dt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=ct(t)})),B("m",["mm",2],0,"minute"),nt("minute","m"),st("minute",14),It("m",kt),It("mm",kt,vt),Dt(["m","mm"],Gt);var ni=ft("Minutes",!1);B("s",["ss",2],0,"second"),nt("second","s"),st("second",15),It("s",kt),It("ss",kt,vt),Dt(["s","ss"],Wt);var ri,oi,ii=ft("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),nt("millisecond","ms"),st("millisecond",16),It("S",Ot,yt),It("SS",Ot,vt),It("SSS",Ot,bt),ri="SSSS";ri.length<=9;ri+="S")It(ri,St);function si(t,e){e[Kt]=ct(1e3*("0."+t))}for(ri="S";ri.length<=9;ri+="S")Dt(ri,si);function ai(){return this._isUTC?"UTC":""}function li(){return this._isUTC?"Coordinated Universal Time":""}oi=ft("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ui=k.prototype;function ci(t){return Kn(1e3*t)}function fi(){return Kn.apply(null,arguments).parseZone()}function hi(t){return t}ui.add=Ir,ui.calendar=Ur,ui.clone=Hr,ui.diff=Zr,ui.endOf=vo,ui.format=eo,ui.from=no,ui.fromNow=ro,ui.to=oo,ui.toNow=io,ui.get=pt,ui.invalidAt=Ao,ui.isAfter=Yr,ui.isBefore=zr,ui.isBetween=Vr,ui.isSame=Gr,ui.isSameOrAfter=Wr,ui.isSameOrBefore=Kr,ui.isValid=Oo,ui.lang=ao,ui.locale=so,ui.localeData=lo,ui.max=Jn,ui.min=Zn,ui.parsingFlags=No,ui.set=mt,ui.startOf=yo,ui.subtract=Rr,ui.toArray=ko,ui.toObject=xo,ui.toDate=_o,ui.toISOString=Qr,ui.inspect=to,"undefined"!=typeof Symbol&&null!=Symbol.for&&(ui[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ui.toJSON=Eo,ui.toString=Xr,ui.unix=wo,ui.valueOf=bo,ui.creationData=So,ui.eraName=Co,ui.eraNarrow=jo,ui.eraAbbr=Io,ui.eraYear=Ro,ui.year=ge,ui.isLeapYear=ye,ui.weekYear=zo,ui.isoWeekYear=Vo,ui.quarter=ui.quarters=Qo,ui.month=ce,ui.daysInMonth=fe,ui.week=ui.weeks=Se,ui.isoWeek=ui.isoWeeks=Me,ui.weeksInYear=Ko,ui.weeksInWeekYear=Zo,ui.isoWeeksInYear=Go,ui.isoWeeksInISOWeekYear=Wo,ui.date=ti,ui.day=ui.days=Ye,ui.weekday=ze,ui.isoWeekday=Ve,ui.dayOfYear=ei,ui.hour=ui.hours=on,ui.minute=ui.minutes=ni,ui.second=ui.seconds=ii,ui.millisecond=ui.milliseconds=oi,ui.utcOffset=mr,ui.utc=yr,ui.local=vr,ui.parseZone=br,ui.hasAlignedHourOffset=wr,ui.isDST=_r,ui.isLocal=xr,ui.isUtcOffset=Er,ui.isUtc=Or,ui.isUTC=Or,ui.zoneAbbr=ai,ui.zoneName=li,ui.dates=O("dates accessor is deprecated. Use date instead.",ti),ui.months=O("months accessor is deprecated. Use month instead",ce),ui.years=O("years accessor is deprecated. Use year instead",ge),ui.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ui.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",kr);var di=C.prototype;function pi(t,e,n,r){var o=vn(),i=p().set(r,e);return o[n](i,t)}function mi(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return pi(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=pi(t,r,n,"month");return o}function gi(t,e,n,r){"boolean"==typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var o,i=vn(),s=t?i._week.dow:0,a=[];if(null!=n)return pi(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=pi(e,(o+s)%7,r,"day");return a}function yi(t,e){return mi(t,e,"months")}function vi(t,e){return mi(t,e,"monthsShort")}function bi(t,e,n){return gi(t,e,n,"weekdays")}function wi(t,e,n){return gi(t,e,n,"weekdaysShort")}function _i(t,e,n){return gi(t,e,n,"weekdaysMin")}di.calendar=I,di.longDateFormat=V,di.invalidDate=W,di.ordinal=J,di.preparse=hi,di.postformat=hi,di.relativeTime=Q,di.pastFuture=tt,di.set=P,di.eras=Mo,di.erasParse=Po,di.erasConvertYear=To,di.erasAbbrRegex=qo,di.erasNameRegex=Lo,di.erasNarrowRegex=$o,di.months=ie,di.monthsShort=se,di.monthsParse=le,di.monthsRegex=de,di.monthsShortRegex=he,di.week=Ee,di.firstDayOfYear=Ae,di.firstDayOfWeek=Ne,di.weekdays=De,di.weekdaysMin=Fe,di.weekdaysShort=Be,di.weekdaysParse=He,di.weekdaysRegex=Ge,di.weekdaysShortRegex=We,di.weekdaysMinRegex=Ke,di.isPM=en,di.meridiem=sn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===ct(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=O("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=O("moment.langData is deprecated. Use moment.localeData instead.",vn);var ki=Math.abs;function xi(){var t=this._data;return this._milliseconds=ki(this._milliseconds),this._days=ki(this._days),this._months=ki(this._months),t.milliseconds=ki(t.milliseconds),t.seconds=ki(t.seconds),t.minutes=ki(t.minutes),t.hours=ki(t.hours),t.months=ki(t.months),t.years=ki(t.years),this}function Ei(t,e,n,r){var o=Sr(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function Oi(t,e){return Ei(this,t,e,1)}function Ni(t,e){return Ei(this,t,e,-1)}function Ai(t){return t<0?Math.floor(t):Math.ceil(t)}function Si(){var t,e,n,r,o,i=this._milliseconds,s=this._days,a=this._months,l=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*Ai(Pi(a)+s),s=0,a=0),l.milliseconds=i%1e3,t=ut(i/1e3),l.seconds=t%60,e=ut(t/60),l.minutes=e%60,n=ut(e/60),l.hours=n%24,s+=ut(n/24),a+=o=ut(Mi(s)),s-=Ai(Pi(o)),r=ut(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Mi(t){return 4800*t/146097}function Pi(t){return 146097*t/4800}function Ti(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=rt(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+Mi(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Pi(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Ci(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ct(this._months/12):NaN}function ji(t){return function(){return this.as(t)}}var Ii=ji("ms"),Ri=ji("s"),Li=ji("m"),qi=ji("h"),$i=ji("d"),Di=ji("w"),Bi=ji("M"),Fi=ji("Q"),Ui=ji("y");function Hi(){return Sr(this)}function Yi(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function zi(t){return function(){return this.isValid()?this._data[t]:NaN}}var Vi=zi("milliseconds"),Gi=zi("seconds"),Wi=zi("minutes"),Ki=zi("hours"),Zi=zi("days"),Ji=zi("months"),Xi=zi("years");function Qi(){return ut(this.days()/7)}var ts=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ns(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}function rs(t,e,n,r){var o=Sr(t).abs(),i=ts(o.as("s")),s=ts(o.as("m")),a=ts(o.as("h")),l=ts(o.as("d")),u=ts(o.as("M")),c=ts(o.as("w")),f=ts(o.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),(h=h||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f])[2]=e,h[3]=+t>0,h[4]=r,ns.apply(null,h)}function os(t){return void 0===t?ts:"function"==typeof t&&(ts=t,!0)}function is(t,e){return void 0!==es[t]&&(void 0===e?es[t]:(es[t]=e,"s"===t&&(es.ss=e-1),!0))}function ss(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=es;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(o=t),"object"==typeof e&&(i=Object.assign({},es,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),r=rs(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)}var as=Math.abs;function ls(t){return(t>0)-(t<0)||+t}function us(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,o,i,s,a,l=as(this._milliseconds)/1e3,u=as(this._days),c=as(this._months),f=this.asSeconds();return f?(t=ut(l/60),e=ut(t/60),l%=60,t%=60,n=ut(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=f<0?"-":"",i=ls(this._months)!==ls(f)?"-":"",s=ls(this._days)!==ls(f)?"-":"",a=ls(this._milliseconds)!==ls(f)?"-":"",o+"P"+(n?i+n+"Y":"")+(c?i+c+"M":"")+(u?s+u+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+r+"S":"")):"P0D"}var cs=sr.prototype;return cs.isValid=or,cs.abs=xi,cs.add=Oi,cs.subtract=Ni,cs.as=Ti,cs.asMilliseconds=Ii,cs.asSeconds=Ri,cs.asMinutes=Li,cs.asHours=qi,cs.asDays=$i,cs.asWeeks=Di,cs.asMonths=Bi,cs.asQuarters=Fi,cs.asYears=Ui,cs.valueOf=Ci,cs._bubble=Si,cs.clone=Hi,cs.get=Yi,cs.milliseconds=Vi,cs.seconds=Gi,cs.minutes=Wi,cs.hours=Ki,cs.days=Zi,cs.weeks=Qi,cs.months=Ji,cs.years=Xi,cs.humanize=ss,cs.toISOString=us,cs.toString=us,cs.toJSON=us,cs.locale=so,cs.localeData=lo,cs.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),cs.lang=ao,B("X",0,0,"unix"),B("x",0,0,"valueOf"),It("x",Mt),It("X",Ct),Dt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Dt("x",(function(t,e,n){n._d=new Date(ct(t))})),
//! moment.js
r.version="2.29.1",o(Kn),r.fn=ui,r.min=Qn,r.max=tr,r.now=er,r.utc=p,r.unix=ci,r.months=yi,r.isDate=f,r.locale=mn,r.invalid=v,r.duration=Sr,r.isMoment=x,r.weekdays=bi,r.parseZone=fi,r.localeData=vn,r.isDuration=ar,r.monthsShort=vi,r.weekdaysMin=_i,r.defineLocale=gn,r.updateLocale=yn,r.locales=bn,r.weekdaysShort=wi,r.normalizeUnits=rt,r.relativeTimeRounding=os,r.relativeTimeThreshold=is,r.calendarFormat=Fr,r.prototype=ui,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()})),$u={outreach:"Outreach",build:"Build & Integrate",unleash:"Unleash Data",buildcore:"Core Software",improvedao:"DAO"},Du={newproject:"New Entrants",newprojectoutreach:"New Outreach",coretech:"Core Tech",general:"General"};function Bu(t){let e;return{c(){e=x("View")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function Fu(t){let e,n,r,o,i,s,a,l,u,c,f,h,d,p,m,g=t[0].round+"",y=Du[t[0].proposalEarmark]+"",_=t[0].proposalFundingRequested+"";return p=new Ce({props:{class:"flex justify-center font-bold text-lg text-black-600 bg-white proposalButton",to:`/proposal/view/${t[0]._id}`,$$slots:{default:[Bu]},$$scope:{ctx:t}}}),{c(){e=k("div"),n=k("span"),r=x("Round "),o=x(g),i=E(),s=k("div"),a=k("span"),l=x(y),u=E(),c=k("span"),f=x("$"),h=x(_),d=E(),lt(p.$$.fragment),A(s,"class","proposalCardDescription svelte-e63o45"),A(e,"class","flex justify-between proposalCard svelte-e63o45")},m(t,g){b(t,e,g),v(e,n),v(n,r),v(n,o),v(e,i),v(e,s),v(s,a),v(a,l),v(s,u),v(s,c),v(c,f),v(c,h),v(e,d),ut(p,e,null),m=!0},p(t,[e]){(!m||1&e)&&g!==(g=t[0].round+"")&&M(o,g),(!m||1&e)&&y!==(y=Du[t[0].proposalEarmark]+"")&&M(l,y),(!m||1&e)&&_!==(_=t[0].proposalFundingRequested+"")&&M(h,_);const n={};1&e&&(n.to=`/proposal/view/${t[0]._id}`),2&e&&(n.$$scope={dirty:e,ctx:t}),p.$set(n)},i(t){m||(rt(p.$$.fragment,t),m=!0)},o(t){ot(p.$$.fragment,t),m=!1},d(t){t&&w(e),ct(p)}}}function Uu(t,e,n){let{proposal:r}=e;return t.$$set=t=>{"proposal"in t&&n(0,r=t.proposal)},[r]}class Hu extends ht{constructor(t){super(),ft(this,t,Uu,Fu,a,{proposal:0})}}function Yu(t,e,n){const r=t.slice();return r[1]=e[n],r}function zu(t){let e,n;return e=new Hu({props:{proposal:t[1]}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.proposal=t[1]),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Vu(t){let e,n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=zu(Yu(t,r,e));const i=t=>ot(o[t],1,1,(()=>{o[t]=null}));return{c(){e=k("div");for(let t=0;t<o.length;t+=1)o[t].c();A(e,"class","proposalsContainer svelte-ia6ckr")},m(t,r){b(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(1&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const i=Yu(t,r,s);o[s]?(o[s].p(i,n),rt(o[s],1)):(o[s]=zu(i),o[s].c(),rt(o[s],1),o[s].m(e,null))}for(et(),s=r.length;s<o.length;s+=1)i(s);nt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)rt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)ot(o[t]);n=!1},d(t){t&&w(e),_(o,t)}}}function Gu(t,e,n){let{proposals:r}=e;return t.$$set=t=>{"proposals"in t&&n(0,r=t.proposals)},[r]}class Wu extends ht{constructor(t){super(),ft(this,t,Gu,Vu,a,{proposals:0})}}function Ku(t){let e,n;return e=new hu({props:{title:t[0].projectName,description:t[0].projectDescription,descriptionBottom:!0,actions:[{text:"Update Project",onClick:t[3]}],$$slots:{default:[Zu]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.title=t[0].projectName),1&n&&(r.description=t[0].projectDescription),65&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Zu(t){let e,n,r,o,i,s,a,l,u,c,f,h,d=$u[t[0].projectCategory]+"",p=qu(t[0].createdAt).format("YYYY-MM-DD")+"";return{c(){e=k("div"),n=k("div"),r=k("span"),r.textContent="Category",o=E(),i=k("span"),s=x(d),a=E(),l=k("div"),u=k("span"),u.textContent="Creation date",c=E(),f=k("span"),h=x(p),A(r,"class","detailName font-bold svelte-1xiocsj"),A(i,"class","text-lg detailValue svelte-1xiocsj"),A(n,"class","col-start-4 col-span-2 ..."),A(u,"class","detailName font-bold svelte-1xiocsj"),A(f,"class","text-lg detailValue svelte-1xiocsj"),A(l,"class","col-start-7 col-span-2 ..."),A(e,"class","details bg-slate-200 py-5 px-5 svelte-1xiocsj")},m(t,d){b(t,e,d),v(e,n),v(n,r),v(n,o),v(n,i),v(i,s),v(e,a),v(e,l),v(l,u),v(l,c),v(l,f),v(f,h)},p(t,e){1&e&&d!==(d=$u[t[0].projectCategory]+"")&&M(s,d),1&e&&p!==(p=qu(t[0].createdAt).format("YYYY-MM-DD")+"")&&M(h,p)},d(t){t&&w(e)}}}function Ju(t){let e,n;return e=new Wu({props:{proposals:t[1]}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.proposals=t[1]),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Xu(t){let e,n,r=t[1]&&Ju(t);return{c(){r&&r.c(),e=O()},m(t,o){r&&r.m(t,o),b(t,e,o),n=!0},p(t,n){t[1]?r?(r.p(t,n),2&n&&rt(r,1)):(r=Ju(t),r.c(),rt(r,1),r.m(e.parentNode,e)):r&&(et(),ot(r,1,1,(()=>{r=null})),nt())},i(t){n||(rt(r),n=!0)},o(t){ot(r),n=!1},d(t){r&&r.d(t),t&&w(e)}}}function Qu(t){let e,n,r,o,i=t[0]&&Ku(t);return r=new hu({props:{title:"Proposals",description:"Create and manage proposals below in order to submit them to OceanDAO Seed Grants. You can only have 1 proposal per project, for each funding round.",actions:[{text:"Create Proposal",onClick:t[2]}],$$slots:{default:[Xu]},$$scope:{ctx:t}}}),{c(){e=k("div"),i&&i.c(),n=E(),lt(r.$$.fragment),A(e,"class","flex h-screen flex-col justify-center project-container svelte-1xiocsj")},m(t,s){b(t,e,s),i&&i.m(e,null),v(e,n),ut(r,e,null),o=!0},p(t,[o]){t[0]?i?(i.p(t,o),1&o&&rt(i,1)):(i=Ku(t),i.c(),rt(i,1),i.m(e,n)):i&&(et(),ot(i,1,1,(()=>{i=null})),nt());const s={};66&o&&(s.$$scope={dirty:o,ctx:t}),r.$set(s)},i(t){o||(rt(i),rt(r.$$.fragment,t),o=!0)},o(t){ot(i),ot(r.$$.fragment,t),o=!1},d(t){t&&w(e),i&&i.d(),ct(r)}}}function tc(t,e,n){let r,o,{projectId:i}=e;return async function(){let t=await fetch(`http://localhost:3000/app/getProjectInfo/${i}`);t=await t.json(),n(0,r=t.project),n(1,o=t.proposals),console.log(r,o)}(),t.$$set=t=>{"projectId"in t&&n(4,i=t.projectId)},[r,o,function(){location.href="/proposal/create/"+i},function(){location.href="/project/edit/"+i},i]}class ec extends ht{constructor(t){super(),ft(this,t,tc,Qu,a,{projectId:4})}}
/*!
    * sweetalert2 v9.7.2
    * Released under the MIT License.
    */var nc=en((function(t,e){t.exports=function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,n){return u=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&a(o,n.prototype),o},u.apply(null,arguments)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=h(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}var p="SweetAlert2:",m=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},g=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},y=function(t){return Object.keys(t).map((function(e){return t[e]}))},v=function(t){return Array.prototype.slice.call(t)},b=function(t){console.warn("".concat(p," ").concat(t))},w=function(t){console.error("".concat(p," ").concat(t))},_=[],k=function(t){-1===_.indexOf(t)&&(_.push(t),b(t))},x=function(t,e){k('"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'))},E=function(t){return"function"==typeof t?t():t},O=function(t){return t&&Promise.resolve(t)===t},N=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),A=function(e){return"object"===t(e)&&e.jquery},S=function(t){return t instanceof Element||A(t)},M=function(e){var n={};return"object"!==t(e[0])||S(e[0])?["title","html","icon"].forEach((function(r,o){var i=e[o];"string"==typeof i||S(i)?n[r]=i:void 0!==i&&w("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(i)))})):o(n,e[0]),n},P="swal2-",T=function(t){var e={};for(var n in t)e[t[n]]=P+t[n];return e},C=T(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),j=T(["success","warning","info","question","error"]),I=function(){return document.body.querySelector(".".concat(C.container))},R=function(t){var e=I();return e?e.querySelector(t):null},L=function(t){return R(".".concat(t))},q=function(){return L(C.popup)},$=function(){var t=q();return v(t.querySelectorAll(".".concat(C.icon)))},D=function(){var t=$().filter((function(t){return bt(t)}));return t.length?t[0]:null},B=function(){return L(C.title)},F=function(){return L(C.content)},U=function(){return L(C["html-container"])},H=function(){return L(C.image)},Y=function(){return L(C["progress-steps"])},z=function(){return L(C["validation-message"])},V=function(){return R(".".concat(C.actions," .").concat(C.confirm))},G=function(){return R(".".concat(C.actions," .").concat(C.cancel))},W=function(){return L(C.actions)},K=function(){return L(C.header)},Z=function(){return L(C.footer)},J=function(){return L(C["timer-progress-bar"])},X=function(){return L(C.close)},Q='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',tt=function(){var t=v(q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=v(q().querySelectorAll(Q)).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return m(t.concat(e)).filter((function(t){return bt(t)}))},et=function(){return!nt()&&!document.body.classList.contains(C["no-backdrop"])},nt=function(){return document.body.classList.contains(C["toast-shown"])},rt=function(){return q().hasAttribute("data-loading")},ot={previousBodyPadding:null},it=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},st=function(t,e){v(t.classList).forEach((function(n){-1===y(C).indexOf(n)&&-1===y(j).indexOf(n)&&-1===y(e.showClass).indexOf(n)&&t.classList.remove(n)}))},at=function(e,n,r){if(st(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return b("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));ht(e,n.customClass[r])}};function lt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return pt(t,C[e]);case"checkbox":return t.querySelector(".".concat(C.checkbox," input"));case"radio":return t.querySelector(".".concat(C.radio," input:checked"))||t.querySelector(".".concat(C.radio," input:first-child"));case"range":return t.querySelector(".".concat(C.range," input"));default:return pt(t,C.input)}}var ut,ct=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},ft=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},ht=function(t,e){ft(t,e,!0)},dt=function(t,e){ft(t,e,!1)},pt=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(it(t.childNodes[n],e))return t.childNodes[n]},mt=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.opacity="",t.style.display=e},yt=function(t){t.style.opacity="",t.style.display="none"},vt=function(t,e,n){e?gt(t,n):yt(t)},bt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},wt=function(t){return!!(t.scrollHeight>t.clientHeight)},_t=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},kt=function(t,e){if("function"==typeof t.contains)return t.contains(e)},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J();bt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},Et=function(){var t=J(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")},Ot=function(){return"undefined"==typeof window||"undefined"==typeof document},Nt='\n <div aria-labelledby="'.concat(C.title,'" aria-describedby="').concat(C.content,'" class="').concat(C.popup,'" tabindex="-1">\n   <div class="').concat(C.header,'">\n     <ul class="').concat(C["progress-steps"],'"></ul>\n     <div class="').concat(C.icon," ").concat(j.error,'"></div>\n     <div class="').concat(C.icon," ").concat(j.question,'"></div>\n     <div class="').concat(C.icon," ").concat(j.warning,'"></div>\n     <div class="').concat(C.icon," ").concat(j.info,'"></div>\n     <div class="').concat(C.icon," ").concat(j.success,'"></div>\n     <img class="').concat(C.image,'" />\n     <h2 class="').concat(C.title,'" id="').concat(C.title,'"></h2>\n     <button type="button" class="').concat(C.close,'"></button>\n   </div>\n   <div class="').concat(C.content,'">\n     <div id="').concat(C.content,'" class="').concat(C["html-container"],'"></div>\n     <input class="').concat(C.input,'" />\n     <input type="file" class="').concat(C.file,'" />\n     <div class="').concat(C.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(C.select,'"></select>\n     <div class="').concat(C.radio,'"></div>\n     <label for="').concat(C.checkbox,'" class="').concat(C.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(C.label,'"></span>\n     </label>\n     <textarea class="').concat(C.textarea,'"></textarea>\n     <div class="').concat(C["validation-message"],'" id="').concat(C["validation-message"],'"></div>\n   </div>\n   <div class="').concat(C.actions,'">\n     <button type="button" class="').concat(C.confirm,'">OK</button>\n     <button type="button" class="').concat(C.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(C.footer,'"></div>\n   <div class="').concat(C["timer-progress-bar"],'"></div>\n </div>\n').replace(/(^|\n)\s*/g,""),At=function(){var t=I();t&&(t.parentNode.removeChild(t),dt([document.documentElement,document.body],[C["no-backdrop"],C["toast-shown"],C["has-column"]]))},St=function(t){Ar.isVisible()&&ut!==t.target.value&&Ar.resetValidationMessage(),ut=t.target.value},Mt=function(){var t=F(),e=pt(t,C.input),n=pt(t,C.file),r=t.querySelector(".".concat(C.range," input")),o=t.querySelector(".".concat(C.range," output")),i=pt(t,C.select),s=t.querySelector(".".concat(C.checkbox," input")),a=pt(t,C.textarea);e.oninput=St,n.onchange=St,i.onchange=St,s.onchange=St,a.oninput=St,r.oninput=function(t){St(t),o.value=r.value},r.onchange=function(t){St(t),r.nextSibling.value=r.value}},Pt=function(t){return"string"==typeof t?document.querySelector(t):t},Tt=function(t){var e=q();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Ct=function(t){"rtl"===window.getComputedStyle(t).direction&&ht(I(),C.rtl)},jt=function(t){if(At(),Ot())w("SweetAlert2 requires document to initialize");else{var e=document.createElement("div");e.className=C.container,e.innerHTML=Nt;var n=Pt(t.target);n.appendChild(e),Tt(t),Ct(n),Mt()}},It=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?Rt(e,n):e&&(n.innerHTML=e)},Rt=function(t,e){t.jquery?Lt(e,t):e.innerHTML=t.toString()},Lt=function(t,e){if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},qt=function(){if(Ot())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}(),$t=function(){var t=document.createElement("div");t.className=C["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},Dt=function(t,e){var n=W(),r=V(),o=G();e.showConfirmButton||e.showCancelButton||yt(n),at(n,e,"actions"),Ft(r,"confirm",e),Ft(o,"cancel",e),e.buttonsStyling?Bt(r,o,e):(dt([r,o],C.styled),r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor="",o.style.backgroundColor=o.style.borderLeftColor=o.style.borderRightColor=""),e.reverseButtons&&r.parentNode.insertBefore(o,r)};function Bt(t,e,n){ht([t,e],C.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var r=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=r,t.style.borderRightColor=r}function Ft(t,e,n){vt(t,n["show".concat(g(e),"Button")],"inline-block"),t.innerHTML=n["".concat(e,"ButtonText")],t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=C[e],at(t,n,"".concat(e,"Button")),ht(t,n["".concat(e,"ButtonClass")])}function Ut(t,e){"string"==typeof e?t.style.background=e:e||ht([document.documentElement,document.body],C["no-backdrop"])}function Ht(t,e){e in C?ht(t,C[e]):(b('The "position" parameter is not valid, defaulting to "center"'),ht(t,C.center))}function Yt(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in C&&ht(t,C[n])}}var zt=function(t,e){var n=I();if(n){Ut(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&b('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),Ht(n,e.position),Yt(n,e.grow),at(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}},Vt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Gt=["input","file","range","select","radio","checkbox","textarea"],Wt=function(t,e){var n=F(),r=Vt.innerParams.get(t),o=!r||e.input!==r.input;Gt.forEach((function(t){var r=C[t],i=pt(n,r);Jt(t,e.inputAttributes),i.className=r,o&&yt(i)})),e.input&&(o&&Kt(e),Xt(e))},Kt=function(t){if(!ee[t.input])return w('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=te(t.input),n=ee[t.input](e,t);gt(n),setTimeout((function(){ct(n)}))},Zt=function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}},Jt=function(t,e){var n=lt(F(),t);if(n)for(var r in Zt(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])},Xt=function(t){var e=te(t.input);t.customClass&&ht(e,t.customClass.input)},Qt=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},te=function(t){var e=C[t]?C[t]:C.input;return pt(F(),e)},ee={};ee.text=ee.email=ee.password=ee.number=ee.tel=ee.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:O(n.inputValue)||b('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),Qt(e,n),e.type=n.input,e},ee.file=function(t,e){return Qt(t,e),t},ee.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,t},ee.select=function(t,e){if(t.innerHTML="",e.inputPlaceholder){var n=document.createElement("option");n.innerHTML=e.inputPlaceholder,n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},ee.radio=function(t){return t.innerHTML="",t},ee.checkbox=function(t,e){var n=lt(F(),"checkbox");return n.value=1,n.id=C.checkbox,n.checked=Boolean(e.inputValue),t.querySelector("span").innerHTML=e.inputPlaceholder,t},ee.textarea=function(t,e){if(t.value=e.inputValue,Qt(t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(q()).width),r=parseInt(window.getComputedStyle(q()).paddingLeft)+parseInt(window.getComputedStyle(q()).paddingRight);new MutationObserver((function(){var e=t.offsetWidth+r;q().style.width=e>n?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var ne=function(t,e){var n=F().querySelector("#".concat(C.content));e.html?(It(e.html,n),gt(n,"block")):e.text?(n.textContent=e.text,gt(n,"block")):yt(n),Wt(t,e),at(F(),e,"content")},re=function(t,e){var n=Z();vt(n,e.footer),e.footer&&It(e.footer,n),at(n,e,"footer")},oe=function(t,e){var n=X();n.innerHTML=e.closeButtonHtml,at(n,e,"closeButton"),vt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)},ie=function(t,e){var n=Vt.innerParams.get(t);if(n&&e.icon===n.icon&&D())at(D(),e,"icon");else if(se(),e.icon)if(-1!==Object.keys(j).indexOf(e.icon)){var r=R(".".concat(C.icon,".").concat(j[e.icon]));gt(r),le(r,e),ae(),at(r,e,"icon"),ht(r,e.showClass.icon)}else w('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))},se=function(){for(var t=$(),e=0;e<t.length;e++)yt(t[e])},ae=function(){for(var t=q(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},le=function(t,e){if(t.innerHTML="",e.iconHtml)t.innerHTML=ue(e.iconHtml);else if("success"===e.icon)t.innerHTML='\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ';else if("error"===e.icon)t.innerHTML='\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ';else{var n={question:"?",warning:"!",info:"i"};t.innerHTML=ue(n[e.icon])}},ue=function(t){return'<div class="'.concat(C["icon-content"],'">').concat(t,"</div>")},ce=function(t,e){var n=H();if(!e.imageUrl)return yt(n);gt(n),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),mt(n,"width",e.imageWidth),mt(n,"height",e.imageHeight),n.className=C.image,at(n,e,"image")},fe=[],he=function(t){var e=this;fe=t;var n=function(t,e){fe=[],t(e)},r=[];return new Promise((function(t){!function o(i,s){i<fe.length?(document.body.setAttribute("data-swal2-queue-step",i),e.fire(fe[i]).then((function(e){void 0!==e.value?(r.push(e.value),o(i+1)):n(t,{dismiss:e.dismiss})}))):n(t,{value:r})}(0)}))},de=function(){return I().getAttribute("data-queue-step")},pe=function(t,e){return e&&e<fe.length?fe.splice(e,0,t):fe.push(t)},me=function(t){void 0!==fe[t]&&fe.splice(t,1)},ge=function(t){var e=document.createElement("li");return ht(e,C["progress-step"]),e.innerHTML=t,e},ye=function(t){var e=document.createElement("li");return ht(e,C["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e},ve=function(t,e){var n=Y();if(!e.progressSteps||0===e.progressSteps.length)return yt(n);gt(n),n.innerHTML="";var r=parseInt(void 0===e.currentProgressStep?de():e.currentProgressStep);r>=e.progressSteps.length&&b("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,o){var i=ge(t);if(n.appendChild(i),o===r&&ht(i,C["active-progress-step"]),o!==e.progressSteps.length-1){var s=ye(t);n.appendChild(s)}}))},be=function(t,e){var n=B();vt(n,e.title||e.titleText),e.title&&It(e.title,n),e.titleText&&(n.innerText=e.titleText),at(n,e,"title")},we=function(t,e){var n=K();at(n,e,"header"),ve(t,e),ie(t,e),ce(t,e),be(t,e),oe(t,e)},_e=function(t,e){var n=q();mt(n,"width",e.width),mt(n,"padding",e.padding),e.background&&(n.style.background=e.background),ke(n,e)},ke=function(t,e){t.className="".concat(C.popup," ").concat(bt(t)?e.showClass.popup:""),e.toast?(ht([document.documentElement,document.body],C["toast-shown"]),ht(t,C.toast)):ht(t,C.modal),at(t,e,"popup"),"string"==typeof e.customClass&&ht(t,e.customClass),e.icon&&ht(t,C["icon-".concat(e.icon)])},xe=function(t,e){_e(t,e),zt(t,e),we(t,e),ne(t,e),Dt(t,e),re(t,e),"function"==typeof e.onRender&&e.onRender(q())},Ee=function(){return bt(q())},Oe=function(){return V()&&V().click()},Ne=function(){return G()&&G().click()};function Ae(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return u(t,n)}function Se(t){var n=function(n){function a(){return e(this,a),f(this,s(a).apply(this,arguments))}return i(a,n),r(a,[{key:"_main",value:function(e){return d(s(a.prototype),"_main",this).call(this,o({},t,e))}}]),a}(this);return n}var Me=function(){var t=q();t||Ar.fire(),t=q();var e=W(),n=V();gt(e),gt(n,"inline-block"),ht([t,e],C.loading),n.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Pe=100,Te={},Ce=function(){Te.previousActiveElement&&Te.previousActiveElement.focus?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus()},je=function(){return new Promise((function(t){var e=window.scrollX,n=window.scrollY;Te.restoreFocusTimeout=setTimeout((function(){Ce(),t()}),Pe),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}))},Ie=function(){return Te.timeout&&Te.timeout.getTimerLeft()},Re=function(){if(Te.timeout)return Et(),Te.timeout.stop()},Le=function(){if(Te.timeout){var t=Te.timeout.start();return xt(t),t}},qe=function(){var t=Te.timeout;return t&&(t.running?Re():Le())},$e=function(t){if(Te.timeout){var e=Te.timeout.increase(t);return xt(e,!0),e}},De=function(){return Te.timeout&&Te.timeout.isRunning()},Be={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Fe=["title","titleText","text","html","icon","customClass","allowOutsideClick","allowEscapeKey","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeight","imageAlt","progressSteps","currentProgressStep"],Ue={animation:'showClass" and "hideClass'},He=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Ye=function(t){return Object.prototype.hasOwnProperty.call(Be,t)},ze=function(t){return-1!==Fe.indexOf(t)},Ve=function(t){return Ue[t]},Ge=function(t){Ye(t)||b('Unknown parameter "'.concat(t,'"'))},We=function(t){-1!==He.indexOf(t)&&b('The parameter "'.concat(t,'" is incompatible with toasts'))},Ke=function(t){Ve(t)&&x(t,Ve(t))},Ze=function(t){for(var e in t)Ge(e),t.toast&&We(e),Ke(e)},Je=Object.freeze({isValidParameter:Ye,isUpdatableParameter:ze,isDeprecatedParameter:Ve,argsToParams:M,isVisible:Ee,clickConfirm:Oe,clickCancel:Ne,getContainer:I,getPopup:q,getTitle:B,getContent:F,getHtmlContainer:U,getImage:H,getIcon:D,getIcons:$,getCloseButton:X,getActions:W,getConfirmButton:V,getCancelButton:G,getHeader:K,getFooter:Z,getFocusableElements:tt,getValidationMessage:z,isLoading:rt,fire:Ae,mixin:Se,queue:he,getQueueStep:de,insertQueueStep:pe,deleteQueueStep:me,showLoading:Me,enableLoading:Me,getTimerLeft:Ie,stopTimer:Re,resumeTimer:Le,toggleTimer:qe,increaseTimer:$e,isTimerRunning:De});function Xe(){var t=Vt.innerParams.get(this);if(t){var e=Vt.domCache.get(this);t.showConfirmButton||(yt(e.confirmButton),t.showCancelButton||yt(e.actions)),dt([e.popup,e.actions],C.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}}function Qe(t){var e=Vt.innerParams.get(t||this),n=Vt.domCache.get(t||this);return n?lt(n.content,e.input):null}var tn=function(){null===ot.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ot.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ot.previousBodyPadding+$t(),"px"))},en=function(){null!==ot.previousBodyPadding&&(document.body.style.paddingRight="".concat(ot.previousBodyPadding,"px"),ot.previousBodyPadding=null)},nn=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!it(document.body,C.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ht(document.body,C.iosfix),rn()}},rn=function(){var t,e=I();e.ontouchstart=function(n){t=n.target===e||!wt(e)&&"INPUT"!==n.target.tagName},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}},on=function(){if(it(document.body,C.iosfix)){var t=parseInt(document.body.style.top,10);dt(document.body,C.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},sn=function(){return!!window.MSInputMethodContext&&!!document.documentMode},an=function(){var t=I(),e=q();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},ln=function(){"undefined"!=typeof window&&sn()&&(an(),window.addEventListener("resize",an))},un=function(){"undefined"!=typeof window&&sn()&&window.removeEventListener("resize",an)},cn=function(){v(document.body.children).forEach((function(t){t===I()||kt(t,I())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))},fn=function(){v(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},hn={swalPromiseResolve:new WeakMap};function dn(t,e,n,r){n?vn(t,r):(je().then((function(){return vn(t,r)})),Te.keydownTarget.removeEventListener("keydown",Te.keydownHandler,{capture:Te.keydownListenerCapture}),Te.keydownHandlerAdded=!1),e.parentNode&&e.parentNode.removeChild(e),et()&&(en(),on(),un(),fn()),pn()}function pn(){dt([document.documentElement,document.body],[C.shown,C["height-auto"],C["no-backdrop"],C["toast-shown"],C["toast-column"]])}function mn(t){var e=q();if(e){var n=Vt.innerParams.get(this);if(n&&!it(e,n.hideClass.popup)){var r=hn.swalPromiseResolve.get(this);dt(e,n.showClass.popup),ht(e,n.hideClass.popup);var o=I();dt(o,n.showClass.backdrop),ht(o,n.hideClass.backdrop),gn(this,e,n),r(t||{})}}}var gn=function(t,e,n){var r=I(),o=qt&&_t(e),i=n.onClose,s=n.onAfterClose;null!==i&&"function"==typeof i&&i(e),o?yn(t,e,r,s):dn(t,r,nt(),s)},yn=function(t,e,n,r){Te.swalCloseEventFinishedCallback=dn.bind(null,t,n,nt(),r),e.addEventListener(qt,(function(t){t.target===e&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback)}))},vn=function(t,e){setTimeout((function(){"function"==typeof e&&e(),t._destroy()}))};function bn(t,e,n){var r=Vt.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function wn(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}function _n(){bn(this,["confirmButton","cancelButton"],!1)}function kn(){bn(this,["confirmButton","cancelButton"],!0)}function xn(){return wn(this.getInput(),!1)}function En(){return wn(this.getInput(),!0)}function On(t){var e=Vt.domCache.get(this);e.validationMessage.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),gt(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",C["validation-message"]),ct(r),ht(r,C.inputerror))}function Nn(){var t=Vt.domCache.get(this);t.validationMessage&&yt(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),dt(e,C.inputerror))}function An(){return Vt.domCache.get(this).progressSteps}var Sn=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Mn={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Pn(t){t.inputValidator||Object.keys(Mn).forEach((function(e){t.input===e&&(t.inputValidator=Mn[e])}))}function Tn(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(b('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Cn(t){Pn(t),t.showLoaderOnConfirm&&!t.preConfirm&&b("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=E(t.animation),Tn(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),jt(t)}var jn=function(t){var e=I(),n=q();"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n),qn(e,n,t),Rn(e,n),et()&&Ln(e,t.scrollbarPadding),nt()||Te.previousActiveElement||(Te.previousActiveElement=document.activeElement),"function"==typeof t.onOpen&&setTimeout((function(){return t.onOpen(n)}))};function In(t){var e=q();if(t.target===e){var n=I();e.removeEventListener(qt,In),n.style.overflowY="auto"}}var Rn=function(t,e){qt&&_t(e)?(t.style.overflowY="hidden",e.addEventListener(qt,In)):t.style.overflowY="auto"},Ln=function(t,e){nn(),ln(),cn(),e&&tn(),setTimeout((function(){t.scrollTop=0}))},qn=function(t,e,n){ht(t,n.showClass.backdrop),gt(e),ht(e,n.showClass.popup),ht([document.documentElement,document.body],C.shown),n.heightAuto&&n.backdrop&&!n.toast&&ht([document.documentElement,document.body],C["height-auto"])},$n=function(t,e){"select"===e.input||"radio"===e.input?Hn(t,e):-1!==["text","email","number","tel","textarea"].indexOf(e.input)&&O(e.inputValue)&&Yn(t,e)},Dn=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Bn(n);case"radio":return Fn(n);case"file":return Un(n);default:return e.inputAutoTrim?n.value.trim():n.value}},Bn=function(t){return t.checked?1:0},Fn=function(t){return t.checked?t.value:null},Un=function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},Hn=function(e,n){var r=F(),o=function(t){return zn[n.input](r,Vn(t),n)};O(n.inputOptions)?(Me(),n.inputOptions.then((function(t){e.hideLoading(),o(t)}))):"object"===t(n.inputOptions)?o(n.inputOptions):w("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))},Yn=function(t,e){var n=t.getInput();yt(n),e.inputValue.then((function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),gt(n),n.focus(),t.hideLoading()})).catch((function(e){w("Error in inputValue promise: ".concat(e)),n.value="",gt(n),n.focus(),t.hideLoading()}))},zn={select:function(t,e,n){var r=pt(t,C.select);e.forEach((function(t){var e=t[0],o=t[1],i=document.createElement("option");i.value=e,i.innerHTML=o,n.inputValue.toString()===e.toString()&&(i.selected=!0),r.appendChild(i)})),r.focus()},radio:function(t,e,n){var r=pt(t,C.radio);e.forEach((function(t){var e=t[0],o=t[1],i=document.createElement("input"),s=document.createElement("label");i.type="radio",i.name=C.radio,i.value=e,n.inputValue.toString()===e.toString()&&(i.checked=!0);var a=document.createElement("span");a.innerHTML=o,a.className=C.label,s.appendChild(i),s.appendChild(a),r.appendChild(s)}));var o=r.querySelectorAll("input");o.length&&o[0].focus()}},Vn=function(t){var e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((function(t,n){e.push([n,t])})):Object.keys(t).forEach((function(n){e.push([n,t[n]])})),e},Gn=function(t,e){t.disableButtons(),e.input?Kn(t,e):Jn(t,e,!0)},Wn=function(t,e){t.disableButtons(),e(N.cancel)},Kn=function(t,e){var n=Dn(t,e);e.inputValidator?(t.disableInput(),Promise.resolve().then((function(){return e.inputValidator(n,e.validationMessage)})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):Jn(t,e,n)}))):t.getInput().checkValidity()?Jn(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},Zn=function(t,e){t.closePopup({value:e})},Jn=function(t,e,n){e.showLoaderOnConfirm&&Me(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return e.preConfirm(n,e.validationMessage)})).then((function(e){bt(z())||!1===e?t.hideLoading():Zn(t,void 0===e?n:e)}))):Zn(t,n)},Xn=function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return nr(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:q(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Qn=function(t,e,n){for(var r=tt(),o=0;o<r.length;o++)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();q().focus()},tr=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],er=["Escape","Esc"],nr=function(t,e,n){var r=Vt.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?rr(t,e,r):"Tab"===e.key?or(e,r):-1!==tr.indexOf(e.key)?ir():-1!==er.indexOf(e.key)&&sr(e,r,n)},rr=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Oe(),e.preventDefault()}},or=function(t,e){for(var n=t.target,r=tt(),o=-1,i=0;i<r.length;i++)if(n===r[i]){o=i;break}t.shiftKey?Qn(e,o,-1):Qn(e,o,1),t.stopPropagation(),t.preventDefault()},ir=function(){var t=V(),e=G();document.activeElement===t&&bt(e)?e.focus():document.activeElement===e&&bt(t)&&t.focus()},sr=function(t,e,n){E(e.allowEscapeKey)&&(t.preventDefault(),n(N.esc))},ar=function(t,e,n){Vt.innerParams.get(t).toast?lr(t,e,n):(cr(e),fr(e),hr(t,e,n))},lr=function(t,e,n){e.popup.onclick=function(){var e=Vt.innerParams.get(t);e.showConfirmButton||e.showCancelButton||e.showCloseButton||e.input||n(N.close)}},ur=!1,cr=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(ur=!0)}}},fr=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(ur=!0)}}},hr=function(t,e,n){e.container.onclick=function(r){var o=Vt.innerParams.get(t);ur?ur=!1:r.target===e.container&&E(o.allowOutsideClick)&&n(N.backdrop)}};function dr(t){Ze(t),Te.currentInstance&&Te.currentInstance._destroy(),Te.currentInstance=this;var e=pr(t);Cn(e),Object.freeze(e),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);var n=gr(this);return xe(this,e),Vt.innerParams.set(this,e),mr(this,n,e)}var pr=function(t){var e=o({},Be.showClass,t.showClass),n=o({},Be.hideClass,t.hideClass),r=o({},Be,t);return r.showClass=e,r.hideClass=n,!1===t.animation&&(r.showClass={popup:"",backdrop:"swal2-backdrop-show swal2-noanimation"},r.hideClass={}),r},mr=function(t,e,n){return new Promise((function(r){var o=function(e){t.closePopup({dismiss:e})};hn.swalPromiseResolve.set(t,r),yr(Te,n,o),e.confirmButton.onclick=function(){return Gn(t,n)},e.cancelButton.onclick=function(){return Wn(t,o)},e.closeButton.onclick=function(){return o(N.close)},ar(t,e,o),Xn(t,Te,n,o),n.toast&&(n.input||n.footer||n.showCloseButton)?ht(document.body,C["toast-column"]):dt(document.body,C["toast-column"]),$n(t,n),jn(n),vr(e,n),e.container.scrollTop=0}))},gr=function(t){var e={popup:q(),container:I(),content:F(),actions:W(),confirmButton:V(),cancelButton:G(),closeButton:X(),validationMessage:z(),progressSteps:Y()};return Vt.domCache.set(t,e),e},yr=function(t,e,n){var r=J();yt(r),e.timer&&(t.timeout=new Sn((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(gt(r),setTimeout((function(){xt(e.timer)}))))},vr=function(t,e){if(!e.toast)return E(e.allowEnterKey)?e.focusCancel&&bt(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&bt(t.confirmButton)?t.confirmButton.focus():void Qn(e,-1,1):br()},br=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};function wr(t){var e=q(),n=Vt.innerParams.get(this);if(!e||it(e,n.hideClass.popup))return b("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach((function(e){Ar.isUpdatableParameter(e)?r[e]=t[e]:b('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var i=o({},n,r);xe(this,i),Vt.innerParams.set(this,i),Object.defineProperties(this,{params:{value:o({},this.params,t),writable:!1,enumerable:!0}})}function _r(){var t=Vt.domCache.get(this),e=Vt.innerParams.get(this);e&&(t.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),Te.deferDisposalTimer&&(clearTimeout(Te.deferDisposalTimer),delete Te.deferDisposalTimer),"function"==typeof e.onDestroy&&e.onDestroy(),xr(this))}var kr,xr=function(t){delete t.params,delete Te.keydownHandler,delete Te.keydownTarget,Er(Vt),Er(hn)},Er=function(t){for(var e in t)t[e]=new WeakMap},Or=Object.freeze({hideLoading:Xe,disableLoading:Xe,getInput:Qe,close:mn,closePopup:mn,closeModal:mn,closeToast:mn,enableButtons:_n,disableButtons:kn,enableInput:xn,disableInput:En,showValidationMessage:On,resetValidationMessage:Nn,getProgressSteps:An,_main:dr,update:wr,_destroy:_r});function Nr(){if("undefined"!=typeof window){"undefined"==typeof Promise&&w("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),kr=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);Vt.promise.set(this,o)}}Nr.prototype.then=function(t){return Vt.promise.get(this).then(t)},Nr.prototype.finally=function(t){return Vt.promise.get(this).finally(t)},o(Nr.prototype,Or),o(Nr,Je),Object.keys(Or).forEach((function(t){Nr[t]=function(){var e;if(kr)return(e=kr)[t].apply(e,arguments)}})),Nr.DismissReason=N,Nr.version="9.7.2";var Ar=Nr;return Ar.default=Ar,Ar}(),void 0!==Xe&&Xe.Sweetalert2&&(Xe.swal=Xe.sweetAlert=Xe.Swal=Xe.SweetAlert=Xe.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.swal2-popup.swal2-toast .swal2-title{-webkit-box-flex:1;flex-grow:1;-webkit-box-pack:start;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{-webkit-box-pack:start;justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 1.5em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:-webkit-box;display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow-x:hidden;-webkit-transition:background-color .1s;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-center{-webkit-box-align:center;align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{-webkit-box-align:center;align-items:center;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-self:stretch;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-column{-webkit-box-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{-webkit-box-align:center;align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:-webkit-box;display:flex;z-index:1;flex-wrap:wrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.1)),to(rgba(0,0,0,.1)));background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.2)),to(rgba(0,0,0,.2)));background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{-webkit-box-pack:center;justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar{position:absolute;bottom:0;left:0;width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;-webkit-box-pack:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;-webkit-transition:color .1s ease-out;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{-webkit-transform:none;transform:none;background:0 0;color:#f27474}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;-webkit-box-pack:center;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;-webkit-transition:border-color .3s,box-shadow .3s;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;-webkit-box-pack:center;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;-webkit-box-flex:1;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{-webkit-box-align:center;align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{-webkit-transition:none;transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{-webkit-box-flex:1;flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{-webkit-box-pack:center;justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')}));function rc(t,e,n){const r=t.slice();return r[1]=e[n],r}function oc(t){let e,n,r,o,i;return{c(){e=k("div"),n=k("span"),n.textContent="Deliverables",r=E(),o=k("p"),i=E(),A(n,"class","svelte-jht8hh"),A(o,"class","svelte-jht8hh"),A(e,"class","deliverable svelte-jht8hh")},m(s,a){b(s,e,a),v(e,n),v(e,r),v(e,o),o.innerHTML=t[0],v(e,i)},p(t,e){1&e&&(o.innerHTML=t[0])},d(t){t&&w(e)}}}function ic(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=oc(rc(t,r,e));return{c(){n=k("div");for(let t=0;t<o.length;t+=1)o[t].c();A(n,"class","deliverablesContainer svelte-jht8hh")},m(t,e){b(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(1&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=rc(t,r,i);o[i]?o[i].p(s,e):(o[i]=oc(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(t){t&&w(n),_(o,t)}}}function sc(t,e,n){let{deliverables:r}=e;return t.$$set=t=>{"deliverables"in t&&n(0,r=t.deliverables)},[r]}class ac extends ht{constructor(t){super(),ft(this,t,sc,ic,a,{deliverables:0})}}function lc(t){let e,n,r,o;return e=new hu({props:{title:t[0].proposalTitle,description:t[0].proposalDescription,descriptionBottom:!0,actions:[{text:"Withdraw Proposal",onClick:t[2]},{text:"Update Proposal",onClick:t[3]}],$$slots:{default:[uc]},$$scope:{ctx:t}}}),r=new hu({props:{title:"Complete Proposal",description:t[1].proposalDescription,actions:[{text:"Submit Deliverables",onClick:t[4]}],$$slots:{default:[cc]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment),n=E(),lt(r.$$.fragment)},m(t,i){ut(e,t,i),b(t,n,i),ut(r,t,i),o=!0},p(t,n){const o={};1&n&&(o.title=t[0].proposalTitle),1&n&&(o.description=t[0].proposalDescription),513&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};513&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(rt(e.$$.fragment,t),rt(r.$$.fragment,t),o=!0)},o(t){ot(e.$$.fragment,t),ot(r.$$.fragment,t),o=!1},d(t){ct(e,t),t&&w(n),ct(r,t)}}}function uc(t){let e,n,r,o,i,s,a,l,u,c,f,h,d=Du[t[0].proposalEarmark]+"",p=qu(t[0].createdAt).format("YYYY-MM-DD")+"";return{c(){e=k("div"),n=k("div"),r=k("span"),r.textContent="Earmarks",o=E(),i=k("span"),s=x(d),a=E(),l=k("div"),u=k("span"),u.textContent="Creation date",c=E(),f=k("span"),h=x(p),A(r,"class","detailName font-bold svelte-1dzsa12"),A(i,"class","text-lg detailValue svelte-1dzsa12"),A(n,"class","col-start-4 col-span-2 ..."),A(u,"class","detailName font-bold svelte-1dzsa12"),A(f,"class","text-lg detailValue svelte-1dzsa12"),A(l,"class","col-start-7 col-span-2 ..."),A(e,"class","details bg-slate-200 py-5 px-5 svelte-1dzsa12")},m(t,d){b(t,e,d),v(e,n),v(n,r),v(n,o),v(n,i),v(i,s),v(e,a),v(e,l),v(l,u),v(l,c),v(l,f),v(f,h)},p(t,e){1&e&&d!==(d=Du[t[0].proposalEarmark]+"")&&M(s,d),1&e&&p!==(p=qu(t[0].createdAt).format("YYYY-MM-DD")+"")&&M(h,p)},d(t){t&&w(e)}}}function cc(t){let e,n;return e=new ac({props:{deliverables:[t[0].grantDeliverables]}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.deliverables=[t[0].grantDeliverables]),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function fc(t){let e,n,r=t[0]&&lc(t);return{c(){e=k("div"),r&&r.c(),A(e,"class","flex h-screen flex-col justify-center proposal-container svelte-1dzsa12")},m(t,o){b(t,e,o),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&rt(r,1)):(r=lc(t),r.c(),rt(r,1),r.m(e,null)):r&&(et(),ot(r,1,1,(()=>{r=null})),nt())},i(t){n||(rt(r),n=!0)},o(t){ot(r),n=!1},d(t){t&&w(e),r&&r.d()}}}function hc(t,e,n){let r,o;c(t,yl,(t=>n(6,r=t))),c(t,ml,(t=>n(7,o=t)));let i,{proposalId:s}=e,a={proposalDescription:"Use the form below to submit your final deliverables and complete your proposal. This enables your project to remain in a good state, and to apply for more grants."};return async function(){let t=await fetch(`${Ze}/app/proposalInfo/${s}`);n(0,i=await t.json()),console.log(i),console.log(i.proposalEarmark),console.log(Du)}(),t.$$set=t=>{"proposalId"in t&&n(5,s=t.proposalId)},[i,a,async function(){nc.fire({title:"Are you sure?",text:"You will not be able to bla bla bla",icon:"warning",showCancelButton:!0,confirmButtonText:"Proceed!",cancelButtonText:"Cancel"}).then((async t=>{if(t.value){const t=o,e=await wl(t),n=JSON.stringify({proposalId:s,nonce:e,withdraw:!0}),i=await Je(n,r),a=await fetch(`${Ze}/app/proposal/withdraw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,signer:t,signedMessage:i})});!0===(await a.json()).success?nc.fire("Success!","You've successfully withdrawn your proposal","success"):nc.fire("Error!","Something went wrong","error")}}))},function(){location.href="/proposal/update/"+s},function(){location.href="/proposal/deliver/"+s},s]}class dc extends ht{constructor(t){super(),ft(this,t,hc,fc,a,{proposalId:5})}}function pc(t){let e,n,r,o,i;function s(e){t[4](e)}let a={placeHolder:"Description",title:"Deliverables"};return void 0!==t[1]&&(a.value=t[1]),e=new Ue({props:a}),F.push((()=>at(e,"value",s))),o=new Yl({props:{onclick:t[5],text:"Submit"}}),{c(){lt(e.$$.fragment),r=E(),lt(o.$$.fragment)},m(t,n){ut(e,t,n),b(t,r,n),ut(o,t,n),i=!0},p(t,r){const o={};!n&&2&r&&(n=!0,o.value=t[1],W((()=>n=!1))),e.$set(o)},i(t){i||(rt(e.$$.fragment,t),rt(o.$$.fragment,t),i=!0)},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),i=!1},d(t){ct(e,t),t&&w(r),ct(o,t)}}}function mc(t){let n;return{c(){n=k("div"),n.innerHTML='<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>',A(n,"class","text-center")},m(t,e){b(t,n,e)},p:e,i:e,o:e,d(t){t&&w(n)}}}function gc(t){let e,n,r,o,i;const s=[mc,pc],a=[];function l(t,e){return 0==t[0]?0:1}return r=l(t),o=a[r]=s[r](t),{c(){e=k("div"),n=k("div"),o.c(),A(n,"class","w-full max-w-3xl m-auto"),A(e,"class","flex h-screen mt-10 justify-center w-full")},m(t,o){b(t,e,o),v(e,n),a[r].m(n,null),i=!0},p(t,[e]){let i=r;r=l(t),r===i?a[r].p(t,e):(et(),ot(a[i],1,1,(()=>{a[i]=null})),nt(),o=a[r],o?o.p(t,e):(o=a[r]=s[r](t),o.c()),rt(o,1),o.m(n,null))},i(t){i||(rt(o),i=!0)},o(t){ot(o),i=!1},d(t){t&&w(e),a[r].d()}}}function yc(t,e,n){let r,o,i;async function s(){nc.fire({title:"Are you sure?",text:"You will not be able to bla bla bla",icon:"warning",showCancelButton:!0,confirmButtonText:"Proceed!",cancelButtonText:"Cancel"}).then((async t=>{if(t.value&&r){const t=i,e=await wl(t),n=JSON.stringify({proposalId:a,description:r,nonce:e}),s=await Je(n,o),l=await fetch(`${Ze}/app/proposal/deliver`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,signer:t,signedMessage:s})});!0===(await l.json()).success?nc.fire("Success!","Your submission has been sent, it will be visible once it is confirmed by one of the moderators","success").then((()=>{window.location.href="/"})):nc.fire("Error!","Something went wrong","error")}}))}c(t,yl,(t=>n(7,o=t))),c(t,ml,(t=>n(8,i=t)));let{proposalId:a}=e,l=!1;fetch(`${Ze}/app/proposalInfo/${a}`).then((t=>t.json())).then((t=>{console.log(t),n(1,r=t.grantDeliverables),n(0,l=!0)}));return t.$$set=t=>{"proposalId"in t&&n(3,a=t.proposalId)},n(1,r=""),[l,r,s,a,function(t){r=t,n(1,r)},()=>s()]}class vc extends ht{constructor(t){super(),ft(this,t,yc,gc,a,{proposalId:3})}}function bc(t){let n,r;return n=new Gl({props:{connectWallet:bl}}),{c(){lt(n.$$.fragment)},m(t,e){ut(n,t,e),r=!0},p:e,i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){ct(n,t)}}}function wc(t){let n,r;return n=new vu({}),{c(){lt(n.$$.fragment)},m(t,e){ut(n,t,e),r=!0},p:e,i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){ct(n,t)}}}function _c(t){let e,n,r,o;const i=[wc,bc],s=[];function a(t,e){return!0===t[1]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),b(t,r,n),o=!0},p(t,o){let l=e;e=a(t),e===l?s[e].p(t,o):(et(),ot(s[l],1,1,(()=>{s[l]=null})),nt(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),rt(n,1),n.m(r.parentNode,r))},i(t){o||(rt(n),o=!0)},o(t){ot(n),o=!1},d(t){s[e].d(t),t&&w(r)}}}function kc(t){let e,n;return e=new vu({}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function xc(t){let e,n;return e=new ec({props:{projectId:t[2].projectId}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.projectId=t[2].projectId),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Ec(t){let e,n;return e=new Rl({props:{projectId:t[2].projectId}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.projectId=t[2].projectId),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Oc(t){let e,n;return e=new Lu({props:{projectId:t[2].projectId}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.projectId=t[2].projectId),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Nc(t){let e,n;return e=new Rl({props:{proposalId:t[2].proposalId}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.proposalId=t[2].proposalId),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Ac(t){let e,n;return e=new dc({props:{proposalId:t[2].proposalId}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.proposalId=t[2].proposalId),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Sc(t){let e,n;return e=new vc({props:{proposalId:t[2].proposalId}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.proposalId=t[2].proposalId),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Mc(t){let e,n;return e=new Lu({}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Pc(t){let e,n,r,o,i,s,a,l,u,c,f,h,d,p,m,g,y,_,x,O,N,A;return n=new Fl({props:{userAddress:t[0]}}),i=new Me({props:{path:"/",$$slots:{default:[_c]},$$scope:{ctx:t}}}),a=new Me({props:{path:"home",$$slots:{default:[kc]},$$scope:{ctx:t}}}),u=new Me({props:{path:"project/:projectId",$$slots:{default:[xc,({params:t})=>({2:t}),({params:t})=>t?4:0]},$$scope:{ctx:t}}}),f=new Me({props:{path:"proposal/create/:projectId",$$slots:{default:[Ec,({params:t})=>({2:t}),({params:t})=>t?4:0]},$$scope:{ctx:t}}}),d=new Me({props:{path:"project/edit/:projectId",$$slots:{default:[Oc,({params:t})=>({2:t}),({params:t})=>t?4:0]},$$scope:{ctx:t}}}),m=new Me({props:{path:"proposal/update/:proposalId",$$slots:{default:[Nc,({params:t})=>({2:t}),({params:t})=>t?4:0]},$$scope:{ctx:t}}}),y=new Me({props:{path:"proposal/view/:proposalId",$$slots:{default:[Ac,({params:t})=>({2:t}),({params:t})=>t?4:0]},$$scope:{ctx:t}}}),x=new Me({props:{path:"proposal/deliver/:proposalId",$$slots:{default:[Sc,({params:t})=>({2:t}),({params:t})=>t?4:0]},$$scope:{ctx:t}}}),N=new Me({props:{path:"newProject",$$slots:{default:[Mc]},$$scope:{ctx:t}}}),{c(){e=k("header"),lt(n.$$.fragment),r=E(),o=k("main"),lt(i.$$.fragment),s=E(),lt(a.$$.fragment),l=E(),lt(u.$$.fragment),c=E(),lt(f.$$.fragment),h=E(),lt(d.$$.fragment),p=E(),lt(m.$$.fragment),g=E(),lt(y.$$.fragment),_=E(),lt(x.$$.fragment),O=E(),lt(N.$$.fragment)},m(t,w){b(t,e,w),ut(n,e,null),b(t,r,w),b(t,o,w),ut(i,o,null),v(o,s),ut(a,o,null),v(o,l),ut(u,o,null),v(o,c),ut(f,o,null),v(o,h),ut(d,o,null),v(o,p),ut(m,o,null),v(o,g),ut(y,o,null),v(o,_),ut(x,o,null),v(o,O),ut(N,o,null),A=!0},p(t,e){const r={};1&e&&(r.userAddress=t[0]),n.$set(r);const o={};10&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const s={};8&e&&(s.$$scope={dirty:e,ctx:t}),a.$set(s);const l={};12&e&&(l.$$scope={dirty:e,ctx:t}),u.$set(l);const c={};12&e&&(c.$$scope={dirty:e,ctx:t}),f.$set(c);const h={};12&e&&(h.$$scope={dirty:e,ctx:t}),d.$set(h);const p={};12&e&&(p.$$scope={dirty:e,ctx:t}),m.$set(p);const g={};12&e&&(g.$$scope={dirty:e,ctx:t}),y.$set(g);const v={};12&e&&(v.$$scope={dirty:e,ctx:t}),x.$set(v);const b={};8&e&&(b.$$scope={dirty:e,ctx:t}),N.$set(b)},i(t){A||(rt(n.$$.fragment,t),rt(i.$$.fragment,t),rt(a.$$.fragment,t),rt(u.$$.fragment,t),rt(f.$$.fragment,t),rt(d.$$.fragment,t),rt(m.$$.fragment,t),rt(y.$$.fragment,t),rt(x.$$.fragment,t),rt(N.$$.fragment,t),A=!0)},o(t){ot(n.$$.fragment,t),ot(i.$$.fragment,t),ot(a.$$.fragment,t),ot(u.$$.fragment,t),ot(f.$$.fragment,t),ot(d.$$.fragment,t),ot(m.$$.fragment,t),ot(y.$$.fragment,t),ot(x.$$.fragment,t),ot(N.$$.fragment,t),A=!1},d(t){t&&w(e),ct(n),t&&w(r),t&&w(o),ct(i),ct(a),ct(u),ct(f),ct(d),ct(m),ct(y),ct(x),ct(N)}}}function Tc(t){let e,n;return e=new pe({props:{$$slots:{default:[Pc]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){ut(e,t,r),n=!0},p(t,[n]){const r={};11&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Cc(t,e,n){let r,o;return c(t,ml,(t=>n(0,r=t))),c(t,pl,(t=>n(1,o=t))),o&&""===r&&bl(),[r,o]}const jc=new class extends ht{constructor(t){super(),ft(this,t,Cc,Tc,a,{})}}({target:document.body,props:{name:"world"}});
/*!
     * Quill Editor v1.3.7
     * https://quilljs.com/
     * Copyright (c) 2014, Jason Chen
     * Copyright (c) 2013, salesforce.com
     */var Ic=en((function(t,e){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),s=n(45),a=n(46),l=n(47),u=n(48),c=n(49),f=n(12),h=n(32),d=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:c.default,Attributor:{Attribute:f.default,Class:h.default,Style:d.default,Store:p.default}};e.default=g},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=i;var s,a={},l={},u={},c={};function f(t,e){var n;if(void 0===e&&(e=s.ANY),"string"==typeof t)n=c[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof t)t&s.LEVEL&s.BLOCK?n=c.block:t&s.LEVEL&s.INLINE&&(n=c.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=l[r[o]])break;n=n||u[t.tagName]}return null==n?null:e&s.LEVEL&n.scope&&e&s.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(s=e.Scope||(e.Scope={})),e.create=function(t,e){var n=f(t);if(null==n)throw new i("Unable to create "+t+" blot");var r=n,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e);return new r(o,e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=f,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");if(c[r.blotName||r.attrName]=r,"string"==typeof r.keyName)a[r.keyName]=r;else if(null!=r.className&&(l[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var o=Array.isArray(r.tagName)?r.tagName:[r.tagName];o.forEach((function(t){null!=u[t]&&null!=r.className||(u[t]=r)}))}return r}},function(t,e,n){var r=n(51),o=n(11),i=n(3),s=n(20),a=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+s.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+s.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=s.iterator(this.ops),o=0;o<e&&r.hasNext();){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=s.length(i)}return new l(n)},l.prototype.compose=function(t){var e=s.iterator(this.ops),n=s.iterator(t.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var a=i.retain;"insert"===e.peekType()&&e.peekLength()<=a;)a-=e.peekLength(),r.push(e.next());i.retain-a>0&&n.next(i.retain-a)}for(var u=new l(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===e.peekType())u.push(e.next());else{var c=Math.min(e.peekLength(),n.peekLength()),f=e.next(c),h=n.next(c);if("number"==typeof h.retain){var d={};"number"==typeof f.retain?d.retain=c:d.insert=f.insert;var p=s.attributes.compose(f.attributes,h.attributes,"number"==typeof f.retain);if(p&&(d.attributes=p),u.push(d),!n.hasNext()&&o(u.ops[u.ops.length-1],d)){var m=new l(e.rest());return u.concat(m).chop()}}else"number"==typeof h.delete&&"number"==typeof f.retain&&u.push(h)}return u.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:a;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new l,u=r(n[0],n[1],e),c=s.iterator(this.ops),f=s.iterator(t.ops);return u.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),e);var a=c.next(n),l=f.next(n);o(a.insert,l.insert)?i.retain(n,s.attributes.diff(a.attributes,l.attributes)):i.push(l).delete(n)}e-=n}})),i.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var n=s.iterator(this.ops),r=new l,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),a=s.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(e,a)-a:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new l}}r.length()>0&&t(r,{},o)},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=s.iterator(this.ops),r=s.iterator(t.ops),o=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),a=n.next(i),u=r.next(i);if(a.delete)continue;u.delete?o.push(u):o.retain(i,s.attributes.transform(a.attributes,u.attributes,e))}else o.retain(s.length(n.next()));return o.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var n=s.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t},t.exports=l},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},a=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,o=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},l=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,c,f=arguments[0],h=1,d=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},h=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});h<d;++h)if(null!=(e=arguments[h]))for(n in e)r=u(f,n),f!==(o=u(e,n))&&(p&&o&&(a(o)||(i=s(o)))?(i?(i=!1,c=r&&s(r)?r:[]):c=r&&a(r)?r:{},l(f,{name:n,newValue:t(p,c,o)})):void 0!==o&&l(f,{name:n,newValue:o}));return f}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=f(n(3)),s=f(n(2)),a=f(n(0)),l=f(n(16)),u=f(n(6)),c=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return h(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),r(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=a.default.query(t,a.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"==typeof n&&n.endsWith("\n")){var i=a.default.create(g.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}(a.default.Embed);m.scope=a.default.Scope.BLOCK_BLOT;var g=function(t){function e(t){h(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return p(e,t),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),y(e))}),new s.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,i){n<=0||(a.default.query(r,a.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,i):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,i),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var i=n.split("\n"),s=i.shift();s.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;i.reduce((function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length}),t+s.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},i}}]),e}(a.default.Block);function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,i.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:y(t.parent,e))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[u.default,a.default.Embed,c.default],e.bubbleFormats=y,e.BlockEmbed=m,e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var s=g(n(2)),a=g(n(14)),l=g(n(8)),u=g(n(9)),c=g(n(0)),f=n(15),h=g(f),d=g(n(3)),p=g(n(10)),m=g(n(34));function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=(0,p.default)("quill"),w=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,t),this.options=_(e,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t){t===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;k.call(n,(function(){return n.editor.update(null,e,o)}),t)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),p.default.level(t)}},{key:"find",value:function(t){return t.__quill||c.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&b.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||b.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?c.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),i(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=x(t,e,n),s=o(i,4);return t=s[0],e=s[1],n=s[3],k.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return k.call(this,(function(){var r=n.getSelection(!0),o=new s.default;if(null==r)return o;if(c.default.query(t,c.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,y({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,y({},t,e))}return n.setSelection(r,l.default.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,i){var s,a=this,l=x(t,e,n,r,i),u=o(l,4);return t=u[0],e=u[1],s=u[2],i=u[3],k.call(this,(function(){return a.editor.formatLine(t,e,s)}),i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var s,a=this,l=x(t,e,n,r,i),u=o(l,4);return t=u[0],e=u[1],s=u[2],i=u[3],k.call(this,(function(){return a.editor.formatText(t,e,s)}),i,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return k.call(this,(function(){return o.editor.insertEmbed(e,n,r)}),i,e)}},{key:"insertText",value:function(t,e,n,r,i){var s,a=this,l=x(t,0,n,r,i),u=o(l,4);return t=u[0],s=u[2],i=u[3],k.call(this,(function(){return a.editor.insertText(t,e,s)}),i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=x(t,e,n),s=o(i,4);return t=s[0],e=s[1],n=s[3],k.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return k.call(this,(function(){t=new s.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),r.compose(o)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=x(e,n,r),s=o(i,4);e=s[0],n=s[1],r=s[3],this.selection.setRange(new f.Range(e,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new s.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return k.call(this,(function(){return t=new s.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function _(t,e){if((e=(0,d.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==w.DEFAULTS.theme){if(e.theme=w.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=m.default;var n=(0,d.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=w.import("modules/"+e);return null==n?b.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,d.default)(!0,{},w.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function k(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===l.default.sources.USER)return new s.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,a=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=E(o,a,e):0!==r&&(o=E(o,n,r,e)),this.setSelection(o,l.default.sources.SILENT)),a.length()>0){var u,c,f=[l.default.events.TEXT_CHANGE,a,i,e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(f)),e!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,f)}return a}function x(t,e,n,o,i){var s={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=o,o=n,n=e,e=0),"object"===(void 0===n?"undefined":r(n))?(s=n,i=o):"string"==typeof n&&(null!=o?s[n]=o:i=n),[t,e,s,i=i||l.default.sources.API]}function E(t,e,n,r){if(null==t)return null;var i=void 0,a=void 0;if(e instanceof s.default){var u=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==l.default.sources.USER)})),c=o(u,2);i=c[0],a=c[1]}else{var h=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===l.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),d=o(h,2);i=d[0],a=d[1]}return new f.Range(i,a-i)}w.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},w.events=l.default.events,w.sources=l.default.sources,w.version="1.3.7",w.imports={delta:s.default,parchment:c.default,"core/module":u.default,"core/theme":m.default},e.expandConfig=_,e.overload=x,e.default=w},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=a(n(7)),s=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"formatAt",value:function(t,n,r,i){if(e.compare(this.statics.blotName,r)<0&&s.default.query(r,s.default.Scope.BLOT)){var a=this.isolate(t,n);i&&a.wrap(r,i)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}(s.default.Inline);c.allowedChildren=[c,s.default.Embed,i.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return i(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default.Text);e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=s(n(54));function s(t){return t&&t.__esModule?t:{default:t}}var a=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",a.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"emit",value:function(){a.log.apply(a,arguments),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},e.default=l},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.quill=e,this.options=n};o.DEFAULTS={},e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];(e=console)[t].apply(e,i)}}function s(t){return r.reduce((function(e,n){return e[n]=i.bind(console,n,t),e}),{})}i.level=s.level=function(t){o=t},e.default=s},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),s=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,c;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),s(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var f=o(t),h=o(e)}catch(t){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),u=f.length-1;u>=0;u--)if(f[u]!=h[u])return!1;for(u=f.length-1;u>=0;u--)if(c=f[u],!s(t[c],e[c],n))return!1;return typeof t==typeof e}(t,e,n))};function a(t){return null==t}function l(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=f(n(2)),a=f(n(0)),l=f(n(4)),u=f(n(6)),c=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return h(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),e}(u.default);m.blotName="code",m.tagName="CODE";var g=function(t){function e(){return h(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new s.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(c.default,this.length()-1),s=r(o,1)[0];null!=s&&s.deleteAt(s.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,o){if(0!==n&&null!=a.default.query(r,a.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var s=this.newlineIndex(t,!0)+1,l=i-s+1,u=this.isolate(s,l),c=u.next;u.format(r,o),c instanceof e&&c.formatAt(0,t-s+n-l,r,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(c.default,t),i=r(o,2),s=i[0],a=i[1];s.insertAt(a,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=a.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof a.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",e.Code=m,e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=y(n(2)),a=y(n(20)),l=y(n(0)),u=y(n(13)),c=y(n(24)),f=n(4),h=y(f),d=y(n(16)),p=y(n(21)),m=y(n(11)),g=y(n(3));function y(t){return t&&t.__esModule?t:{default:t}}var v=/^[ -~]*$/,b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,p.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,p.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)}),new s.default)}(t),t.reduce((function(t,s){var u=s.retain||s.delete||s.insert.length||1,c=s.attributes||{};if(null!=s.insert){if("string"==typeof s.insert){var d=s.insert;d.endsWith("\n")&&n&&(n=!1,d=d.slice(0,-1)),t>=i&&!d.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,d);var p=e.scroll.line(t),m=o(p,2),y=m[0],v=m[1],b=(0,g.default)({},(0,f.bubbleFormats)(y));if(y instanceof h.default){var w=y.descendant(l.default.Leaf,v),_=o(w,1)[0];b=(0,g.default)(b,(0,f.bubbleFormats)(_))}c=a.default.attributes.diff(b,c)||{}}else if("object"===r(s.insert)){var k=Object.keys(s.insert)[0];if(null==k)return t;e.scroll.insertAt(t,k,s.insert[k])}i+=u}return Object.keys(c).forEach((function(n){e.scroll.formatAt(t,u,n,c[n])})),t+u}),0),t.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new s.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),s=e;i.forEach((function(e){var i=e.length();if(e instanceof u.default){var a=t-e.offset(n.scroll),l=e.newlineIndex(a+s)-a+1;e.formatAt(a,l,o,r[o])}else e.format(o,r[o]);s-=i}))}})),this.scroll.optimize(),this.update((new s.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e,o,r[o])})),this.update((new s.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new s.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=o(t,1)[0];e instanceof h.default?n.push(e):e instanceof l.default.Leaf&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(l.default.Leaf,t,e));var i=[n,r].map((function(t){if(0===t.length)return{};for(var e=(0,f.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=w((0,f.bubbleFormats)(n),e)}return e}));return g.default.apply(g.default,i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new s.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e.length,o,r[o])})),this.update((new s.default).retain(t).insert(e,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===h.default.blotName&&!(t.children.length>1)&&t.children.head instanceof d.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),i=o(r,2),a=i[0],l=i[1],c=0,f=new s.default;null!=a&&(c=a instanceof u.default?a.newlineIndex(l)-l+1:a.length()-l,f=a.delta().slice(l,l+c-1).insert("\n"));var h=this.getContents(t,e+c).diff((new s.default).insert(n).concat(f)),d=(new s.default).retain(t).concat(h);return this.applyDelta(d)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(v)&&l.default.find(e[0].target)){var o=l.default.find(e[0].target),i=(0,f.bubbleFormats)(o),a=o.offset(this.scroll),u=e[0].oldValue.replace(c.default.CONTENTS,""),h=(new s.default).insert(u),d=(new s.default).insert(o.value()),p=(new s.default).retain(a).concat(h.diff(d,n));t=p.reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new s.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,m.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function w(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}e.default=b},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(0)),s=u(n(21)),a=u(n(11)),l=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=(0,u(n(10)).default)("quill:selection"),d=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.index=e,this.length=n},p=function(){function t(e,n){var r=this;f(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,s=n.endNode,a=n.endOffset;r.setNativeRange(o,i,s,a)}})),this.update(l.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(t,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,i=this.scroll.leaf(t),s=r(i,2),a=s[0],l=s[1];if(null==a)return null;var u=a.position(l,!0),c=r(u,2);o=c[0],l=c[1];var f=document.createRange();if(e>0){f.setStart(o,l);var h=this.scroll.leaf(t+e),d=r(h,2);if(a=d[0],l=d[1],null==a)return null;var p=a.position(l,!0),m=r(p,2);return o=m[0],l=m[1],f.setEnd(o,l),f.getBoundingClientRect()}var g="left",y=void 0;return o instanceof Text?(l<o.data.length?(f.setStart(o,l),f.setEnd(o,l+1)):(f.setStart(o,l-1),f.setEnd(o,l),g="right"),y=f.getBoundingClientRect()):(y=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:y.top+y.height,height:y.height,left:y[g],right:y[g],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return h.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map((function(t){var n=r(t,2),o=n[0],s=n[1],a=i.default.find(o,!0),l=a.offset(e.scroll);return 0===s?l:a instanceof i.default.Container?l+a.length():l+a.index(o,s)})),s=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),a=Math.min.apply(Math,[s].concat(c(o)));return new d(a,s-a)}},{key:"normalizeNative",value:function(t){if(!m(this.root,t.startContainer)||!t.collapsed&&!m(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var s,a=e.scroll.leaf(t),l=r(a,2),u=l[0],c=l[1],f=u.position(c,0!==n),h=r(f,2);s=h[0],c=h[1],o.push(s,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,o)),s=r(i,1)[0],a=s;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,o));a=r(l,1)[0]}if(null!=s&&null!=a){var u=t.getBoundingClientRect();n.top<u.top?t.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(t.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||o||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,r),i.removeAllRanges(),i.addRange(a)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e&&(n=e,e=!1),h.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,c(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(e,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var f,h=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(e),t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(h)),t!==l.default.sources.SILENT&&(f=this.emitter).emit.apply(f,h)}}}]),t}();function m(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=d,e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(0);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((r=s)&&r.__esModule?r:{default:r}).default.Embed);u.blotName="break",u.tagName="BR",e.default=u},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),s=n(30),a=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=u(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof a.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,(function(n,r,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=s})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],s=[[this,t]];return o instanceof e?s.concat(o.path(i,n)):(null!=o&&s.push([o,i]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,o){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],o=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var r=u(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(s.default);function u(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=l},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),s=n(31),a=n(17),l=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new s.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=l.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(a.default);e.default=u},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=s.Scope.INLINE_BLOT,e}(i.default);e.default=a},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o(!0,{},e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,o){return r(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new s(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function s(t){this.ops=t,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=i},function(t,e){var n=function(){function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(t){e=function(){}}try{n=Set}catch(t){n=function(){}}try{r=Promise}catch(t){r=function(){}}function o(i,a,l,u,c){"object"==typeof a&&(l=a.depth,u=a.prototype,c=a.includeNonEnumerable,a=a.circular);var f=[],h=[],d="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===l&&(l=1/0),function i(l,p){if(null===l)return null;if(0===p)return l;var m,g;if("object"!=typeof l)return l;if(t(l,e))m=new e;else if(t(l,n))m=new n;else if(t(l,r))m=new r((function(t,e){l.then((function(e){t(i(e,p-1))}),(function(t){e(i(t,p-1))}))}));else if(o.__isArray(l))m=[];else if(o.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(o.__isDate(l))m=new Date(l.getTime());else{if(d&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;t(l,Error)?m=Object.create(l):void 0===u?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(u),g=u)}if(a){var y=f.indexOf(l);if(-1!=y)return h[y];f.push(l),h.push(m)}for(var v in t(l,e)&&l.forEach((function(t,e){var n=i(e,p-1),r=i(t,p-1);m.set(n,r)})),t(l,n)&&l.forEach((function(t){var e=i(t,p-1);m.add(e)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,v)),b&&null==b.set||(m[v]=i(l[v],p-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(v=0;v<w.length;v++){var _=w[v];(!(x=Object.getOwnPropertyDescriptor(l,_))||x.enumerable||c)&&(m[_]=i(l[_],p-1),x.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(c){var k=Object.getOwnPropertyNames(l);for(v=0;v<k.length;v++){var x,E=k[v];(x=Object.getOwnPropertyDescriptor(l,E))&&x.enumerable||(m[E]=i(l[E],p-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(i,l)}function i(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=i,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===i(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===i(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===i(t)},o.__getRegExpFlags=s,o}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=d(n(0)),a=d(n(8)),l=n(4),u=d(l),c=d(n(16)),f=d(n(13)),h=d(n(25));function d(t){return t&&t.__esModule?t:{default:t}}function p(t){return t instanceof u.default||t instanceof l.BlockEmbed}var m=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),s=r(o,2),a=s[0],u=s[1],h=this.line(t+n),d=r(h,1)[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=d&&a!==d&&u>0){if(a instanceof l.BlockEmbed||d instanceof l.BlockEmbed)return void this.optimize();if(a instanceof f.default){var p=a.newlineIndex(a.length(),!0);if(p>-1&&(a=a.split(p+1))===d)return void this.optimize()}else if(d instanceof f.default){var m=d.newlineIndex(0);m>-1&&d.split(m+1)}var g=d.children.head instanceof c.default?null:d.children.head;a.moveChildren(d,g),a.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==s.default.query(n,s.default.Scope.BLOCK)){var o=s.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var a=s.default.create(n,r);this.appendChild(a)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===s.default.Scope.INLINE_BLOT){var r=s.default.create(this.statics.defaultChild);r.appendChild(t),t=r}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(p,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,(function(e,n,r){p(e)?o.push(e):e instanceof s.default.Container&&(o=o.concat(t(e,n,i))),i-=r})),o};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=a.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,n,t)}}}]),e}(s.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[u.default,l.BlockEmbed,h.default],e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=m(n(21)),a=m(n(11)),l=m(n(3)),u=m(n(2)),c=m(n(20)),f=m(n(0)),h=m(n(5)),d=m(n(10)),p=m(n(9));function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=(0,d.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:e.keys.ENTER,shiftKey:null},E),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},_),r.addBinding({key:e.keys.DELETE},{collapsed:!0},k)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},k)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},x),r.addBinding({key:e.keys.DELETE},{collapsed:!1},x),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),r.listen(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"match",value:function(t,e){return e=A(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=A(t);if(null==r||null==r.key)return y.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=(0,l.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,s=(t.bindings[i]||[]).filter((function(t){return e.match(n,t)}));if(0!==s.length){var l=t.quill.getSelection();if(null!=l&&t.quill.hasFocus()){var u=t.quill.getLine(l.index),c=o(u,2),h=c[0],d=c[1],p=t.quill.getLeaf(l.index),m=o(p,2),g=m[0],y=m[1],v=0===l.length?[g,y]:t.quill.getLeaf(l.index+l.length),b=o(v,2),w=b[0],_=b[1],k=g instanceof f.default.Text?g.value().slice(0,y):"",x=w instanceof f.default.Text?w.value().slice(_):"",E={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:t.quill.getFormat(l),offset:d,prefix:k,suffix:x};s.some((function(e){if(null!=e.collapsed&&e.collapsed!==E.collapsed)return!1;if(null!=e.empty&&e.empty!==E.empty)return!1;if(null!=e.offset&&e.offset!==E.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==E.format[t]})))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=E.format[t]:!1===e.format[t]?null==E.format[t]:(0,a.default)(e.format[t],E.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(E.prefix)||null!=e.suffix&&!e.suffix.test(E.suffix)||!0===e.handler.call(t,l,E))}))&&n.preventDefault()}}}}))}}]),e}(p.default);function w(t,e){var n,r=t===b.keys.LEFT?"prefix":"suffix";return g(n={key:t,shiftKey:e,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;t===b.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof f.default.Embed&&(t===b.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),1))})),n}function _(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=o(n,1)[0],i={};if(0===e.offset){var s=this.quill.getLine(t.index-1),a=o(s,1)[0];if(null!=a&&a.length()>1){var l=r.formats(),u=this.quill.getFormat(t.index-1,1);i=c.default.attributes.diff(l,u)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-f,f,i,h.default.sources.USER),this.quill.focus()}}function k(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,s=this.quill.getLine(t.index),a=o(s,1)[0];if(e.offset>=a.length()-1){var l=this.quill.getLine(t.index+1),u=o(l,1)[0];if(u){var f=a.formats(),d=this.quill.getFormat(t.index,1);r=c.default.attributes.diff(f,d)||{},i=u.length()}}this.quill.deleteText(t.index,n,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,h.default.sources.USER)}}function x(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=c.default.attributes.diff(o,r)||{}}this.quill.deleteText(t,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,h.default.sources.USER),this.quill.setSelection(t.index,h.default.sources.SILENT),this.quill.focus()}function E(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce((function(t,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",r,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],h.default.sources.USER))}))}function O(t){return{key:b.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=f.default.query("code-block"),r=e.index,i=e.length,s=this.quill.scroll.descendant(n,r),a=o(s,2),l=a[0],u=a[1];if(null!=l){var c=this.quill.getIndex(l),d=l.newlineIndex(u,!0)+1,p=l.newlineIndex(c+u+i),m=l.domNode.textContent.slice(d,p).split("\n");u=0,m.forEach((function(e,o){t?(l.insertAt(d+u,n.TAB),u+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(d+u,n.TAB.length),u-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),u+=e.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(r,i,h.default.sources.SILENT)}}}}function N(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],h.default.sources.USER)}}}function A(t){if("string"==typeof t||"number"==typeof t)return A({key:t});if("object"===(void 0===t?"undefined":r(t))&&(t=(0,s.default)(t,!1)),"string"==typeof t.key)if(null!=b.keys[t.key.toUpperCase()])t.key=b.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[v]=t.shortKey,delete t.shortKey),t}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:N("bold"),italic:N("italic"),underline:N("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,h.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],s=(0,l.default)({},r.formats(),{list:"checked"}),a=(new u.default).retain(t.index).insert("\n",s).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=o(n,2),i=r[0],s=r[1],a=(new u.default).retain(t.index).insert("\n",e.format).retain(i.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),i=o(r,2),s=i[0],a=i[1];if(a>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",h.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(t.index-a).delete(n+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(c,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],s=(new u.default).retain(t.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,h.default.sources.USER)}},"embed left":w(b.keys.LEFT,!1),"embed left shift":w(b.keys.LEFT,!0),"embed right":w(b.keys.RIGHT,!1),"embed right shift":w(b.keys.RIGHT,!0)}},e.default=b,e.SHORTKEY=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=l(n(0)),a=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"value",value:function(){}}]),i(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,i=0;null!=r&&r.statics.scope!==s.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,l=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var u=[t,n.start.offset,n.end.offset];o=u[0],i=u[1],l=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof a.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var f=[i,l].map((function(t){return Math.max(0,Math.min(o.data.length,t-1))})),h=r(f,2);return i=h[0],l=h[1],{startNode:o,startOffset:i,endNode:o,endOffset:l}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}(s.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),o=n(4),i=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default.Container);u.allowedChildren=[i.default,o.BlockEmbed,u],e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),f=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),h=new c("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=c,e.ColorClass=f,e.ColorStyle=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return c(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((r=s)&&r.__esModule?r:{default:r}).default);function c(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=u,e.sanitize=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(23)),s=a(n(107));function a(t){return t&&t.__esModule?t:{default:t}}var l=0;function u(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case i.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case i.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=s.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(0)),o=y(n(5)),i=n(4),s=y(i),a=y(n(16)),l=y(n(25)),u=y(n(24)),c=y(n(35)),f=y(n(6)),h=y(n(22)),d=y(n(7)),p=y(n(55)),m=y(n(42)),g=y(n(23));function y(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":s.default,"blots/block/embed":i.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":f.default,"blots/scroll":h.default,"blots/text":d.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":g.default}),r.default.register(s.default,a.default,u.default,f.default,h.default,d.default),e.default=o.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var s=r.create(this.statics.scope);i.wrap(s),s.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create("text",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),s=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),a=i.default.keys(this.domNode);e.concat(n).concat(a).forEach((function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=a},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=s},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=a(n(0)),s=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var l="\ufeff",u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(l).join("");if(t===this.leftGuard)if(this.prev instanceof s.default){var o=this.prev.length();this.prev.insertAt(o,r),e={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=l,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}]),e}(i.default.Embed);e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new i.default.Attributor.Attribute("align","align",s),l=new i.default.Attributor.Class("align","ql-align",s),u=new i.default.Attributor.Style("align","text-align",s);e.AlignAttribute=a,e.AlignClass=l,e.AlignStyle=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s=n(26),a=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});e.BackgroundClass=a,e.BackgroundStyle=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},a=new i.default.Attributor.Attribute("direction","dir",s),l=new i.default.Attributor.Class("direction","ql-direction",s),u=new i.default.Attributor.Style("direction","direction",s);e.DirectionAttribute=a,e.DirectionClass=l,e.DirectionStyle=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new a.default.Attributor.Class("font","ql-font",c),h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style),d=new h("font","font-family",c);e.FontStyle=d,e.FontClass=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},s=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=a},function(t,e,n){t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(0)),i=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,(function(t,e,n,o){t!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(e):r.record(e,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],i.default.sources.USER),this.ignoreChange=!1;var r=l(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(s(n(9)).default);function l(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)})))}(t)&&(n-=1),n}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=a,e.getLastChangeIndex=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=p(n(3)),s=p(n(2)),a=p(n(8)),l=p(n(23)),u=p(n(34)),c=p(n(59)),f=p(n(60)),h=p(n(28)),d=p(n(61));function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],w=[!1,"serif","monospace"],_=["1","2","3",!1],k=["small",!1,"large","huge"],x=function(t){function e(t,n){m(this,e);var r=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,(function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))})),r}return y(e,t),r(e,[{key:"addModule",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&O(t,v),new f.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&O(t,b,"background"===n?"#ffffff":"#000000"),new c.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?O(t,w):t.classList.contains("ql-header")?O(t,_):t.classList.contains("ql-size")&&O(t,k)),new h.default(t)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),e}(u.default);x.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new s.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(r.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var E=function(t){function e(t,n){m(this,e);var r=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return y(e,t),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){l.default.match(e,"enter")?(t.save(),e.preventDefault()):l.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,a.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(d.default);function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)}))}e.BaseTooltip=E,e.default=x},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,o=this.find(t),i=o[0],s=t-o[1],a=this.iterator(i);(r=a())&&s<t+e;){var l=r.length();t>s?n(r,t-s,Math.min(e,s+l-t)):n(r,0,Math.min(l,t+e-s)),s+=l}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),s=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[s.DATA_KEY].mutations&&(t.domNode[s.DATA_KEY].mutations=[]),e&&a(t.parent))},l=function(t){null!=t.domNode[s.DATA_KEY]&&null!=t.domNode[s.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(l),t.optimize(n))},u=e,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(t){var e=s.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(s.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=s.find(t,!1);a(e,!1),e instanceof i.default&&e.children.forEach((function(t){a(t,!1)}))}))):"attributes"===t.type&&a(e.prev)),a(e))})),this.children.forEach(l),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=s.find(t.target,!0);return null==e?null:null==e.domNode[s.DATA_KEY].mutations?(e.domNode[s.DATA_KEY].mutations=[t],e):(e.domNode[s.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[s.DATA_KEY]&&t.update(t.domNode[s.DATA_KEY].mutations||[],n)})),null!=this.domNode[s.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=l},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,o){null!=this.formats()[r]||s.query(r,s.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=s.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=a},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var r=s.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=s.query(n,s.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,o){null!=s.query(r,s.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=s.query(n,s.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var o=this.split(e),i=s.create(n,r);o.parent.insertBefore(i,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=a},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=i},function(t,e,n){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),s=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=s.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=s.Scope.INLINE_BLOT,e}(i.default);e.default=a},function(t,e,n){var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1;function r(t,e,l){if(t==e)return t?[[0,t]]:[];(l<0||t.length<l)&&(l=null);var c=i(t,e),f=t.substring(0,c);c=s(t=t.substring(c),e=e.substring(c));var h=t.substring(t.length-c),d=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,u=t.length>e.length?e:t,c=l.indexOf(u);if(-1!=c)return a=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],t.length>e.length&&(a[0][0]=a[2][0]=n),a;if(1==u.length)return[[n,t],[1,e]];var f=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,a,l,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,f="";-1!=(c=e.indexOf(u,c+1));){var h=i(t.substring(n),e.substring(c)),d=s(t.substring(0,n),e.substring(0,c));f.length<d+h&&(f=e.substring(c-d,c)+e.substring(c,c+h),r=t.substring(0,n-d),o=t.substring(n+h),a=e.substring(0,c-d),l=e.substring(c+h))}return 2*f.length>=t.length?[r,o,a,l,f]:null}var a,l,u,c,f,h=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!h&&!d)return null;a=d?h&&h[4].length>d[4].length?h:d:h,t.length>e.length?(l=a[0],u=a[1],c=a[2],f=a[3]):(c=a[0],f=a[1],l=a[2],u=a[3]);var p=a[4];return[l,u,c,f,p]}(t,e);if(f){var h=f[0],d=f[1],p=f[2],m=f[3],g=f[4],y=r(h,p),v=r(d,m);return y.concat([[0,g]],v)}return function(t,e){for(var r=t.length,i=e.length,s=Math.ceil((r+i)/2),a=s,l=2*s,u=new Array(l),c=new Array(l),f=0;f<l;f++)u[f]=-1,c[f]=-1;u[a+1]=0,c[a+1]=0;for(var h=r-i,d=h%2!=0,p=0,m=0,g=0,y=0,v=0;v<s;v++){for(var b=-v+p;b<=v-m;b+=2){for(var w=a+b,_=(N=b==-v||b!=v&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-b;N<r&&_<i&&t.charAt(N)==e.charAt(_);)N++,_++;if(u[w]=N,N>r)m+=2;else if(_>i)p+=2;else if(d&&(E=a+h-b)>=0&&E<l&&-1!=c[E]&&N>=(x=r-c[E]))return o(t,e,N,_)}for(var k=-v+g;k<=v-y;k+=2){for(var x,E=a+k,O=(x=k==-v||k!=v&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-k;x<r&&O<i&&t.charAt(r-x-1)==e.charAt(i-O-1);)x++,O++;if(c[E]=x,x>r)y+=2;else if(O>i)g+=2;else if(!d){var N;if((w=a+h-k)>=0&&w<l&&-1!=u[w])if(_=a+(N=u[w])-w,N>=(x=r-x))return o(t,e,N,_)}}}return[[n,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-c),e=e.substring(0,e.length-c));return f&&d.unshift([0,f]),h&&d.push([0,h]),a(d),null!=l&&(d=function(t,e){var r=function(t,e){if(0===e)return[0,t];for(var r=0,o=0;o<t.length;o++){var i=t[o];if(i[0]===n||0===i[0]){var s=r+i[1].length;if(e===s)return[o+1,t];if(e<s){t=t.slice();var a=e-r,l=[i[0],i[1].slice(0,a)],u=[i[0],i[1].slice(a)];return t.splice(o,1,l,u),[o+1,t]}r=s}}throw new Error("cursor_pos is out of bounds!")}(t,e),o=r[1],i=r[0],s=o[i],a=o[i+1];if(null==s)return t;if(0!==s[0])return t;if(null!=a&&s[1]+a[1]===a[1]+s[1])return o.splice(i,2,a,s),u(o,i,2);if(null!=a&&0===a[1].indexOf(s[1])){o.splice(i,2,[a[0],s[1]],[0,s[1]]);var l=a[1].slice(s[1].length);return l.length>0&&o.splice(i+2,0,[a[0],l]),u(o,i,3)}return t}(d,l)),d=function(t){for(var e=!1,r=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},o=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},i=2;i<t.length;i+=1)0===t[i-2][0]&&o(t[i-2][1])&&t[i-1][0]===n&&r(t[i-1][1])&&1===t[i][0]&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;var s=[];for(i=0;i<t.length;i+=1)t[i][1].length>0&&s.push(t[i]);return s}(d)}function o(t,e,n,o){var i=t.substring(0,n),s=e.substring(0,o),a=t.substring(n),l=e.substring(o),u=r(i,s),c=r(a,l);return u.concat(c)}function i(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function s(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function a(t){t.push([0,""]);for(var e,r=0,o=0,l=0,u="",c="";r<t.length;)switch(t[r][0]){case 1:l++,c+=t[r][1],r++;break;case n:o++,u+=t[r][1],r++;break;case 0:o+l>1?(0!==o&&0!==l&&(0!==(e=i(c,u))&&(r-o-l>0&&0==t[r-o-l-1][0]?t[r-o-l-1][1]+=c.substring(0,e):(t.splice(0,0,[0,c.substring(0,e)]),r++),c=c.substring(e),u=u.substring(e)),0!==(e=s(c,u))&&(t[r][1]=c.substring(c.length-e)+t[r][1],c=c.substring(0,c.length-e),u=u.substring(0,u.length-e))),0===o?t.splice(r-l,o+l,[1,c]):0===l?t.splice(r-o,o+l,[n,u]):t.splice(r-o-l,o+l,[n,u],[1,c]),r=r-o-l+(o?1:0)+(l?1:0)+1):0!==r&&0==t[r-1][0]?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,l=0,o=0,u="",c=""}""===t[t.length-1][1]&&t.pop();var f=!1;for(r=1;r<t.length-1;)0==t[r-1][0]&&0==t[r+1][0]&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),f=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),f=!0)),r++;f&&a(t)}var l=r;function u(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]])}return t}l.INSERT=1,l.DELETE=n,l.EQUAL=0,t.exports=l},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e){var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,s=o.length,a=new Array(s);i<s;i++)a[i]=o[i].fn;return a},s.prototype.emit=function(t,e,n,o,i,s){var a=r?r+t:t;if(!this._events[a])return!1;var l,u,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,o),!0;case 5:return c.fn.call(c.context,e,n,o,i),!0;case 6:return c.fn.call(c.context,e,n,o,i,s),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,o);break;default:if(!l)for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(t,e,n){var o=new i(e,n||this),s=r?r+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},s.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),s=r?r+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):(this._events[s]=o,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==e||i&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[s]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,void 0!==t&&(t.exports=s)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=b(n(3)),a=b(n(2)),l=b(n(0)),u=b(n(5)),c=b(n(10)),f=b(n(9)),h=n(36),d=n(37),p=b(n(13)),m=n(26),g=n(38),y=n(39),v=n(40);function b(t){return t&&t.__esModule?t:{default:t}}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=(0,c.default)("quill:clipboard"),k="__ql-matcher",x=[[Node.TEXT_NODE,q],[Node.TEXT_NODE,R],["br",function(t,e){return M(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,j],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};return r.fontStyle&&"italic"===S(t).fontStyle&&(n.italic=!0),r.fontWeight&&(S(t).fontWeight.startsWith("bold")||parseInt(S(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=A(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new a.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=l.default.query(t);if(null==n||"list-item"!==n.blotName||!M(e,"\n"))return e;for(var r=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");)"list"===(l.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new a.default).retain(e.length()-1).retain(1,{indent:r}))}],["b",C.bind(C,"bold")],["i",C.bind(C,"italic")],["style",function(){return new a.default}]],E=[h.AlignAttribute,g.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),O=[h.AlignStyle,d.BackgroundStyle,m.ColorStyle,g.DirectionStyle,y.FontStyle,v.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),N=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],x.concat(r.options.matchers).forEach((function(t){var e=o(t,2),i=e[0],s=e[1];(n.matchVisual||s!==L)&&r.addMatcher(i,s)})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(n,w({},p.default.blotName,e[p.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),s=i[0],l=i[1],u=T(this.container,s,l);return M(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new a.default).retain(u.length()-1).delete(1))),_.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new a.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new a.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,u.default.sources.USER),e.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(r){var i=o(r,2),s=i[0],a=i[1];switch(s){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(s),(function(t){t[k]=t[k]||[],t[k].push(a)}))}})),[e,n]}}]),e}(f.default);function A(t,e,n){return"object"===(void 0===e?"undefined":r(e))?Object.keys(e).reduce((function(t,n){return A(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,s.default)({},w({},e,n),r.attributes))}),new a.default)}function S(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function M(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function P(t){if(0===t.childNodes.length)return!1;var e=S(t);return["block","list-item"].indexOf(e.display)>-1}function T(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new a.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,o){var i=T(o,e,n);return o.nodeType===t.ELEMENT_NODE&&(i=e.reduce((function(t,e){return e(o,t)}),i),i=(o[k]||[]).reduce((function(t,e){return e(o,t)}),i)),r.concat(i)}),new a.default):new a.default}function C(t,e,n){return A(n,t,!0)}function j(t,e){var n=l.default.Attributor.Attribute.keys(t),r=l.default.Attributor.Class.keys(t),o=l.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach((function(e){var n=l.default.query(e,l.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(null==(n=E[e])||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=O[e])||n.attrName!==e&&n.keyName!==e||(n=O[e],i[n.attrName]=n.value(t)||void 0))})),Object.keys(i).length>0&&(e=A(e,i)),e}function I(t,e){var n=l.default.query(t);if(null==n)return e;if(n.prototype instanceof l.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new a.default).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=A(e,n.blotName,n.formats(t)));return e}function R(t,e){return M(e,"\n")||(P(t)||e.length()>0&&t.nextSibling&&P(t.nextSibling))&&e.insert("\n"),e}function L(t,e){if(P(t)&&null!=t.nextElementSibling&&!M(e,"\n\n")){var n=t.offsetHeight+parseFloat(S(t).marginTop)+parseFloat(S(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function q(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!S(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&P(t.parentNode)||null!=t.previousSibling&&P(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&P(t.parentNode)||null!=t.nextSibling&&P(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}N.DEFAULTS={matchers:[],matchVisual:!0},e.default=N,e.matchAttributor=j,e.matchBlot=I,e.matchNewline=R,e.matchSpacing=L,e.matchText=q},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((r=s)&&r.__esModule?r:{default:r}).default);u.blotName="bold",u.tagName=["STRONG","B"],e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(2)),s=c(n(0)),a=c(n(5)),l=c(n(10)),u=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var h=(0,l.default)("quill:toolbar"),d=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var s=document.createElement("div");m(s,i.options.container),t.container.parentNode.insertBefore(s,t.container),i.container=s}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(t){i.addHandler(t,i.options.handlers[t])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(t){i.attach(t)})),i.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e){t===a.default.events.SELECTION_CHANGE&&i.update(e)})),i.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){var t=i.quill.selection.getRange(),e=r(t,1)[0];i.update(e)})),i):(o=h.error("Container required for toolbar",i.options),f(i,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn("ignoring attaching to disabled format",n,t);if(null==s.default.query(n))return void h.warn("ignoring attaching to nonexistent format",n,t)}var o="SELECT"===t.tagName?"change":"click";t.addEventListener(o,(function(o){var l=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),f=r(c,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,l);else if(s.default.query(n).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+n)))return;e.quill.updateContents((new i.default).retain(f.index).delete(f.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,l)),a.default.sources.USER)}else e.quill.format(n,l,a.default.sources.USER);e.update(f)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var o=r(n,2),i=o[0],s=o[1];if("SELECT"===s.tagName){var a=void 0;if(null==t)a=null;else if(null==e[i])a=s.querySelector("option[selected]");else if(!Array.isArray(e[i])){var l=e[i];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==t)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var u=e[i]===s.getAttribute("value")||null!=e[i]&&e[i].toString()===s.getAttribute("value")||null==e[i]&&!s.getAttribute("value");s.classList.toggle("ql-active",u)}else s.classList.toggle("ql-active",null!=e[i])}))}}]),e}(u.default);function p(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function m(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)p(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):p(n,e,r)}})),t.appendChild(n)}))}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=s.default.query(e,s.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,a.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",a.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",t,a.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,a.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,a.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,a.default.sources.USER):this.quill.format("list","unchecked",a.default.sources.USER):this.quill.format("list",t,a.default.sources.USER)}}},e.default=d,e.addControls=m},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(28),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"buildItem",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),e}(((r=s)&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(28),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((r=s)&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+"px"),o.bottom>r.bottom){var s=o.bottom-o.top,a=t.bottom-t.top+s;this.root.style.top=n-a+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=d(n(3)),a=d(n(8)),l=n(43),u=d(l),c=d(n(27)),f=n(15),h=d(n(41));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(t){function e(t,n){p(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return g(e,t),i(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)}))}}]),e}(u.default);v.DEFAULTS=(0,s.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(t){function e(t,n){p(this,e);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(e,t),i(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,a.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(e,n,o){if(null!=e){if(0===e.length&&o===a.default.sources.USER){var i=t.quill.scroll.descendant(c.default,e.index),s=r(i,2),l=s[0],u=s[1];if(null!=l){t.linkRange=new f.Range(e.index-u,l.length());var h=c.default.formats(l.domNode);return t.preview.textContent=h,t.preview.setAttribute("href",h),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=R(n(29)),o=n(36),i=n(38),s=n(64),a=R(n(65)),l=R(n(66)),u=n(67),c=R(u),f=n(37),h=n(26),d=n(39),p=n(40),m=R(n(56)),g=R(n(68)),y=R(n(27)),v=R(n(69)),b=R(n(70)),w=R(n(71)),_=R(n(72)),k=R(n(73)),x=n(13),E=R(x),O=R(n(74)),N=R(n(75)),A=R(n(57)),S=R(n(41)),M=R(n(28)),P=R(n(59)),T=R(n(60)),C=R(n(61)),j=R(n(108)),I=R(n(62));function R(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":s.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":d.FontClass,"formats/size":p.SizeClass,"formats/blockquote":a.default,"formats/code-block":E.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":m.default,"formats/code":x.Code,"formats/italic":g.default,"formats/link":y.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":w.default,"formats/image":_.default,"formats/video":k.default,"formats/list/item":u.ListItem,"modules/formula":O.default,"modules/syntax":N.default,"modules/toolbar":A.default,"themes/bubble":j.default,"themes/snow":I.default,"ui/icons":S.default,"ui/picker":M.default,"ui/icon-picker":T.default,"ui/color-picker":P.default,"ui/tooltip":C.default},!0),e.default=r.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class),f=new c("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(4);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return i(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName="blockquote",a.tagName="blockquote",e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((r=i)&&r.__esModule?r:{default:r}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=l(n(0)),s=l(n(4)),a=l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:"format",value:function(t,n){t!==d.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(s.default);h.blotName="list-item",h.tagName="LI";var d=function(t){function e(t){u(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=i.default.find(e.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return f(e,t),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof h)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(t,i)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(a.default);d.blotName="list",d.scope=i.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[h],e.ListItem=h,e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(56);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return i(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName="italic",a.tagName=["EM","I"],e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((r=s)&&r.__esModule?r:{default:r}).default);u.blotName="script",u.tagName=["SUB","SUP"],e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return i(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName="strike",a.tagName="S",e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return i(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName="underline",a.tagName="U",e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r},l=n(27);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=["alt","height","width"],h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,l.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.default.Embed);h.blotName="image",h.tagName="IMG",e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=n(4),a=n(27),l=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=["height","width"],h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return l.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=l(n(35)),s=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,null,[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(i.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var d=function(t){function e(){u(this,e);var t=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return f(e,t),r(e,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),e}(a.default);e.FormulaBlot=h,e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},i=l(n(0)),s=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(l(n(13)).default);h.className="ql-syntax";var d=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),p=function(t){function e(t,n){u(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){r.highlight(),o=null}),r.options.interval)})),r.highlight(),r}return f(e,t),r(e,null,[{key:"register",value:function(){s.default.register(d,!0),s.default.register(h,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(s.default.sources.SILENT),null!=e&&this.quill.setSelection(e,s.default.sources.SILENT)}}}]),e}(a.default);p.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=h,e.CodeToken=d,e.default=p},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(3)),s=f(n(8)),a=n(43),l=f(a),u=n(15),c=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return p(e,t),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new y(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),c.default)}}]),e}(l.default);g.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var y=function(t){function e(t,n){h(this,e);var r=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e,n,o){if(t===s.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===s.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(e.index,e.length);if(1===i.length)r.position(r.quill.getBounds(e));else{var a=i[i.length-1],l=r.quill.getIndex(a),c=Math.min(a.length()-1,e.index+e.length-l),f=r.quill.getBounds(new u.Range(l,c));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return p(e,t),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}(a.BaseTooltip);y.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=y,e.default=g},function(t,e,n){t.exports=n(63)}]).default},t.exports=n()})),Rc=Qe(Ic),Lc=Object.freeze(t({__proto__:null,default:Rc},[Ic]));return jc}();
//# sourceMappingURL=bundle.js.map
